!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=30)}([function(t,e){t.exports=function(t,e,n,i,r,a){var o,s=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(o=t,s=t.default);var c,l="function"==typeof s?s.options:s;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),r&&(l._scopeId=r),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):i&&(c=i),c){var h=l.functional,d=h?l.render:l.beforeCreate;h?(l._injectStyles=c,l.render=function(t,e){return c.call(e),d(t,e)}):l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:o,exports:s,options:l}}},function(t,e,n){"use strict";var i=n(25),r=n(181),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===a.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(a).concat([r]).join("\n")}var o;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n(56),a={},o=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,c=!1,l=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t){for(var e=0;e<t.length;e++){var n=t[e],i=a[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(v(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(v(n.parts[r]));a[n.id]={id:n.id,refs:1,parts:o}}}}function m(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function v(t){var e,n,i=document.querySelector("style["+d+'~="'+t.id+'"]');if(i){if(c)return l;i.parentNode.removeChild(i)}if(f){var r=u++;i=s||(s=m()),e=_.bind(null,i,r,!1),n=_.bind(null,i,r,!0)}else i=m(),e=function(t,e){var n=e.css,i=e.media,r=e.sourceMap;i&&t.setAttribute("media",i);h.ssrId&&t.setAttribute(d,e.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}t.exports=function(t,e,n,i){c=n,h=i||{};var o=r(t,e);return p(o),function(e){for(var n=[],i=0;i<o.length;i++){var s=o[i];(u=a[s.id]).refs--,n.push(u)}e?p(o=r(t,e)):o=[];for(i=0;i<n.length;i++){var u;if(0===(u=n[i]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete a[u.id]}}}};var g,y=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function _(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}},function(t,e,n){"use strict";var i=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,a;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){t={}}}};i.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},i.prototype.push=function(t){this.trigger("data",t)},i.prototype.flush=function(t){this.trigger("done",t)},t.exports=i},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n="Webkit Moz O ms".split(" "),i=.001;function r(t,e,i){for(var r=t.style,o=0;o<n.length;++o){r[n[o]+a(e)]=i}r[e]=i}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t){return!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)&&("object"===typeof t&&!!t)}function s(t,e){for(var n in t){if(t.hasOwnProperty(n))e(t[n],n)}}t.exports={extend:function t(e,n,i){for(var r in e=e||{},n=n||{},i=i||!1,n)if(n.hasOwnProperty(r)){var a=e[r],s=n[r];i&&o(a)&&o(s)?e[r]=t(a,s,i):e[r]=s}return e},render:function(t,e){var n=t;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],a=new RegExp("\\{"+i+"\\}","g");n=n.replace(a,r)}return n},setStyle:r,setStyles:function(t,e){s(e,function(e,n){null!==e&&void 0!==e&&(o(e)&&!0===e.prefix?r(t,n,e.value):t.style[n]=e)})},capitalize:a,isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isObject:o,forEachObject:s,floatEquals:function(t,e){return Math.abs(t-e)<i},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},function(t,e,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(t,e,n){"use strict";(function(t,n){var i=Object.freeze({});function r(t){return void 0===t||null===t}function a(t){return void 0!==t&&null!==t}function o(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function h(t){return"[object RegExp]"===c.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var v=m("slot,component",!0),g=m("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function b(t,e){return _.call(t,e)}function w(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var T=/-(\w)/g,S=w(function(t){return t.replace(T,function(t,e){return e?e.toUpperCase():""})}),E=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),k=/\B([A-Z])/g,x=w(function(t){return t.replace(k,"-$1").toLowerCase()});var C=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function A(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function O(t,e){for(var n in e)t[n]=e[n];return t}function P(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function I(t,e,n){}var L=function(t,e,n){return!1},M=function(t){return t};function D(t,e){if(t===e)return!0;var n=u(t),i=u(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every(function(t,n){return D(t,e[n])});if(r||a)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every(function(n){return D(t[n],e[n])})}catch(t){return!1}}function R(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var U="data-server-rendered",j=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:I,parsePlatformTagName:M,mustUseProp:L,_lifecycleHooks:B};function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var V=/[^\w.$]/;var $,z="__proto__"in{},W="undefined"!=typeof window,G="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Y=G&&WXEnvironment.platform.toLowerCase(),X=W&&window.navigator.userAgent.toLowerCase(),K=X&&/msie|trident/.test(X),Q=X&&X.indexOf("msie 9.0")>0,J=X&&X.indexOf("edge/")>0,Z=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===Y),tt=(X&&/chrome\/\d+/.test(X),{}.watch),et=!1;if(W)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){et=!0}}),window.addEventListener("test-passive",null,nt)}catch(t){}var it=function(){return void 0===$&&($=!W&&!G&&void 0!==t&&"server"===t.process.env.VUE_ENV),$},rt=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"==typeof t&&/native code/.test(t.toString())}var ot,st="undefined"!=typeof Symbol&&at(Symbol)&&"undefined"!=typeof Reflect&&at(Reflect.ownKeys);ot="undefined"!=typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=I,ct=0,lt=function(){this.id=ct++,this.subs=[]};lt.prototype.addSub=function(t){this.subs.push(t)},lt.prototype.removeSub=function(t){y(this.subs,t)},lt.prototype.depend=function(){lt.target&&lt.target.addDep(this)},lt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},lt.target=null;var ht=[];function dt(t){lt.target&&ht.push(lt.target),lt.target=t}function ft(){lt.target=ht.pop()}var pt=function(t,e,n,i,r,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},mt={child:{configurable:!0}};mt.child.get=function(){return this.componentInstance},Object.defineProperties(pt.prototype,mt);var vt=function(t){void 0===t&&(t="");var e=new pt;return e.text=t,e.isComment=!0,e};function gt(t){return new pt(void 0,void 0,void 0,String(t))}function yt(t){var e=new pt(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.isCloned=!0,e}var _t=Array.prototype,bt=Object.create(_t);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=_t[t];q(bt,t,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&o.observeArray(r),o.dep.notify(),a})});var wt=Object.getOwnPropertyNames(bt),Tt=!0;function St(t){Tt=t}var Et=function(t){(this.value=t,this.dep=new lt,this.vmCount=0,q(t,"__ob__",this),Array.isArray(t))?((z?kt:xt)(t,bt,wt),this.observeArray(t)):this.walk(t)};function kt(t,e,n){t.__proto__=e}function xt(t,e,n){for(var i=0,r=n.length;i<r;i++){var a=n[i];q(t,a,e[a])}}function Ct(t,e){var n;if(u(t)&&!(t instanceof pt))return b(t,"__ob__")&&t.__ob__ instanceof Et?n=t.__ob__:Tt&&!it()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Et(t)),e&&n&&n.vmCount++,n}function At(t,e,n,i,r){var a=new lt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get;s||2!==arguments.length||(n=t[e]);var u=o&&o.set,c=!r&&Ct(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return lt.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,i=0,r=e.length;i<r;i++)(n=e[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!=e&&i!=i||(u?u.call(t,e):n=e,c=!r&&Ct(e),a.notify())}})}}function Ot(t,e,n){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(At(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Pt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}Et.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)At(t,e[n])},Et.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ct(t[e])};var It=F.optionMergeStrategies;function Lt(t,e){if(!e)return t;for(var n,i,r,a=Object.keys(e),o=0;o<a.length;o++)i=t[n=a[o]],r=e[n],b(t,n)?l(i)&&l(r)&&Lt(i,r):Ot(t,n,r);return t}function Mt(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,r="function"==typeof t?t.call(n,n):t;return i?Lt(i,r):r}:e?t?function(){return Lt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Rt(t,e,n,i){var r=Object.create(t||null);return e?O(r,e):r}It.data=function(t,e,n){return n?Mt(t,e,n):e&&"function"!=typeof e?t:Mt(t,e)},B.forEach(function(t){It[t]=Dt}),j.forEach(function(t){It[t+"s"]=Rt}),It.watch=function(t,e,n,i){if(t===tt&&(t=void 0),e===tt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var a in O(r,t),e){var o=r[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},It.props=It.methods=It.inject=It.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return O(r,t),e&&O(r,e),r},It.provide=Mt;var Nt=function(t,e){return void 0===e?t:e};function Ut(t,e,n){"function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var i,r,a={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(a[S(r)]={type:null});else if(l(n))for(var o in n)r=n[o],a[S(o)]=l(r)?r:{type:r};t.props=a}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var a in n){var o=n[a];i[a]=l(o)?O({from:a},o):{from:o}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(e);var i=e.extends;if(i&&(t=Ut(t,i,n)),e.mixins)for(var r=0,a=e.mixins.length;r<a;r++)t=Ut(t,e.mixins[r],n);var o,s={};for(o in t)u(o);for(o in e)b(t,o)||u(o);function u(i){var r=It[i]||Nt;s[i]=r(t[i],e[i],n,i)}return s}function jt(t,e,n,i){if("string"==typeof n){var r=t[e];if(b(r,n))return r[n];var a=S(n);if(b(r,a))return r[a];var o=E(a);return b(r,o)?r[o]:r[n]||r[a]||r[o]}}function Bt(t,e,n,i){var r=e[t],a=!b(n,t),o=n[t],s=qt(Boolean,r.type);if(s>-1)if(a&&!b(r,"default"))o=!1;else if(""===o||o===x(t)){var u=qt(String,r.type);(u<0||s<u)&&(o=!0)}if(void 0===o){o=function(t,e,n){if(!b(e,"default"))return;var i=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof i&&"Function"!==Ft(e.type)?i.call(t):i}(i,r,t);var c=Tt;St(!0),Ct(o),St(c)}return o}function Ft(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ht(t,e){return Ft(t)===Ft(e)}function qt(t,e){if(!Array.isArray(e))return Ht(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Ht(e[n],t))return n;return-1}function Vt(t,e,n){if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{if(!1===r[a].call(i,t,e,n))return}catch(t){$t(t,i,"errorCaptured hook")}}$t(t,e,n)}function $t(t,e,n){if(F.errorHandler)try{return F.errorHandler.call(null,t,e,n)}catch(t){zt(t,null,"config.errorHandler")}zt(t,e,n)}function zt(t,e,n){if(!W&&!G||"undefined"==typeof console)throw t;console.error(t)}var Wt,Gt,Yt=[],Xt=!1;function Kt(){Xt=!1;var t=Yt.slice(0);Yt.length=0;for(var e=0;e<t.length;e++)t[e]()}var Qt=!1;if(void 0!==n&&at(n))Gt=function(){n(Kt)};else if("undefined"==typeof MessageChannel||!at(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Gt=function(){setTimeout(Kt,0)};else{var Jt=new MessageChannel,Zt=Jt.port2;Jt.port1.onmessage=Kt,Gt=function(){Zt.postMessage(1)}}if("undefined"!=typeof Promise&&at(Promise)){var te=Promise.resolve();Wt=function(){te.then(Kt),Z&&setTimeout(I)}}else Wt=Gt;function ee(t,e){var n;if(Yt.push(function(){if(t)try{t.call(e)}catch(t){Vt(t,e,"nextTick")}else n&&n(e)}),Xt||(Xt=!0,Qt?Gt():Wt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var ne=new ot;function ie(t){!function t(e,n){var i,r;var a=Array.isArray(e);if(!a&&!u(e)||Object.isFrozen(e)||e instanceof pt)return;if(e.__ob__){var o=e.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(a)for(i=e.length;i--;)t(e[i],n);else for(r=Object.keys(e),i=r.length;i--;)t(e[r[i]],n)}(t,ne),ne.clear()}var re,ae=w(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}});function oe(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var i=n.slice(),r=0;r<i.length;r++)i[r].apply(null,t)}return e.fns=t,e}function se(t,e,n,i,a){var o,s,u,c;for(o in t)s=t[o],u=e[o],c=ae(o),r(s)||(r(u)?(r(s.fns)&&(s=t[o]=oe(s)),n(c.name,s,c.once,c.capture,c.passive,c.params)):s!==u&&(u.fns=s,t[o]=u));for(o in e)r(t[o])&&i((c=ae(o)).name,e[o],c.capture)}function ue(t,e,n){var i;t instanceof pt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),y(i.fns,u)}r(s)?i=oe([u]):a(s.fns)&&o(s.merged)?(i=s).fns.push(u):i=oe([s,u]),i.merged=!0,t[e]=i}function ce(t,e,n,i,r){if(a(e)){if(b(e,n))return t[n]=e[n],r||delete e[n],!0;if(b(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function le(t){return s(t)?[gt(t)]:Array.isArray(t)?function t(e,n){var i=[];var u,c,l,h;for(u=0;u<e.length;u++)r(c=e[u])||"boolean"==typeof c||(l=i.length-1,h=i[l],Array.isArray(c)?c.length>0&&(he((c=t(c,(n||"")+"_"+u))[0])&&he(h)&&(i[l]=gt(h.text+c[0].text),c.shift()),i.push.apply(i,c)):s(c)?he(h)?i[l]=gt(h.text+c):""!==c&&i.push(gt(c)):he(c)&&he(h)?i[l]=gt(h.text+c.text):(o(e._isVList)&&a(c.tag)&&r(c.key)&&a(n)&&(c.key="__vlist"+n+"_"+u+"__"),i.push(c)));return i}(t):void 0}function he(t){return a(t)&&a(t.text)&&!1===t.isComment}function de(t,e){return(t.__esModule||st&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function fe(t){return t.isComment&&t.asyncFactory}function pe(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||fe(n)))return n}}function me(t,e,n){n?re.$once(t,e):re.$on(t,e)}function ve(t,e){re.$off(t,e)}function ge(t,e,n){re=t,se(e,n||{},me,ve),re=void 0}function ye(t,e){var n={};if(!t)return n;for(var i=0,r=t.length;i<r;i++){var a=t[i],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children||[]):u.push(a)}}for(var c in n)n[c].every(_e)&&delete n[c];return n}function _e(t){return t.isComment&&!t.asyncFactory||" "===t.text}function be(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?be(t[n],e):e[t[n].key]=t[n].fn;return e}var we=null;function Te(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Se(t,e){if(e){if(t._directInactive=!1,Te(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Se(t.$children[n]);Ee(t,"activated")}}function Ee(t,e){dt();var n=t.$options[e];if(n)for(var i=0,r=n.length;i<r;i++)try{n[i].call(t)}catch(n){Vt(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),ft()}var ke=[],xe=[],Ce={},Ae=!1,Oe=!1,Pe=0;function Ie(){var t,e;for(Oe=!0,ke.sort(function(t,e){return t.id-e.id}),Pe=0;Pe<ke.length;Pe++)e=(t=ke[Pe]).id,Ce[e]=null,t.run();var n=xe.slice(),i=ke.slice();Pe=ke.length=xe.length=0,Ce={},Ae=Oe=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Se(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&Ee(i,"updated")}}(i),rt&&F.devtools&&rt.emit("flush")}var Le=0,Me=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Le,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ot,this.newDepIds=new ot,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!V.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Me.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Vt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),ft(),this.cleanupDeps()}return t},Me.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Me.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Me.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Ce[e]){if(Ce[e]=!0,Oe){for(var n=ke.length-1;n>Pe&&ke[n].id>t.id;)n--;ke.splice(n+1,0,t)}else ke.push(t);Ae||(Ae=!0,ee(Ie))}}(this)},Me.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Vt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Me.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Me.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Me.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var De={enumerable:!0,configurable:!0,get:I,set:I};function Re(t,e,n){De.get=function(){return this[e][n]},De.set=function(t){this[e][n]=t},Object.defineProperty(t,n,De)}function Ne(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[];t.$parent&&St(!1);var a=function(a){r.push(a);var o=Bt(a,e,n,t);At(i,a,o),a in t||Re(t,"_props",a)};for(var o in e)a(o);St(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?I:C(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){dt();try{return t.call(e,e)}catch(t){return Vt(t,e,"data()"),{}}finally{ft()}}(e,t):e||{})||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);for(;r--;){var a=n[r];0,i&&b(i,a)||H(a)||Re(t,"_data",a)}Ct(e,!0)}(t):Ct(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=it();for(var r in e){var a=e[r],o="function"==typeof a?a:a.get;0,i||(n[r]=new Me(t,o||I,I,Ue)),r in t||je(t,r,a)}}(t,e.computed),e.watch&&e.watch!==tt&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Fe(t,n,i[r]);else Fe(t,n,i)}}(t,e.watch)}var Ue={lazy:!0};function je(t,e,n){var i=!it();"function"==typeof n?(De.get=i?Be(e):n,De.set=I):(De.get=n.get?i&&!1!==n.cache?Be(e):n.get:I,De.set=n.set?n.set:I),Object.defineProperty(t,e,De)}function Be(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),lt.target&&e.depend(),e.value}}function Fe(t,e,n,i){return l(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}function He(t,e){if(t){for(var n=Object.create(null),i=st?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<i.length;r++){for(var a=i[r],o=t[a].from,s=e;s;){if(s._provided&&b(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[a]){var u=t[a].default;n[a]="function"==typeof u?u.call(e):u}else 0}return n}}function qe(t,e){var n,i,r,o,s;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(u(t))for(o=Object.keys(t),n=new Array(o.length),i=0,r=o.length;i<r;i++)s=o[i],n[i]=e(t[s],s,i);return a(n)&&(n._isVList=!0),n}function Ve(t,e,n,i){var r,a=this.$scopedSlots[t];if(a)n=n||{},i&&(n=O(O({},i),n)),r=a(n)||e;else{var o=this.$slots[t];o&&(o._rendered=!0),r=o||e}var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function $e(t){return jt(this.$options,"filters",t)||M}function ze(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function We(t,e,n,i,r){var a=F.keyCodes[e]||n;return r&&i&&!F.keyCodes[e]?ze(r,i):a?ze(a,t):i?x(i)!==e:void 0}function Ge(t,e,n,i,r){if(n)if(u(n)){var a;Array.isArray(n)&&(n=P(n));var o=function(o){if("class"===o||"style"===o||g(o))a=t;else{var s=t.attrs&&t.attrs.type;a=i||F.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}o in a||(a[o]=n[o],r&&((t.on||(t.on={}))["update:"+o]=function(t){n[o]=t}))};for(var s in n)o(s)}else;return t}function Ye(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(Ke(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i)}function Xe(t,e,n){return Ke(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ke(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Qe(t[i],e+"_"+i,n);else Qe(t,e,n)}function Qe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Je(t,e){if(e)if(l(e)){var n=t.on=t.on?O({},t.on):{};for(var i in e){var r=n[i],a=e[i];n[i]=r?[].concat(r,a):a}}else;return t}function Ze(t){t._o=Xe,t._n=p,t._s=f,t._l=qe,t._t=Ve,t._q=D,t._i=R,t._m=Ye,t._f=$e,t._k=We,t._b=Ge,t._v=gt,t._e=vt,t._u=be,t._g=Je}function tn(t,e,n,r,a){var s,u=a.options;b(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var c=o(u._compiled),l=!c;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=He(u.inject,r),this.slots=function(){return ye(n,r)},c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||i),u._scopeId?this._c=function(t,e,n,i){var a=cn(s,t,e,n,i,l);return a&&!Array.isArray(a)&&(a.fnScopeId=u._scopeId,a.fnContext=r),a}:this._c=function(t,e,n,i){return cn(s,t,e,n,i,l)}}function en(t,e,n,i){var r=yt(t);return r.fnContext=n,r.fnOptions=i,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function nn(t,e){for(var n in e)t[S(n)]=e[n]}Ze(tn.prototype);var rn={init:function(t,e,n,i){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;rn.prepatch(r,r)}else{(t.componentInstance=function(t,e,n,i){var r={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:n||null,_refElm:i||null},o=t.data.inlineTemplate;a(o)&&(r.render=o.render,r.staticRenderFns=o.staticRenderFns);return new t.componentOptions.Ctor(r)}(t,we,n,i)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,a){var o=!!(a||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==i);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=a,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){St(!1);for(var s=t._props,u=t.$options._propKeys||[],c=0;c<u.length;c++){var l=u[c],h=t.$options.props;s[l]=Bt(l,h,e,t)}St(!0),t.$options.propsData=e}n=n||i;var d=t.$options._parentListeners;t.$options._parentListeners=n,ge(t,n,d),o&&(t.$slots=ye(a,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Ee(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,xe.push(e)):Se(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,Te(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);Ee(e,"deactivated")}}(e,!0):e.$destroy())}},an=Object.keys(rn);function on(t,e,n,s,c){if(!r(t)){var l=n.$options._base;if(u(t)&&(t=l.extend(t)),"function"==typeof t){var h;if(r(t.cid)&&void 0===(t=function(t,e,n){if(o(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;if(o(t.loading)&&a(t.loadingComp))return t.loadingComp;if(!a(t.contexts)){var i=t.contexts=[n],s=!0,c=function(){for(var t=0,e=i.length;t<e;t++)i[t].$forceUpdate()},l=N(function(n){t.resolved=de(n,e),s||c()}),h=N(function(e){a(t.errorComp)&&(t.error=!0,c())}),d=t(l,h);return u(d)&&("function"==typeof d.then?r(t.resolved)&&d.then(l,h):a(d.component)&&"function"==typeof d.component.then&&(d.component.then(l,h),a(d.error)&&(t.errorComp=de(d.error,e)),a(d.loading)&&(t.loadingComp=de(d.loading,e),0===d.delay?t.loading=!0:setTimeout(function(){r(t.resolved)&&r(t.error)&&(t.loading=!0,c())},d.delay||200)),a(d.timeout)&&setTimeout(function(){r(t.resolved)&&h(null)},d.timeout))),s=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(n)}(h=t,l,n)))return function(t,e,n,i,r){var a=vt();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:i,tag:r},a}(h,e,n,s,c);e=e||{},hn(t),a(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var r=e.on||(e.on={});a(r[i])?r[i]=[e.model.callback].concat(r[i]):r[i]=e.model.callback}(t.options,e);var d=function(t,e,n){var i=e.options.props;if(!r(i)){var o={},s=t.attrs,u=t.props;if(a(s)||a(u))for(var c in i){var l=x(c);ce(o,u,c,l,!0)||ce(o,s,c,l,!1)}return o}}(e,t);if(o(t.options.functional))return function(t,e,n,r,o){var s=t.options,u={},c=s.props;if(a(c))for(var l in c)u[l]=Bt(l,c,e||i);else a(n.attrs)&&nn(u,n.attrs),a(n.props)&&nn(u,n.props);var h=new tn(n,u,o,r,t),d=s.render.call(null,h._c,h);if(d instanceof pt)return en(d,n,h.parent,s);if(Array.isArray(d)){for(var f=le(d)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=en(f[m],n,h.parent,s);return p}}(t,d,e,n,s);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<an.length;n++){var i=an[n];e[i]=rn[i]}}(e);var m=t.options.name||c;return new pt("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:d,listeners:f,tag:c,children:s},h)}}}var sn=1,un=2;function cn(t,e,n,i,c,l){return(Array.isArray(n)||s(n))&&(c=i,i=n,n=void 0),o(l)&&(c=un),function(t,e,n,i,s){if(a(n)&&a(n.__ob__))return vt();a(n)&&a(n.is)&&(e=n.is);if(!e)return vt();0;Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0);s===un?i=le(i):s===sn&&(i=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(i));var c,l;if("string"==typeof e){var h;l=t.$vnode&&t.$vnode.ns||F.getTagNamespace(e),c=F.isReservedTag(e)?new pt(F.parsePlatformTagName(e),n,i,void 0,void 0,t):a(h=jt(t.$options,"components",e))?on(h,n,t,i,e):new pt(e,n,i,void 0,void 0,t)}else c=on(e,n,t,i);return Array.isArray(c)?c:a(c)?(a(l)&&function t(e,n,i){e.ns=n;"foreignObject"===e.tag&&(n=void 0,i=!0);if(a(e.children))for(var s=0,u=e.children.length;s<u;s++){var c=e.children[s];a(c.tag)&&(r(c.ns)||o(i)&&"svg"!==c.tag)&&t(c,n,i)}}(c,l),a(n)&&function(t){u(t.style)&&ie(t.style);u(t.class)&&ie(t.class)}(n),c):vt()}(t,e,n,i,c)}var ln=0;function hn(t){var e=t.options;if(t.super){var n=hn(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.extendOptions,r=t.sealedOptions;for(var a in n)n[a]!==r[a]&&(e||(e={}),e[a]=dn(n[a],i[a],r[a]));return e}(t);i&&O(t.extendOptions,i),(e=t.options=Ut(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function dn(t,e,n){if(Array.isArray(t)){var i=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||n.indexOf(t[r])<0)&&i.push(t[r]);return i}return t}function fn(t){this._init(t)}function pn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var a=t.name||n.options.name;var o=function(t){this._init(t)};return(o.prototype=Object.create(n.prototype)).constructor=o,o.cid=e++,o.options=Ut(n.options,t),o.super=n,o.options.props&&function(t){var e=t.options.props;for(var n in e)Re(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)je(t.prototype,n,e[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,j.forEach(function(t){o[t]=n[t]}),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=O({},o.options),r[i]=o,o}}function mn(t){return t&&(t.Ctor.options.name||t.tag)}function vn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function gn(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var a in n){var o=n[a];if(o){var s=mn(o.componentOptions);s&&!e(s)&&yn(n,a,i,r)}}}function yn(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,y(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=ln++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i,n._parentElm=e._parentElm,n._refElm=e._refElm;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Ut(hn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&ge(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=ye(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,n,i,r){return cn(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return cn(t,e,n,i,r,!0)};var a=n&&n.data;At(t,"$attrs",a&&a.attrs||i,null,!0),At(t,"$listeners",e._parentListeners||i,null,!0)}(e),Ee(e,"beforeCreate"),function(t){var e=He(t.$options.inject,t);e&&(St(!1),Object.keys(e).forEach(function(n){At(t,n,e[n])}),St(!0))}(e),Ne(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),Ee(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(fn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ot,t.prototype.$delete=Pt,t.prototype.$watch=function(t,e,n){if(l(e))return Fe(this,t,e,n);(n=n||{}).user=!0;var i=new Me(this,t,e,n);return n.immediate&&e.call(this,i.value),function(){i.teardown()}}}(fn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)this.$on(t[i],n);else(this._events[t]||(this._events[t]=[])).push(n),e.test(t)&&(this._hasHookEvent=!0);return this},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)this.$off(t[i],e);return n}var a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;if(e)for(var o,s=a.length;s--;)if((o=a[s])===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?A(n):n;for(var i=A(arguments,1),r=0,a=n.length;r<a;r++)try{n[r].apply(e,i)}catch(n){Vt(n,e,'event handler for "'+t+'"')}}return e}}(fn),function(t){t.prototype._update=function(t,e){var n=this;n._isMounted&&Ee(n,"beforeUpdate");var i=n.$el,r=n._vnode,a=we;we=n,n._vnode=t,r?n.$el=n.__patch__(r,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),we=a,i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ee(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ee(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(fn),function(t){Ze(t.prototype),t.prototype.$nextTick=function(t){return ee(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,a=n._parentVnode;a&&(e.$scopedSlots=a.data.scopedSlots||i),e.$vnode=a;try{t=r.call(e._renderProxy,e.$createElement)}catch(n){Vt(n,e,"render"),t=e._vnode}return t instanceof pt||(t=vt()),t.parent=a,t}}(fn);var _n=[String,RegExp,Array],bn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:_n,exclude:_n,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)yn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){gn(t,function(t){return vn(e,t)})}),this.$watch("exclude",function(e){gn(t,function(t){return!vn(e,t)})})},render:function(){var t=this.$slots.default,e=pe(t),n=e&&e.componentOptions;if(n){var i=mn(n),r=this.include,a=this.exclude;if(r&&(!i||!vn(r,i))||a&&i&&vn(a,i))return e;var o=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;o[u]?(e.componentInstance=o[u].componentInstance,y(s,u),s.push(u)):(o[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&yn(o,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return F}};Object.defineProperty(t,"config",e),t.util={warn:ut,extend:O,mergeOptions:Ut,defineReactive:At},t.set=Ot,t.delete=Pt,t.nextTick=ee,t.options=Object.create(null),j.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,O(t.options.components,bn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=A(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Ut(this.options,t),this}}(t),pn(t),function(t){j.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(fn),Object.defineProperty(fn.prototype,"$isServer",{get:it}),Object.defineProperty(fn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(fn,"FunctionalRenderContext",{value:tn}),fn.version="2.5.17";var wn=m("style,class"),Tn=m("input,textarea,option,select,progress"),Sn=function(t,e,n){return"value"===n&&Tn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},En=m("contenteditable,draggable,spellcheck"),kn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),xn="http://www.w3.org/1999/xlink",Cn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},An=function(t){return Cn(t)?t.slice(6,t.length):""},On=function(t){return null==t||!1===t};function Pn(t){for(var e=t.data,n=t,i=t;a(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=In(i.data,e));for(;a(n=n.parent);)n&&n.data&&(e=In(e,n.data));return function(t,e){if(a(t)||a(e))return Ln(t,Mn(e));return""}(e.staticClass,e.class)}function In(t,e){return{staticClass:Ln(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Ln(t,e){return t?e?t+" "+e:t:e||""}function Mn(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,r=t.length;i<r;i++)a(e=Mn(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):u(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Dn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Rn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Nn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Un=function(t){return Rn(t)||Nn(t)};function jn(t){return Nn(t)?"svg":"math"===t?"math":void 0}var Bn=Object.create(null);var Fn=m("text,number,password,search,email,tel,url");function Hn(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var qn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS(Dn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Vn={create:function(t,e){$n(e)},update:function(t,e){t.data.ref!==e.data.ref&&($n(t,!0),$n(e))},destroy:function(t){$n(t,!0)}};function $n(t,e){var n=t.data.ref;if(a(n)){var i=t.context,r=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[n])?y(o[n],r):o[n]===r&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(r)<0&&o[n].push(r):o[n]=[r]:o[n]=r}}var zn=new pt("",{},[]),Wn=["create","activate","update","remove","destroy"];function Gn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=a(n=t.data)&&a(n=n.attrs)&&n.type,r=a(n=e.data)&&a(n=n.attrs)&&n.type;return i===r||Fn(i)&&Fn(r)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Yn(t,e,n){var i,r,o={};for(i=e;i<=n;++i)a(r=t[i].key)&&(o[r]=i);return o}var Xn={create:Kn,update:Kn,destroy:function(t){Kn(t,zn)}};function Kn(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,r,a=t===zn,o=e===zn,s=Jn(t.data.directives,t.context),u=Jn(e.data.directives,e.context),c=[],l=[];for(n in u)i=s[n],r=u[n],i?(r.oldValue=i.value,ti(r,"update",e,t),r.def&&r.def.componentUpdated&&l.push(r)):(ti(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var n=0;n<c.length;n++)ti(c[n],"inserted",e,t)};a?ue(e,"insert",h):h()}l.length&&ue(e,"postpatch",function(){for(var n=0;n<l.length;n++)ti(l[n],"componentUpdated",e,t)});if(!a)for(n in s)u[n]||ti(s[n],"unbind",t,t,o)}(t,e)}var Qn=Object.create(null);function Jn(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=Qn),r[Zn(i)]=i,i.def=jt(e.$options,"directives",i.name);return r}function Zn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function ti(t,e,n,i,r){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,i,r)}catch(i){Vt(i,n.context,"directive "+t.name+" "+e+" hook")}}var ei=[Vn,Xn];function ni(t,e){var n=e.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var i,o,s=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};for(i in a(c.__ob__)&&(c=e.data.attrs=O({},c)),c)o=c[i],u[i]!==o&&ii(s,i,o);for(i in(K||J)&&c.value!==u.value&&ii(s,"value",c.value),u)r(c[i])&&(Cn(i)?s.removeAttributeNS(xn,An(i)):En(i)||s.removeAttribute(i))}}function ii(t,e,n){t.tagName.indexOf("-")>-1?ri(t,e,n):kn(e)?On(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):En(e)?t.setAttribute(e,On(n)||"false"===n?"false":"true"):Cn(e)?On(n)?t.removeAttributeNS(xn,An(e)):t.setAttributeNS(xn,e,n):ri(t,e,n)}function ri(t,e,n){if(On(n))t.removeAttribute(e);else{if(K&&!Q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var ai={create:ni,update:ni};function oi(t,e){var n=e.elm,i=e.data,o=t.data;if(!(r(i.staticClass)&&r(i.class)&&(r(o)||r(o.staticClass)&&r(o.class)))){var s=Pn(e),u=n._transitionClasses;a(u)&&(s=Ln(s,Mn(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var si,ui,ci,li,hi,di,fi={create:oi,update:oi},pi=/[\w).+\-_$\]]/;function mi(t){var e,n,i,r,a,o=!1,s=!1,u=!1,c=!1,l=0,h=0,d=0,f=0;for(i=0;i<t.length;i++)if(n=e,e=t.charCodeAt(i),o)39===e&&92!==n&&(o=!1);else if(s)34===e&&92!==n&&(s=!1);else if(u)96===e&&92!==n&&(u=!1);else if(c)47===e&&92!==n&&(c=!1);else if(124!==e||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||l||h||d){switch(e){case 34:s=!0;break;case 39:o=!0;break;case 96:u=!0;break;case 40:d++;break;case 41:d--;break;case 91:h++;break;case 93:h--;break;case 123:l++;break;case 125:l--}if(47===e){for(var p=i-1,m=void 0;p>=0&&" "===(m=t.charAt(p));p--);m&&pi.test(m)||(c=!0)}}else void 0===r?(f=i+1,r=t.slice(0,i).trim()):v();function v(){(a||(a=[])).push(t.slice(f,i).trim()),f=i+1}if(void 0===r?r=t.slice(0,i).trim():0!==f&&v(),a)for(i=0;i<a.length;i++)r=vi(r,a[i]);return r}function vi(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var i=e.slice(0,n),r=e.slice(n+1);return'_f("'+i+'")('+t+(")"!==r?","+r:r)}function gi(t){console.error("[Vue compiler]: "+t)}function yi(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function _i(t,e,n){(t.props||(t.props=[])).push({name:e,value:n}),t.plain=!1}function bi(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n}),t.plain=!1}function wi(t,e,n){t.attrsMap[e]=n,t.attrsList.push({name:e,value:n})}function Ti(t,e,n,i,r,a){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:i,arg:r,modifiers:a}),t.plain=!1}function Si(t,e,n,r,a,o){var s;(r=r||i).capture&&(delete r.capture,e="!"+e),r.once&&(delete r.once,e="~"+e),r.passive&&(delete r.passive,e="&"+e),"click"===e&&(r.right?(e="contextmenu",delete r.right):r.middle&&(e="mouseup")),r.native?(delete r.native,s=t.nativeEvents||(t.nativeEvents={})):s=t.events||(t.events={});var u={value:n.trim()};r!==i&&(u.modifiers=r);var c=s[e];Array.isArray(c)?a?c.unshift(u):c.push(u):s[e]=c?a?[u,c]:[c,u]:u,t.plain=!1}function Ei(t,e,n){var i=ki(t,":"+e)||ki(t,"v-bind:"+e);if(null!=i)return mi(i);if(!1!==n){var r=ki(t,e);if(null!=r)return JSON.stringify(r)}}function ki(t,e,n){var i;if(null!=(i=t.attrsMap[e]))for(var r=t.attrsList,a=0,o=r.length;a<o;a++)if(r[a].name===e){r.splice(a,1);break}return n&&delete t.attrsMap[e],i}function xi(t,e,n){var i=n||{},r=i.number,a="$$v";i.trim&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(a="_n("+a+")");var o=Ci(e,a);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+o+"}"}}function Ci(t,e){var n=function(t){if(t=t.trim(),si=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<si-1)return(li=t.lastIndexOf("."))>-1?{exp:t.slice(0,li),key:'"'+t.slice(li+1)+'"'}:{exp:t,key:null};ui=t,li=hi=di=0;for(;!Oi();)Pi(ci=Ai())?Li(ci):91===ci&&Ii(ci);return{exp:t.slice(0,hi),key:t.slice(hi+1,di)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Ai(){return ui.charCodeAt(++li)}function Oi(){return li>=si}function Pi(t){return 34===t||39===t}function Ii(t){var e=1;for(hi=li;!Oi();)if(Pi(t=Ai()))Li(t);else if(91===t&&e++,93===t&&e--,0===e){di=li;break}}function Li(t){for(var e=t;!Oi()&&(t=Ai())!==e;);}var Mi,Di="__r",Ri="__c";function Ni(t,e,n,i,r){var a;e=(a=e)._withTask||(a._withTask=function(){Qt=!0;var t=a.apply(null,arguments);return Qt=!1,t}),n&&(e=function(t,e,n){var i=Mi;return function r(){null!==t.apply(null,arguments)&&Ui(e,r,n,i)}}(e,t,i)),Mi.addEventListener(t,e,et?{capture:i,passive:r}:i)}function Ui(t,e,n,i){(i||Mi).removeEventListener(t,e._withTask||e,n)}function ji(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Mi=e.elm,function(t){if(a(t[Di])){var e=K?"change":"input";t[e]=[].concat(t[Di],t[e]||[]),delete t[Di]}a(t[Ri])&&(t.change=[].concat(t[Ri],t.change||[]),delete t[Ri])}(n),se(n,i,Ni,Ui,e.context),Mi=void 0}}var Bi={create:ji,update:ji};function Fi(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,i,o=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in a(u.__ob__)&&(u=e.data.domProps=O({},u)),s)r(u[n])&&(o[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n){o._value=i;var c=r(i)?"":String(i);Hi(o,c)&&(o.value=c)}else o[n]=i}}}function Hi(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(a(i)){if(i.lazy)return!1;if(i.number)return p(n)!==p(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var qi={create:Fi,update:Fi},Vi=w(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e});function $i(t){var e=zi(t.style);return t.staticStyle?O(t.staticStyle,e):e}function zi(t){return Array.isArray(t)?P(t):"string"==typeof t?Vi(t):t}var Wi,Gi=/^--/,Yi=/\s*!important$/,Xi=function(t,e,n){if(Gi.test(e))t.style.setProperty(e,n);else if(Yi.test(n))t.style.setProperty(e,n.replace(Yi,""),"important");else{var i=Qi(e);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)t.style[i]=n[r];else t.style[i]=n}},Ki=["Webkit","Moz","ms"],Qi=w(function(t){if(Wi=Wi||document.createElement("div").style,"filter"!==(t=S(t))&&t in Wi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Ki.length;n++){var i=Ki[n]+e;if(i in Wi)return i}});function Ji(t,e){var n=e.data,i=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var o,s,u=e.elm,c=i.staticStyle,l=i.normalizedStyle||i.style||{},h=c||l,d=zi(e.data.style)||{};e.data.normalizedStyle=a(d.__ob__)?O({},d):d;var f=function(t,e){var n,i={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=$i(r.data))&&O(i,n);(n=$i(t.data))&&O(i,n);for(var a=t;a=a.parent;)a.data&&(n=$i(a.data))&&O(i,n);return i}(e,!0);for(s in h)r(f[s])&&Xi(u,s,"");for(s in f)(o=f[s])!==h[s]&&Xi(u,s,null==o?"":o)}}var Zi={create:Ji,update:Ji};function tr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function er(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function nr(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&O(e,ir(t.name||"v")),O(e,t),e}return"string"==typeof t?ir(t):void 0}}var ir=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),rr=W&&!Q,ar="transition",or="animation",sr="transition",ur="transitionend",cr="animation",lr="animationend";rr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(sr="WebkitTransition",ur="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(cr="WebkitAnimation",lr="webkitAnimationEnd"));var hr=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function dr(t){hr(function(){hr(t)})}function fr(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),tr(t,e))}function pr(t,e){t._transitionClasses&&y(t._transitionClasses,e),er(t,e)}function mr(t,e,n){var i=gr(t,e),r=i.type,a=i.timeout,o=i.propCount;if(!r)return n();var s=r===ar?ur:lr,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=o&&c()};setTimeout(function(){u<o&&c()},a+1),t.addEventListener(s,l)}var vr=/\b(transform|all)(,|$)/;function gr(t,e){var n,i=window.getComputedStyle(t),r=i[sr+"Delay"].split(", "),a=i[sr+"Duration"].split(", "),o=yr(r,a),s=i[cr+"Delay"].split(", "),u=i[cr+"Duration"].split(", "),c=yr(s,u),l=0,h=0;return e===ar?o>0&&(n=ar,l=o,h=a.length):e===or?c>0&&(n=or,l=c,h=u.length):h=(n=(l=Math.max(o,c))>0?o>c?ar:or:null)?n===ar?a.length:u.length:0,{type:n,timeout:l,propCount:h,hasTransform:n===ar&&vr.test(i[sr+"Property"])}}function yr(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return _r(e)+_r(t[n])}))}function _r(t){return 1e3*Number(t.slice(0,-1))}function br(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=nr(t.data.transition);if(!r(i)&&!a(n._enterCb)&&1===n.nodeType){for(var o=i.css,s=i.type,c=i.enterClass,l=i.enterToClass,h=i.enterActiveClass,d=i.appearClass,f=i.appearToClass,m=i.appearActiveClass,v=i.beforeEnter,g=i.enter,y=i.afterEnter,_=i.enterCancelled,b=i.beforeAppear,w=i.appear,T=i.afterAppear,S=i.appearCancelled,E=i.duration,k=we,x=we.$vnode;x&&x.parent;)k=(x=x.parent).context;var C=!k._isMounted||!t.isRootInsert;if(!C||w||""===w){var A=C&&d?d:c,O=C&&m?m:h,P=C&&f?f:l,I=C&&b||v,L=C&&"function"==typeof w?w:g,M=C&&T||y,D=C&&S||_,R=p(u(E)?E.enter:E);0;var U=!1!==o&&!Q,j=Sr(L),B=n._enterCb=N(function(){U&&(pr(n,P),pr(n,O)),B.cancelled?(U&&pr(n,A),D&&D(n)):M&&M(n),n._enterCb=null});t.data.show||ue(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),L&&L(n,B)}),I&&I(n),U&&(fr(n,A),fr(n,O),dr(function(){pr(n,A),B.cancelled||(fr(n,P),j||(Tr(R)?setTimeout(B,R):mr(n,s,B)))})),t.data.show&&(e&&e(),L&&L(n,B)),U||j||B()}}}function wr(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=nr(t.data.transition);if(r(i)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var o=i.css,s=i.type,c=i.leaveClass,l=i.leaveToClass,h=i.leaveActiveClass,d=i.beforeLeave,f=i.leave,m=i.afterLeave,v=i.leaveCancelled,g=i.delayLeave,y=i.duration,_=!1!==o&&!Q,b=Sr(f),w=p(u(y)?y.leave:y);0;var T=n._leaveCb=N(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(pr(n,l),pr(n,h)),T.cancelled?(_&&pr(n,c),v&&v(n)):(e(),m&&m(n)),n._leaveCb=null});g?g(S):S()}function S(){T.cancelled||(t.data.show||((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),_&&(fr(n,c),fr(n,h),dr(function(){pr(n,c),T.cancelled||(fr(n,l),b||(Tr(w)?setTimeout(T,w):mr(n,s,T)))})),f&&f(n,T),_||b||T())}}function Tr(t){return"number"==typeof t&&!isNaN(t)}function Sr(t){if(r(t))return!1;var e=t.fns;return a(e)?Sr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Er(t,e){!0!==e.data.show&&br(e)}var kr=function(t){var e,n,i={},u=t.modules,c=t.nodeOps;for(e=0;e<Wn.length;++e)for(i[Wn[e]]=[],n=0;n<u.length;++n)a(u[n][Wn[e]])&&i[Wn[e]].push(u[n][Wn[e]]);function l(t){var e=c.parentNode(t);a(e)&&c.removeChild(e,t)}function h(t,e,n,r,s,u,l){if(a(t.elm)&&a(u)&&(t=u[l]=yt(t)),t.isRootInsert=!s,!function(t,e,n,r){var s=t.data;if(a(s)){var u=a(t.componentInstance)&&s.keepAlive;if(a(s=s.hook)&&a(s=s.init)&&s(t,!1,n,r),a(t.componentInstance))return d(t,e),o(u)&&function(t,e,n,r){for(var o,s=t;s.componentInstance;)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<i.activate.length;++o)i.activate[o](zn,s);e.push(s);break}f(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var h=t.data,m=t.children,v=t.tag;a(v)?(t.elm=t.ns?c.createElementNS(t.ns,v):c.createElement(v,t),y(t),p(t,m,e),a(h)&&g(t,e),f(n,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),f(n,t.elm,r)):(t.elm=c.createTextNode(t.text),f(n,t.elm,r))}}function d(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(g(t,e),y(t)):($n(t),e.push(t))}function f(t,e,n){a(t)&&(a(n)?n.parentNode===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)h(e[i],n,t.elm,null,!0,e,i);else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return a(t.tag)}function g(t,n){for(var r=0;r<i.create.length;++r)i.create[r](zn,t);a(e=t.data.hook)&&(a(e.create)&&e.create(zn,t),a(e.insert)&&n.push(t))}function y(t){var e;if(a(e=t.fnScopeId))c.setStyleScope(t.elm,e);else for(var n=t;n;)a(e=n.context)&&a(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent;a(e=we)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function _(t,e,n,i,r,a){for(;i<=r;++i)h(n[i],a,t,e,!1,n,i)}function b(t){var e,n,r=t.data;if(a(r))for(a(e=r.hook)&&a(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function w(t,e,n,i){for(;n<=i;++n){var r=e[n];a(r)&&(a(r.tag)?(T(r),b(r)):l(r.elm))}}function T(t,e){if(a(e)||a(t.data)){var n,r=i.remove.length+1;for(a(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,r),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&T(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else l(t.elm)}function S(t,e,n,i){for(var r=n;r<i;r++){var o=e[r];if(a(o)&&Gn(t,o))return r}}function E(t,e,n,s){if(t!==e){var u=e.elm=t.elm;if(o(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?C(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var l,d=e.data;a(d)&&a(l=d.hook)&&a(l=l.prepatch)&&l(t,e);var f=t.children,p=e.children;if(a(d)&&v(e)){for(l=0;l<i.update.length;++l)i.update[l](t,e);a(l=d.hook)&&a(l=l.update)&&l(t,e)}r(e.text)?a(f)&&a(p)?f!==p&&function(t,e,n,i,o){for(var s,u,l,d=0,f=0,p=e.length-1,m=e[0],v=e[p],g=n.length-1,y=n[0],b=n[g],T=!o;d<=p&&f<=g;)r(m)?m=e[++d]:r(v)?v=e[--p]:Gn(m,y)?(E(m,y,i),m=e[++d],y=n[++f]):Gn(v,b)?(E(v,b,i),v=e[--p],b=n[--g]):Gn(m,b)?(E(m,b,i),T&&c.insertBefore(t,m.elm,c.nextSibling(v.elm)),m=e[++d],b=n[--g]):Gn(v,y)?(E(v,y,i),T&&c.insertBefore(t,v.elm,m.elm),v=e[--p],y=n[++f]):(r(s)&&(s=Yn(e,d,p)),r(u=a(y.key)?s[y.key]:S(y,e,d,p))?h(y,i,t,m.elm,!1,n,f):Gn(l=e[u],y)?(E(l,y,i),e[u]=void 0,T&&c.insertBefore(t,l.elm,m.elm)):h(y,i,t,m.elm,!1,n,f),y=n[++f]);d>p?_(t,r(n[g+1])?null:n[g+1].elm,n,f,g,i):f>g&&w(0,e,d,p)}(u,f,p,n,s):a(p)?(a(t.text)&&c.setTextContent(u,""),_(u,null,p,0,p.length-1,n)):a(f)?w(0,f,0,f.length-1):a(t.text)&&c.setTextContent(u,""):t.text!==e.text&&c.setTextContent(u,e.text),a(d)&&a(l=d.hook)&&a(l=l.postpatch)&&l(t,e)}}}function k(t,e,n){if(o(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var x=m("attrs,class,staticClass,staticStyle,key");function C(t,e,n,i){var r,s=e.tag,u=e.data,c=e.children;if(i=i||u&&u.pre,e.elm=t,o(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(u)&&(a(r=u.hook)&&a(r=r.init)&&r(e,!0),a(r=e.componentInstance)))return d(e,n),!0;if(a(s)){if(a(c))if(t.hasChildNodes())if(a(r=u)&&a(r=r.domProps)&&a(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var l=!0,h=t.firstChild,f=0;f<c.length;f++){if(!h||!C(h,c[f],n,i)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else p(e,c,n);if(a(u)){var m=!1;for(var v in u)if(!x(v)){m=!0,g(e,n);break}!m&&u.class&&ie(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s,u,l){if(!r(e)){var d,f=!1,p=[];if(r(t))f=!0,h(e,p,u,l);else{var m=a(t.nodeType);if(!m&&Gn(t,e))E(t,e,p,s);else{if(m){if(1===t.nodeType&&t.hasAttribute(U)&&(t.removeAttribute(U),n=!0),o(n)&&C(t,e,p))return k(e,p,!0),t;d=t,t=new pt(c.tagName(d).toLowerCase(),{},[],void 0,d)}var g=t.elm,y=c.parentNode(g);if(h(e,p,g._leaveCb?null:y,c.nextSibling(g)),a(e.parent))for(var _=e.parent,T=v(e);_;){for(var S=0;S<i.destroy.length;++S)i.destroy[S](_);if(_.elm=e.elm,T){for(var x=0;x<i.create.length;++x)i.create[x](zn,_);var A=_.data.hook.insert;if(A.merged)for(var O=1;O<A.fns.length;O++)A.fns[O]()}else $n(_);_=_.parent}a(y)?w(0,[t],0,0):a(t.tag)&&b(t)}}return k(e,p,f),e.elm}a(t)&&b(t)}}({nodeOps:qn,modules:[ai,fi,Bi,qi,Zi,W?{create:Er,activate:Er,remove:function(t,e){!0!==t.data.show?wr(t,e):e()}}:{}].concat(ei)});Q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Mr(t,"input")});var xr={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ue(n,"postpatch",function(){xr.componentUpdated(t,e,n)}):Cr(t,e,n.context),t._vOptions=[].map.call(t.options,Pr)):("textarea"===n.tag||Fn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ir),t.addEventListener("compositionend",Lr),t.addEventListener("change",Lr),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Cr(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Pr);if(r.some(function(t,e){return!D(t,i[e])}))(t.multiple?e.value.some(function(t){return Or(t,r)}):e.value!==e.oldValue&&Or(e.value,r))&&Mr(t,"change")}}};function Cr(t,e,n){Ar(t,e,n),(K||J)&&setTimeout(function(){Ar(t,e,n)},0)}function Ar(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var a,o,s=0,u=t.options.length;s<u;s++)if(o=t.options[s],r)a=R(i,Pr(o))>-1,o.selected!==a&&(o.selected=a);else if(D(Pr(o),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function Or(t,e){return e.every(function(e){return!D(e,t)})}function Pr(t){return"_value"in t?t._value:t.value}function Ir(t){t.target.composing=!0}function Lr(t){t.target.composing&&(t.target.composing=!1,Mr(t.target,"input"))}function Mr(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Dr(t){return!t.componentInstance||t.data&&t.data.transition?t:Dr(t.componentInstance._vnode)}var Rr={model:xr,show:{bind:function(t,e,n){var i=e.value,r=(n=Dr(n)).data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,br(n,function(){t.style.display=a})):t.style.display=i?a:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=Dr(n)).data&&n.data.transition?(n.data.show=!0,i?br(n,function(){t.style.display=t.__vOriginalDisplay}):wr(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}}},Nr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ur(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ur(pe(e.children)):t}function jr(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var a in r)e[S(a)]=r[a];return e}function Br(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Fr={name:"transition",props:Nr,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag||fe(t)})).length){0;var i=this.mode;0;var r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var a=Ur(r);if(!a)return r;if(this._leaving)return Br(t,r);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var u=(a.data||(a.data={})).transition=jr(this),c=this._vnode,l=Ur(c);if(a.data.directives&&a.data.directives.some(function(t){return"show"===t.name})&&(a.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(a,l)&&!fe(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=O({},u);if("out-in"===i)return this._leaving=!0,ue(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Br(t,r);if("in-out"===i){if(fe(a))return c;var d,f=function(){d()};ue(u,"afterEnter",f),ue(u,"enterCancelled",f),ue(h,"delayLeave",function(t){d=t})}}return r}}},Hr=O({tag:String,moveClass:String},Nr);function qr(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Vr(t){t.data.newPos=t.elm.getBoundingClientRect()}function $r(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+r+"px)",a.transitionDuration="0s"}}delete Hr.mode;var zr={Transition:Fr,TransitionGroup:{props:Hr,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=jr(this),s=0;s<r.length;s++){var u=r[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(i){for(var c=[],l=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?c.push(d):l.push(d)}this.kept=t(e,null,c),this.removed=l}return t(e,null,a)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(qr),t.forEach(Vr),t.forEach($r),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;fr(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(ur,n._moveCb=function t(i){i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(ur,t),n._moveCb=null,pr(n,e))})}}))},methods:{hasMove:function(t,e){if(!rr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){er(n,t)}),tr(n,e),n.style.display="none",this.$el.appendChild(n);var i=gr(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};fn.config.mustUseProp=Sn,fn.config.isReservedTag=Un,fn.config.isReservedAttr=wn,fn.config.getTagNamespace=jn,fn.config.isUnknownElement=function(t){if(!W)return!0;if(Un(t))return!1;if(t=t.toLowerCase(),null!=Bn[t])return Bn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Bn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Bn[t]=/HTMLUnknownElement/.test(e.toString())},O(fn.options.directives,Rr),O(fn.options.components,zr),fn.prototype.__patch__=W?kr:I,fn.prototype.$mount=function(t,e){return function(t,e,n){return t.$el=e,t.$options.render||(t.$options.render=vt),Ee(t,"beforeMount"),new Me(t,function(){t._update(t._render(),n)},I,null,!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Ee(t,"mounted")),t}(this,t=t&&W?Hn(t):void 0,e)},W&&setTimeout(function(){F.devtools&&rt&&rt.emit("init",fn)},0);var Wr=/\{\{((?:.|\n)+?)\}\}/g,Gr=/[-.*+?^${}()|[\]\/\\]/g,Yr=w(function(t){var e=t[0].replace(Gr,"\\$&"),n=t[1].replace(Gr,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function Xr(t,e){var n=e?Yr(e):Wr;if(n.test(t)){for(var i,r,a,o=[],s=[],u=n.lastIndex=0;i=n.exec(t);){(r=i.index)>u&&(s.push(a=t.slice(u,r)),o.push(JSON.stringify(a)));var c=mi(i[1].trim());o.push("_s("+c+")"),s.push({"@binding":c}),u=r+i[0].length}return u<t.length&&(s.push(a=t.slice(u)),o.push(JSON.stringify(a))),{expression:o.join("+"),tokens:s}}}var Kr={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=ki(t,"class");n&&(t.staticClass=JSON.stringify(n));var i=Ei(t,"class",!1);i&&(t.classBinding=i)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var Qr,Jr={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=ki(t,"style");n&&(t.staticStyle=JSON.stringify(Vi(n)));var i=Ei(t,"style",!1);i&&(t.styleBinding=i)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Zr=function(t){return(Qr=Qr||document.createElement("div")).innerHTML=t,Qr.textContent},ta=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),ea=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),na=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),ia=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ra="[a-zA-Z_][\\w\\-\\.]*",aa="((?:"+ra+"\\:)?"+ra+")",oa=new RegExp("^<"+aa),sa=/^\s*(\/?)>/,ua=new RegExp("^<\\/"+aa+"[^>]*>"),ca=/^<!DOCTYPE [^>]+>/i,la=/^<!\--/,ha=/^<!\[/,da=!1;"x".replace(/x(.)?/g,function(t,e){da=""===e});var fa=m("script,style,textarea",!0),pa={},ma={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},va=/&(?:lt|gt|quot|amp);/g,ga=/&(?:lt|gt|quot|amp|#10|#9);/g,ya=m("pre,textarea",!0),_a=function(t,e){return t&&ya(t)&&"\n"===e[0]};function ba(t,e){var n=e?ga:va;return t.replace(n,function(t){return ma[t]})}var wa,Ta,Sa,Ea,ka,xa,Ca,Aa,Oa=/^@|^v-on:/,Pa=/^v-|^@|^:/,Ia=/([^]*?)\s+(?:in|of)\s+([^]*)/,La=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ma=/^\(|\)$/g,Da=/:(.*)$/,Ra=/^:|^v-bind:/,Na=/\.[^.]+/g,Ua=w(Zr);function ja(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},n=0,i=t.length;n<i;n++)e[t[n].name]=t[n].value;return e}(e),parent:n,children:[]}}function Ba(t,e){wa=e.warn||gi,xa=e.isPreTag||L,Ca=e.mustUseProp||L,Aa=e.getTagNamespace||L,Sa=yi(e.modules,"transformNode"),Ea=yi(e.modules,"preTransformNode"),ka=yi(e.modules,"postTransformNode"),Ta=e.delimiters;var n,i,r=[],a=!1!==e.preserveWhitespace,o=!1,s=!1;function u(t){t.pre&&(o=!1),xa(t.tag)&&(s=!1);for(var n=0;n<ka.length;n++)ka[n](t,e)}return function(t,e){for(var n,i,r=[],a=e.expectHTML,o=e.isUnaryTag||L,s=e.canBeLeftOpenTag||L,u=0;t;){if(n=t,i&&fa(i)){var c=0,l=i.toLowerCase(),h=pa[l]||(pa[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),d=t.replace(h,function(t,n,i){return c=i.length,fa(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),_a(l,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});u+=t.length-d.length,t=d,x(l,u-c,u)}else{var f=t.indexOf("<");if(0===f){if(la.test(t)){var p=t.indexOf("--\x3e");if(p>=0){e.shouldKeepComment&&e.comment(t.substring(4,p)),S(p+3);continue}}if(ha.test(t)){var m=t.indexOf("]>");if(m>=0){S(m+2);continue}}var v=t.match(ca);if(v){S(v[0].length);continue}var g=t.match(ua);if(g){var y=u;S(g[0].length),x(g[1],y,u);continue}var _=E();if(_){k(_),_a(i,t)&&S(1);continue}}var b=void 0,w=void 0,T=void 0;if(f>=0){for(w=t.slice(f);!(ua.test(w)||oa.test(w)||la.test(w)||ha.test(w)||(T=w.indexOf("<",1))<0);)f+=T,w=t.slice(f);b=t.substring(0,f),S(f)}f<0&&(b=t,t=""),e.chars&&b&&e.chars(b)}if(t===n){e.chars&&e.chars(t);break}}function S(e){u+=e,t=t.substring(e)}function E(){var e=t.match(oa);if(e){var n,i,r={tagName:e[1],attrs:[],start:u};for(S(e[0].length);!(n=t.match(sa))&&(i=t.match(ia));)S(i[0].length),r.attrs.push(i);if(n)return r.unarySlash=n[1],S(n[0].length),r.end=u,r}}function k(t){var n=t.tagName,u=t.unarySlash;a&&("p"===i&&na(n)&&x(i),s(n)&&i===n&&x(n));for(var c=o(n)||!!u,l=t.attrs.length,h=new Array(l),d=0;d<l;d++){var f=t.attrs[d];da&&-1===f[0].indexOf('""')&&(""===f[3]&&delete f[3],""===f[4]&&delete f[4],""===f[5]&&delete f[5]);var p=f[3]||f[4]||f[5]||"",m="a"===n&&"href"===f[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[d]={name:f[1],value:ba(p,m)}}c||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h}),i=n),e.start&&e.start(n,h,c,t.start,t.end)}function x(t,n,a){var o,s;if(null==n&&(n=u),null==a&&(a=u),t&&(s=t.toLowerCase()),t)for(o=r.length-1;o>=0&&r[o].lowerCasedTag!==s;o--);else o=0;if(o>=0){for(var c=r.length-1;c>=o;c--)e.end&&e.end(r[c].tag,n,a);r.length=o,i=o&&r[o-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,a):"p"===s&&(e.start&&e.start(t,[],!1,n,a),e.end&&e.end(t,n,a))}x()}(t,{warn:wa,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,a,c){var l=i&&i.ns||Aa(t);K&&"svg"===l&&(a=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];$a.test(i.name)||(i.name=i.name.replace(za,""),e.push(i))}return e}(a));var h,d=ja(t,a,i);l&&(d.ns=l),"style"!==(h=d).tag&&("script"!==h.tag||h.attrsMap.type&&"text/javascript"!==h.attrsMap.type)||it()||(d.forbidden=!0);for(var f=0;f<Ea.length;f++)d=Ea[f](d,e)||d;function p(t){0}if(o||(!function(t){null!=ki(t,"v-pre")&&(t.pre=!0)}(d),d.pre&&(o=!0)),xa(d.tag)&&(s=!0),o?function(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),i=0;i<e;i++)n[i]={name:t.attrsList[i].name,value:JSON.stringify(t.attrsList[i].value)};else t.pre||(t.plain=!0)}(d):d.processed||(Ha(d),function(t){var e=ki(t,"v-if");if(e)t.if=e,qa(t,{exp:e,block:t});else{null!=ki(t,"v-else")&&(t.else=!0);var n=ki(t,"v-else-if");n&&(t.elseif=n)}}(d),function(t){null!=ki(t,"v-once")&&(t.once=!0)}(d),Fa(d,e)),n?r.length||n.if&&(d.elseif||d.else)&&(p(),qa(n,{exp:d.elseif,block:d})):(n=d,p()),i&&!d.forbidden)if(d.elseif||d.else)!function(t,e){var n=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);n&&n.if&&qa(n,{exp:t.elseif,block:t})}(d,i);else if(d.slotScope){i.plain=!1;var m=d.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[m]=d}else i.children.push(d),d.parent=i;c?u(d):(i=d,r.push(d))},end:function(){var t=r[r.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!s&&t.children.pop(),r.length-=1,i=r[r.length-1],u(t)},chars:function(t){if(i&&(!K||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var e,n,r=i.children;if(t=s||t.trim()?"script"===(e=i).tag||"style"===e.tag?t:Ua(t):a&&r.length?" ":"")!o&&" "!==t&&(n=Xr(t,Ta))?r.push({type:2,expression:n.expression,tokens:n.tokens,text:t}):" "===t&&r.length&&" "===r[r.length-1].text||r.push({type:3,text:t})}},comment:function(t){i.children.push({type:3,text:t,isComment:!0})}}),n}function Fa(t,e){var n,i;(i=Ei(n=t,"key"))&&(n.key=i),t.plain=!t.key&&!t.attrsList.length,function(t){var e=Ei(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){if("slot"===t.tag)t.slotName=Ei(t,"name");else{var e;"template"===t.tag?(e=ki(t,"scope"),t.slotScope=e||ki(t,"slot-scope")):(e=ki(t,"slot-scope"))&&(t.slotScope=e);var n=Ei(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,"template"===t.tag||t.slotScope||bi(t,"slot",n))}}(t),function(t){var e;(e=Ei(t,"is"))&&(t.component=e);null!=ki(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<Sa.length;r++)t=Sa[r](t,e)||t;!function(t){var e,n,i,r,a,o,s,u=t.attrsList;for(e=0,n=u.length;e<n;e++){if(i=r=u[e].name,a=u[e].value,Pa.test(i))if(t.hasBindings=!0,(o=Va(i))&&(i=i.replace(Na,"")),Ra.test(i))i=i.replace(Ra,""),a=mi(a),s=!1,o&&(o.prop&&(s=!0,"innerHtml"===(i=S(i))&&(i="innerHTML")),o.camel&&(i=S(i)),o.sync&&Si(t,"update:"+S(i),Ci(a,"$event"))),s||!t.component&&Ca(t.tag,t.attrsMap.type,i)?_i(t,i,a):bi(t,i,a);else if(Oa.test(i))i=i.replace(Oa,""),Si(t,i,a,o,!1);else{var c=(i=i.replace(Pa,"")).match(Da),l=c&&c[1];l&&(i=i.slice(0,-(l.length+1))),Ti(t,i,r,a,l,o)}else bi(t,i,JSON.stringify(a)),!t.component&&"muted"===i&&Ca(t.tag,t.attrsMap.type,i)&&_i(t,i,"true")}}(t)}function Ha(t){var e;if(e=ki(t,"v-for")){var n=function(t){var e=t.match(Ia);if(!e)return;var n={};n.for=e[2].trim();var i=e[1].trim().replace(Ma,""),r=i.match(La);r?(n.alias=i.replace(La,""),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i;return n}(e);n&&O(t,n)}}function qa(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Va(t){var e=t.match(Na);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}var $a=/^xmlns:NS\d+/,za=/^NS\d+:/;function Wa(t){return ja(t.tag,t.attrsList.slice(),t.parent)}var Ga=[Kr,Jr,{preTransformNode:function(t,e){if("input"===t.tag){var n,i=t.attrsMap;if(!i["v-model"])return;if((i[":type"]||i["v-bind:type"])&&(n=Ei(t,"type")),i.type||n||!i["v-bind"]||(n="("+i["v-bind"]+").type"),n){var r=ki(t,"v-if",!0),a=r?"&&("+r+")":"",o=null!=ki(t,"v-else",!0),s=ki(t,"v-else-if",!0),u=Wa(t);Ha(u),wi(u,"type","checkbox"),Fa(u,e),u.processed=!0,u.if="("+n+")==='checkbox'"+a,qa(u,{exp:u.if,block:u});var c=Wa(t);ki(c,"v-for",!0),wi(c,"type","radio"),Fa(c,e),qa(u,{exp:"("+n+")==='radio'"+a,block:c});var l=Wa(t);return ki(l,"v-for",!0),wi(l,":type",n),Fa(l,e),qa(u,{exp:r,block:l}),o?u.else=!0:s&&(u.elseif=s),u}}}}];var Ya,Xa,Ka={expectHTML:!0,modules:Ga,directives:{model:function(t,e,n){n;var i=e.value,r=e.modifiers,a=t.tag,o=t.attrsMap.type;if(t.component)return xi(t,i,r),!1;if("select"===a)!function(t,e,n){var i='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";i=i+" "+Ci(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Si(t,"change",i,null,!0)}(t,i,r);else if("input"===a&&"checkbox"===o)!function(t,e,n){var i=n&&n.number,r=Ei(t,"value")||"null",a=Ei(t,"true-value")||"true",o=Ei(t,"false-value")||"false";_i(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===a?":("+e+")":":_q("+e+","+a+")")),Si(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+a+"):("+o+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Ci(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Ci(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Ci(e,"$$c")+"}",null,!0)}(t,i,r);else if("input"===a&&"radio"===o)!function(t,e,n){var i=n&&n.number,r=Ei(t,"value")||"null";_i(t,"checked","_q("+e+","+(r=i?"_n("+r+")":r)+")"),Si(t,"change",Ci(e,r),null,!0)}(t,i,r);else if("input"===a||"textarea"===a)!function(t,e,n){var i=t.attrsMap.type,r=n||{},a=r.lazy,o=r.number,s=r.trim,u=!a&&"range"!==i,c=a?"change":"range"===i?Di:"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),o&&(l="_n("+l+")");var h=Ci(e,l);u&&(h="if($event.target.composing)return;"+h),_i(t,"value","("+e+")"),Si(t,c,h,null,!0),(s||o)&&Si(t,"blur","$forceUpdate()")}(t,i,r);else if(!F.isReservedTag(a))return xi(t,i,r),!1;return!0},text:function(t,e){e.value&&_i(t,"textContent","_s("+e.value+")")},html:function(t,e){e.value&&_i(t,"innerHTML","_s("+e.value+")")}},isPreTag:function(t){return"pre"===t},isUnaryTag:ta,mustUseProp:Sn,canBeLeftOpenTag:ea,isReservedTag:Un,getTagNamespace:jn,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(Ga)},Qa=w(function(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))});function Ja(t,e){t&&(Ya=Qa(e.staticKeys||""),Xa=e.isReservedTag||L,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||v(t.tag)||!Xa(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Ya)))}(e);if(1===e.type){if(!Xa(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,i=e.children.length;n<i;n++){var r=e.children[n];t(r),r.static||(e.static=!1)}if(e.ifConditions)for(var a=1,o=e.ifConditions.length;a<o;a++){var s=e.ifConditions[a].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var i=0,r=e.children.length;i<r;i++)t(e.children[i],n||!!e.for);if(e.ifConditions)for(var a=1,o=e.ifConditions.length;a<o;a++)t(e.ifConditions[a].block,n)}}(t,!1))}var Za=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,to=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,eo={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},no={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},io=function(t){return"if("+t+")return null;"},ro={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:io("$event.target !== $event.currentTarget"),ctrl:io("!$event.ctrlKey"),shift:io("!$event.shiftKey"),alt:io("!$event.altKey"),meta:io("!$event.metaKey"),left:io("'button' in $event && $event.button !== 0"),middle:io("'button' in $event && $event.button !== 1"),right:io("'button' in $event && $event.button !== 2")};function ao(t,e,n){var i=e?"nativeOn:{":"on:{";for(var r in t)i+='"'+r+'":'+oo(r,t[r])+",";return i.slice(0,-1)+"}"}function oo(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return oo(t,e)}).join(",")+"]";var n=to.test(e.value),i=Za.test(e.value);if(e.modifiers){var r="",a="",o=[];for(var s in e.modifiers)if(ro[s])a+=ro[s],eo[s]&&o.push(s);else if("exact"===s){var u=e.modifiers;a+=io(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else o.push(s);return o.length&&(r+=function(t){return"if(!('button' in $event)&&"+t.map(so).join("&&")+")return null;"}(o)),a&&(r+=a),"function($event){"+r+(n?"return "+e.value+"($event)":i?"return ("+e.value+")($event)":e.value)+"}"}return n||i?e.value:"function($event){"+e.value+"}"}function so(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=eo[t],i=no[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}var uo={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:I},co=function(t){this.options=t,this.warn=t.warn||gi,this.transforms=yi(t.modules,"transformCode"),this.dataGenFns=yi(t.modules,"genData"),this.directives=O(O({},uo),t.directives);var e=t.isReservedTag||L;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]};function lo(t,e){var n=new co(e);return{render:"with(this){return "+(t?ho(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function ho(t,e){if(t.staticRoot&&!t.staticProcessed)return fo(t,e);if(t.once&&!t.onceProcessed)return po(t,e);if(t.for&&!t.forProcessed)return function(t,e,n,i){var r=t.for,a=t.alias,o=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";0;return t.forProcessed=!0,(i||"_l")+"(("+r+"),function("+a+o+s+"){return "+(n||ho)(t,e)+"})"}(t,e);if(t.if&&!t.ifProcessed)return mo(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',i=yo(t,e),r="_t("+n+(i?","+i:""),a=t.attrs&&"{"+t.attrs.map(function(t){return S(t.name)+":"+t.value}).join(",")+"}",o=t.attrsMap["v-bind"];!a&&!o||i||(r+=",null");a&&(r+=","+a);o&&(r+=(a?"":",null")+","+o);return r+")"}(t,e);var n;if(t.component)n=function(t,e,n){var i=e.inlineTemplate?null:yo(e,n,!0);return"_c("+t+","+vo(e,n)+(i?","+i:"")+")"}(t.component,t,e);else{var i=t.plain?void 0:vo(t,e),r=t.inlineTemplate?null:yo(t,e,!0);n="_c('"+t.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var a=0;a<e.transforms.length;a++)n=e.transforms[a](t,n);return n}return yo(t,e)||"void 0"}function fo(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+ho(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function po(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return mo(t,e);if(t.staticInFor){for(var n="",i=t.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+ho(t,e)+","+e.onceId+++","+n+")":ho(t,e)}return fo(t,e)}function mo(t,e,n,i){return t.ifProcessed=!0,function t(e,n,i,r){if(!e.length)return r||"_e()";var a=e.shift();return a.exp?"("+a.exp+")?"+o(a.block)+":"+t(e,n,i,r):""+o(a.block);function o(t){return i?i(t,n):t.once?po(t,n):ho(t,n)}}(t.ifConditions.slice(),e,n,i)}function vo(t,e){var n="{",i=function(t,e){var n=t.directives;if(!n)return;var i,r,a,o,s="directives:[",u=!1;for(i=0,r=n.length;i<r;i++){a=n[i],o=!0;var c=e.directives[a.name];c&&(o=!!c(t,a,e.warn)),o&&(u=!0,s+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?',arg:"'+a.arg+'"':"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}if(u)return s.slice(0,-1)+"]"}(t,e);i&&(n+=i+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)n+=e.dataGenFns[r](t);if(t.attrs&&(n+="attrs:{"+wo(t.attrs)+"},"),t.props&&(n+="domProps:{"+wo(t.props)+"},"),t.events&&(n+=ao(t.events,!1,e.warn)+","),t.nativeEvents&&(n+=ao(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return go(n,t[n],e)}).join(",")+"])"}(t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var a=function(t,e){var n=t.children[0];0;if(1===n.type){var i=lo(n,e.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);a&&(n+=a+",")}return n=n.replace(/,$/,"")+"}",t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function go(t,e,n){return e.for&&!e.forProcessed?function(t,e,n){var i=e.for,r=e.alias,a=e.iterator1?","+e.iterator1:"",o=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+i+"),function("+r+a+o+"){return "+go(t,e,n)+"})"}(t,e,n):"{key:"+t+",fn:"+("function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(yo(e,n)||"undefined")+":undefined":yo(e,n)||"undefined":ho(e,n))+"}")+"}"}function yo(t,e,n,i,r){var a=t.children;if(a.length){var o=a[0];if(1===a.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag)return(i||ho)(o,e);var s=n?function(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];if(1===r.type){if(_o(r)||r.ifConditions&&r.ifConditions.some(function(t){return _o(t.block)})){n=2;break}(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(a,e.maybeComponent):0,u=r||bo;return"["+a.map(function(t){return u(t,e)}).join(",")+"]"+(s?","+s:"")}}function _o(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function bo(t,e){return 1===t.type?ho(t,e):3===t.type&&t.isComment?(i=t,"_e("+JSON.stringify(i.text)+")"):"_v("+(2===(n=t).type?n.expression:To(JSON.stringify(n.text)))+")";var n,i}function wo(t){for(var e="",n=0;n<t.length;n++){var i=t[n];e+='"'+i.name+'":'+To(i.value)+","}return e.slice(0,-1)}function To(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function So(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),I}}var Eo,ko,xo=(Eo=function(t,e){var n=Ba(t.trim(),e);!1!==e.optimize&&Ja(n,e);var i=lo(n,e);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}},function(t){function e(e,n){var i=Object.create(t),r=[],a=[];if(i.warn=function(t,e){(e?a:r).push(t)},n)for(var o in n.modules&&(i.modules=(t.modules||[]).concat(n.modules)),n.directives&&(i.directives=O(Object.create(t.directives||null),n.directives)),n)"modules"!==o&&"directives"!==o&&(i[o]=n[o]);var s=Eo(e,i);return s.errors=r,s.tips=a,s}return{compile:e,compileToFunctions:function(t){var e=Object.create(null);return function(n,i,r){(i=O({},i)).warn,delete i.warn;var a=i.delimiters?String(i.delimiters)+n:n;if(e[a])return e[a];var o=t(n,i),s={},u=[];return s.render=So(o.render,u),s.staticRenderFns=o.staticRenderFns.map(function(t){return So(t,u)}),e[a]=s}}(e)}})(Ka).compileToFunctions;function Co(t){return(ko=ko||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',ko.innerHTML.indexOf("&#10;")>0}var Ao=!!W&&Co(!1),Oo=!!W&&Co(!0),Po=w(function(t){var e=Hn(t);return e&&e.innerHTML}),Io=fn.prototype.$mount;fn.prototype.$mount=function(t,e){if((t=t&&Hn(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=Po(i));else{if(!i.nodeType)return this;i=i.innerHTML}else t&&(i=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(i){0;var r=xo(i,{shouldDecodeNewlines:Ao,shouldDecodeNewlinesForHref:Oo,delimiters:n.delimiters,comments:n.comments},this),a=r.render,o=r.staticRenderFns;n.render=a,n.staticRenderFns=o}}return Io.call(this,t,e)},fn.compile=xo,e.a=fn}).call(e,n(5),n(32).setImmediate)},function(t,e,n){var i;!function(r){"use strict";var a={},o=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s=/\d\d?/,u=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,c=/\[([^]*?)\]/gm,l=function(){};function h(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}function d(t){return function(e,n,i){var r=i[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(e.month=r)}}function f(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],v=h(m,3),g=h(p,3);a.i18n={dayNamesShort:g,dayNames:p,monthNamesShort:v,monthNames:m,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var y={D:function(t){return t.getDate()},DD:function(t){return f(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return f(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return f(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return f(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return f(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return f(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return f(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return f(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return f(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return f(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+f(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},_={D:[s,function(t,e){t.day=e}],Do:[new RegExp(s.source+u.source),function(t,e){t.day=parseInt(e,10)}],M:[s,function(t,e){t.month=e-1}],YY:[s,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[s,function(t,e){t.hour=e}],m:[s,function(t,e){t.minute=e}],s:[s,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[s,l],ddd:[u,l],MMM:[u,d("monthNamesShort")],MMMM:[u,d("monthNames")],a:[u,function(t,e,n){var i=e.toLowerCase();i===n.amPm[0]?t.isPm=!1:i===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n,i=(e+"").match(/([\+\-]|\d\d)/gi);i&&(n=60*i[1]+parseInt(i[2],10),t.timezoneOffset="+"===i[0]?n:-n)}]};_.dd=_.d,_.dddd=_.ddd,_.DD=_.D,_.mm=_.m,_.hh=_.H=_.HH=_.h,_.MM=_.M,_.ss=_.s,_.A=_.a,a.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},a.format=function(t,e,n){var i=n||a.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");var r=[];return(e=(e=(e=a.masks[e]||e||a.masks.default).replace(c,function(t,e){return r.push(e),"??"})).replace(o,function(e){return e in y?y[e](t,i):e.slice(1,e.length-1)})).replace(/\?\?/g,function(){return r.shift()})},a.parse=function(t,e,n){var i=n||a.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=a.masks[e]||e,t.length>1e3)return!1;var r=!0,s={};if(e.replace(o,function(e){if(_[e]){var n=_[e],a=t.search(n[0]);~a?t.replace(n[0],function(e){return n[1](s,e,i),t=t.substr(a+e.length),e}):r=!1}return _[e]?"":e.slice(1,e.length-1)}),!r)return!1;var u,c=new Date;return!0===s.isPm&&null!=s.hour&&12!=+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12==+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,u=new Date(Date.UTC(s.year||c.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):u=new Date(s.year||c.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0),u},void 0!==t&&t.exports?t.exports=a:void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,n(5))},function(t,e,n){"use strict";var i,r,a,o,s,u=n(90).toUnsigned;i=function(t,e){var n,a,o,s,c,l=[];if(!e.length)return null;for(n=0;n<t.byteLength;)a=u(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),o=r(t.subarray(n+4,n+8)),s=a>1?n+a:t.byteLength,o===e[0]&&(1===e.length?l.push(t.subarray(n+8,s)):(c=i(t.subarray(n+8,s),e.slice(1))).length&&(l=l.concat(c))),n=s;return l},r=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},a=function(t){return i(t,["moov","trak"]).reduce(function(t,e){var n,r,a,o,s;return(n=i(e,["tkhd"])[0])?(r=n[0],o=u(n[a=0===r?12:20]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]),(s=i(e,["mdia","mdhd"])[0])?(a=0===(r=s[0])?12:20,t[o]=u(s[a]<<24|s[a+1]<<16|s[a+2]<<8|s[a+3]),t):null):null},{})},o=function(t,e){var n,r,a;return n=i(e,["moof","traf"]),r=[].concat.apply([],n.map(function(e){return i(e,["tfhd"]).map(function(n){var r,a;return r=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),a=t[r]||9e4,(i(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=u(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=u(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},s=function(t){var e=[];return i(t,["moov","trak"]).forEach(function(t){var n=i(t,["mdia","hdlr"]),a=i(t,["tkhd"]);n.forEach(function(t,n){var i,o,s=r(t.subarray(8,12)),u=a[n];"vide"===s&&(o=0===(i=new DataView(u.buffer,u.byteOffset,u.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),e.push(o))})}),e},t.exports={findBox:i,parseType:r,timescale:a,startTime:o,videoTrackIds:s}},function(t,e,n){var i=n(23),r=n(6),a=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=r.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),r.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),r.isObject(n)&&r.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var a,o=this._createSvgView(this._opts);if(!(a=r.isString(e)?document.querySelector(e):e))throw new Error("Container does not exist: "+e);this._container=a,this._container.appendChild(o.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&r.setStyles(o.svg,this._opts.svgStyle),this.svg=o.svg,this.path=o.path,this.trail=o.trail,this.text=null;var s=r.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new i(o.path,s),r.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};a.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error("Object is destroyed");this._progressPath.animate(t,e,n)},a.prototype.stop=function(){if(null===this._progressPath)throw new Error("Object is destroyed");void 0!==this._progressPath&&this._progressPath.stop()},a.prototype.destroy=function(){if(null===this._progressPath)throw new Error("Object is destroyed");this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},a.prototype.set=function(t){if(null===this._progressPath)throw new Error("Object is destroyed");this._progressPath.set(t)},a.prototype.value=function(){if(null===this._progressPath)throw new Error("Object is destroyed");return void 0===this._progressPath?0:this._progressPath.value()},a.prototype.setText=function(t){if(null===this._progressPath)throw new Error("Object is destroyed");null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),r.isObject(t)?(r.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},a.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var i=this._createPath(t);return e.appendChild(i),{svg:e,path:i,trail:n}},a.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},a.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},a.prototype._createTrail=function(t){var e=this._trailString(t),n=r.extend({},t);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},a.prototype._createPathElement=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("stroke",e.color),n.setAttribute("stroke-width",e.strokeWidth),e.fill?n.setAttribute("fill",e.fill):n.setAttribute("fill-opacity","0"),n},a.prototype._createTextContainer=function(t,e){var n=document.createElement("div");n.className=t.text.className;var i=t.text.style;return i&&(t.text.autoStyleContainer&&(e.style.position="relative"),r.setStyles(n,i),i.color||(n.style.color=t.color)),this._initializeTextContainer(t,e,n),n},a.prototype._initializeTextContainer=function(t,e,n){},a.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},a.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},a.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue("width"),10),i=parseFloat(e.getPropertyValue("height"),10);r.floatEquals(this.containerAspectRatio,n/i)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",n/i),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},t.exports=a},function(t,e,n){"use strict";var i,r,a,o,s=n(4),u=n(18),c=n(92),l=n(93),h=n(96),d=n(97),f=n(99),p=n(100).H264Stream,m=n(102),v=n(14).isLikelyAacData,g=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],y=["width","height","profileIdc","levelIdc","profileCompatibility"],_=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0};(r=function(t,e){var n=[],i=0,a=0,o=0,s=1/0;e=e||{},r.prototype.init.call(this),this.push=function(e){h.collectDtsInfo(t,e),t&&g.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){a=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var r,c,d,f;0!==n.length?(r=l.trimAdtsFramesByEarliestDts(n,t,a),t.baseMediaDecodeTime=h.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),l.prefixWithSilence(t,r,o,s),t.samples=l.generateSampleTable(r),d=u.mdat(l.concatenateFrameData(r)),n=[],c=u.moof(i,[t]),f=new Uint8Array(c.byteLength+d.byteLength),i++,f.set(c),f.set(d,c.byteLength),h.clearDtsInfo(t),this.trigger("data",{track:t,boxes:f}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new s,(i=function(t,e){var n,r,a=0,o=[],s=[];e=e||{},i.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){h.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],y.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var n,i,r,l,d,f;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=c.groupNalsIntoFrames(o),(r=c.groupFramesIntoGops(n))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],t))?(r.unshift(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.pts=i.pts,r.dts=i.dts,r.duration+=i.duration):r=c.extendFirstKeyFrame(r)),s.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");h.clearDtsInfo(t),r=p}h.collectDtsInfo(t,r),t.samples=c.generateSampleTable(r),d=u.mdat(c.concatenateNalData(r)),t.baseMediaDecodeTime=h.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",r.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),l=u.moof(a,[t]),f=new Uint8Array(l.byteLength+d.byteLength),a++,f.set(l),f.set(d,l.byteLength),this.trigger("data",{track:t,boxes:f}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){h.clearDtsInfo(t),n=void 0,r=void 0},this.getGopForFusion_=function(e){var n,i,r,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)r=(a=this.gopCache_[o]).gop,t.pps&&_(t.pps[0],a.pps[0])&&t.sps&&_(t.sps[0],a.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=a,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,a,o,u,c;for(a=t.byteLength,o=t.nalCount,u=t.duration,e=n=0;e<s.length&&n<t.length&&(i=s[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,a-=r.byteLength,o-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((c=t.slice(n)).byteLength=a,c.duration=u,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,o,u;for(e=s.length-1,n=t.length-1,a=null,o=!1;e>=0&&n>=0;){if(i=s[e],r=t[n],i.pts===r.pts){o=!0;break}i.pts>r.pts?e--:(e===s.length-1&&(a=n),n--)}if(!o&&null===a)return null;if(0===(u=o?n:a))return t;var c=t.slice(u),l=c.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return c.byteLength=l.byteLength,c.duration=l.duration,c.nalCount=l.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(t){s=t}}).prototype=new s,(o=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new s,o.prototype.flush=function(t){var e,n,i,r,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,y.forEach(function(t){o.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,g.forEach(function(t){o.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=u.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=s),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=s),e.endTime/=9e4,o.captionStreams[e.stream]=!0,o.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(a=function(t){var e,n,s=this,u=!0;a.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new d.MetadataStream,e.aacStream=new m,e.audioTimestampRolloverStream=new d.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new d.TimestampRolloverStream("timed-metadata"),e.adtsStream=new f,e.coalesceStream=new o(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(i){"timed-metadata"!==i.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new r(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new d.MetadataStream,a.packetStream=new d.TransportPacketStream,a.parseStream=new d.TransportParseStream,a.elementaryStream=new d.ElementaryStream,a.videoTimestampRolloverStream=new d.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new d.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new d.TimestampRolloverStream("timed-metadata"),a.adtsStream=new f,a.h264Stream=new p,a.captionStream=new d.CaptionStream,a.coalesceStream=new o(t,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(o){var u;if("metadata"===o.type){for(u=o.tracks.length;u--;)e||"video"!==o.tracks[u].type?n||"audio"!==o.tracks[u].type||((n=o.tracks[u]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(e=o.tracks[u]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;e&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new i(e,t),a.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts))}),a.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),n&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new r(n,t),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,h.clearDtsInfo(n),t.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,h.clearDtsInfo(e),r.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=i)),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(u){var e=v(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),u=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){u=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,t.exports={Transmuxer:a,VideoSegmentStream:i,AudioSegmentStream:r,AUDIO_PROPERTIES:g,VIDEO_PROPERTIES:y}},function(t,e,n){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]};t.exports={isLikelyAacData:function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},parseId3TagSize:function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return i[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=r(t.subarray(10,14)));do{if((n=r(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var a=0;a<i.byteLength;a++)if(0===i[a]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}(i,0,a))){var o=i.subarray(a+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null}}},function(t,e,n){"use strict";(function(e){var i=n(1),r=n(183),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(26):void 0!==e&&(s=n(26)),s),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){u.headers[t]={}}),i.forEach(["post","put","patch"],function(t){u.headers[t]=i.merge(a)}),t.exports=u}).call(e,n(16))},function(t,e){var n,i,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var u,c=[],l=!1,h=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var t=s(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){var i=n(0)(n(63),n(64),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";var i,r,a,o,s,u,c,l,h,d,f,p,m,v,g,y,_,b,w,T,S,E,k,x,C,A,O,P,I,L,M,D,R,N,U,j,B,F,H,q,V,$=Math.pow(2,32)-1;!function(){var t;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in k)k.hasOwnProperty(t)&&(k[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);x=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:O,audio:P},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),N=R,U=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),j=R,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),i=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},r=function(){return i(k.dinf,i(k.dref,D))},a=function(t){return i(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},o=function(){return i(k.ftyp,x,C,x,A)},y=function(t){return i(k.hdlr,I[t])},s=function(t){return i(k.mdat,t)},g=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),i(k.mdhd,e)},v=function(t){return i(k.mdia,g(t),y(t.type),c(t))},u=function(t){return i(k.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},c=function(t){return i(k.minf,"video"===t.type?i(k.vmhd,L):i(k.smhd,M),r(),b(t))},l=function(t,e){for(var n=[],r=e.length;r--;)n[r]=T(e[r]);return i.apply(null,[k.moof,u(t)].concat(n))},h=function(t){for(var e=t.length,n=[];e--;)n[e]=p(t[e]);return i.apply(null,[k.moov,f(4294967295)].concat(n).concat(d(t)))},d=function(t){for(var e=t.length,n=[];e--;)n[e]=S(t[e]);return i.apply(null,[k.mvex].concat(n))},f=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(k.mvhd,e)},_=function(t){var e,n,r=t.samples||[],a=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)e=r[n].flags,a[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return i(k.sdtp,a)},b=function(t){return i(k.stbl,w(t),i(k.stts,j),i(k.stsc,N),i(k.stsz,U),i(k.stco,R))},w=function(t){return i(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?B(t):F(t))},B=function(t){var e,n=t.sps||[],r=t.pps||[],a=[],o=[];for(e=0;e<n.length;e++)a.push((65280&n[e].byteLength)>>>8),a.push(255&n[e].byteLength),a=a.concat(Array.prototype.slice.call(n[e]));for(e=0;e<r.length;e++)o.push((65280&r[e].byteLength)>>>8),o.push(255&r[e].byteLength),o=o.concat(Array.prototype.slice.call(r[e]));return i(k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(k.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(a).concat([r.length]).concat(o))),i(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},F=function(t){return i(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),a(t))},m=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return i(k.tkhd,e)},T=function(t){var e,n,r,a,o,s;return e=i(k.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(t.baseMediaDecodeTime/($+1)),s=Math.floor(t.baseMediaDecodeTime%($+1)),n=i(k.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===t.type?(r=E(t,92),i(k.traf,e,n,r)):(a=_(t),r=E(t,a.length+92),i(k.traf,e,n,r,a))},p=function(t){return t.duration=t.duration||4294967295,i(k.trak,m(t),v(t))},S=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),i(k.trex,e)},V=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},q=function(t,e){var n,r,a,o;for(e+=20+16*(r=t.samples||[]).length,n=V(r,e),o=0;o<r.length;o++)a=r[o],n=n.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return i(k.trun,new Uint8Array(n))},H=function(t,e){var n,r,a,o;for(e+=20+8*(r=t.samples||[]).length,n=V(r,e),o=0;o<r.length;o++)a=r[o],n=n.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return i(k.trun,new Uint8Array(n))},E=function(t,e){return"audio"===t.type?H(t,e):q(t,e)},t.exports={ftyp:o,mdat:s,moof:l,moov:h,initSegment:function(t){var e,n=o(),i=h(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}}},function(t,e,n){"use strict";var i=n(4),r=n(20),a=function(){a.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new l(0,0),new l(0,1),new l(1,0),new l(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};a.prototype=new i,a.prototype.push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=r.parseSei(t.escapedRBSP)).payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(n=r.parseUserData(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=r.parseCaptionPackets(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},a.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},a.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},a.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},a.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(t){return null===t?"":(t=o[t]||t,String.fromCharCode(t))},u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var t=[],e=15;e--;)t.push("");return t},l=function(t,e){l.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=c();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))a=s((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=s((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var o=u.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=s(i),a+=s(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};l.prototype=new i,l.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},l.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},l.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},l.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},l.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},l.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},l.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},l.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},l.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},l.prototype.isNormalChar=function(t){return t>=32&&t<=127},l.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},l.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},l.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},l.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},l.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},l.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},l.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},t.exports={CaptionStream:a,Cea608Stream:l}},function(t,e,n){"use strict";t.exports={parseSei:function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,i=0,r=0}return n},parseUserData:function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},parseCaptionPackets:function(t,e){var n,i,r,a,o=[];if(!(64&e[0]))return o;for(i=31&e[0],n=0;n<i;n++)a={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(a.ccData=e[r+3]<<8|e[r+4],o.push(a));return o},discardEmulationPreventionBytes:function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},USER_DATA_REGISTERED_ITU_T_T35:4}},function(t,e,n){"use strict";var i=n(4),r=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},a=function(t){var e,n;a.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=r(t.dts,n),t.pts=r(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){n=void 0,e=void 0}};a.prototype=new i,t.exports={TimestampRolloverStream:a,handleRollover:r}},function(t,e,n){t.exports={Line:n(117),Circle:n(24),SemiCircle:n(119),Path:n(23),Shape:n(12),utils:n(6)}},function(t,e,n){var i=n(118),r=n(6),a={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},o=function t(e,n){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");var i;n=r.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},n),i=r.isString(e)?document.querySelector(e):e,this.path=i,this._opts=n,this._tweenable=null;var a=this.path.getTotalLength();this.path.style.strokeDasharray=a+" "+a,this.set(0)};o.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6),10)},o.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(r.isFunction(e)){var n=this._easing(this._opts.easing);e(this._calculateTo(t,n),this._opts.shape||this,this._opts.attachment)}},o.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},o.prototype.animate=function(t,e,n){e=e||{},r.isFunction(e)&&(n=e,e={});var a=r.extend({},e),o=r.extend({},this._opts);e=r.extend(o,e);var s=this._easing(e.easing),u=this._resolveFromAndTo(t,s,a);this.stop(),this.path.getBoundingClientRect();var c=this._getComputedDashOffset(),l=this._progressToOffset(t),h=this;this._tweenable=new i,this._tweenable.tween({from:r.extend({offset:c},u.from),to:r.extend({offset:l},u.to),duration:e.duration,easing:s,step:function(t){h.path.style.strokeDashoffset=t.offset;var n=e.shape||h;e.step(t,n,e.attachment)},finish:function(t){r.isFunction(n)&&n()}})},o.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},o.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},o.prototype._resolveFromAndTo=function(t,e,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},o.prototype._calculateFrom=function(t){return i.interpolate(this._opts.from,this._opts.to,this.value(),t)},o.prototype._calculateTo=function(t,e){return i.interpolate(this._opts.from,this._opts.to,t,e)},o.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},o.prototype._easing=function(t){return a.hasOwnProperty(t)?a[t]:t},t.exports=o},function(t,e,n){var i=n(12),r=n(6),a=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,i.apply(this,arguments)};(a.prototype=new i).constructor=a,a.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var n=50-e/2;return r.render(this._pathTemplate,{radius:n,"2radius":2*n})},a.prototype._trailString=function(t){return this._pathString(t)},t.exports=a},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(1),r=n(184),a=n(186),o=n(187),s=n(188),u=n(27),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(189);t.exports=function(t){return new Promise(function(e,l){var h=t.data,d=t.headers;i.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(t.url)||(f=new window.XDomainRequest,p="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";d.Authorization="Basic "+c(v+":"+g)}if(f.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[p]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:t,request:f};r(e,l,i),f=null}},f.onerror=function(){l(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var y=n(190),_=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;_&&(d[t.xsrfHeaderName]=_)}if("setRequestHeader"in f&&i.forEach(d,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),l(t),f=null)}),void 0===h&&(h=null),f.send(h)})}},function(t,e,n){"use strict";var i=n(185);t.exports=function(t,e,n,r,a){var o=new Error(t);return i(o,e,n,r,a)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){n(31),t.exports=n(198)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(34),a=n.n(r);function o(t,e){0}function s(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var u={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,r=e.parent,a=e.data;a.routerView=!0;for(var o=r.$createElement,s=n.name,u=r.$route,c=r._routerViewCache||(r._routerViewCache={}),l=0,h=!1;r&&r._routerRoot!==r;)r.$vnode&&r.$vnode.data.routerView&&l++,r._inactive&&(h=!0),r=r.$parent;if(a.routerViewDepth=l,h)return o(c[s],a,i);var d=u.matched[l];if(!d)return c[s]=null,o();var f=c[s]=d.components[s];a.registerRouteInstance=function(t,e){var n=d.instances[s];(e&&n!==t||!e&&n===t)&&(d.instances[s]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){d.instances[s]=e.componentInstance};var p=a.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(u,d.props&&d.props[s]);if(p){p=a.props=function(t,e){for(var n in e)t[n]=e[n];return t}({},p);var m=a.attrs=a.attrs||{};for(var v in p)f.props&&v in f.props||(m[v]=p[v],delete p[v])}return o(f,a,i)}};var c=/[!'()*]/g,l=function(t){return"%"+t.charCodeAt(0).toString(16)},h=/%2C/g,d=function(t){return encodeURIComponent(t).replace(c,l).replace(h,",")},f=decodeURIComponent;function p(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),i=f(n.shift()),r=n.length>0?f(n.join("=")):null;void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]}),e):e}function m(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return d(e);if(Array.isArray(n)){var i=[];return n.forEach(function(t){void 0!==t&&(null===t?i.push(d(e)):i.push(d(e)+"="+d(t)))}),i.join("&")}return d(e)+"="+d(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var v=/\/?$/;function g(t,e,n,i){var r=i&&i.options.stringifyQuery,a=e.query||{};try{a=y(a)}catch(t){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:b(e,r),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return n&&(o.redirectedFrom=b(n,r)),Object.freeze(o)}function y(t){if(Array.isArray(t))return t.map(y);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=y(t[n]);return e}return t}var _=g(null,{path:"/"});function b(t,e){var n=t.path,i=t.query;void 0===i&&(i={});var r=t.hash;return void 0===r&&(r=""),(n||"/")+(e||m)(i)+r}function w(t,e){return e===_?t===e:!!e&&(t.path&&e.path?t.path.replace(v,"")===e.path.replace(v,"")&&t.hash===e.hash&&T(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&T(t.query,e.query)&&T(t.params,e.params)))}function T(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),i=Object.keys(e);return n.length===i.length&&n.every(function(n){var i=t[n],r=e[n];return"object"==typeof i&&"object"==typeof r?T(i,r):String(i)===String(r)})}var S,E=[String,Object],k=[String,Array],x={name:"router-link",props:{to:{type:E,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:k,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,r=n.resolve(this.to,i,this.append),a=r.location,o=r.route,s=r.href,u={},c=n.options.linkActiveClass,l=n.options.linkExactActiveClass,h=null==c?"router-link-active":c,d=null==l?"router-link-exact-active":l,f=null==this.activeClass?h:this.activeClass,p=null==this.exactActiveClass?d:this.exactActiveClass,m=a.path?g(null,a,null,n):o;u[p]=w(i,m),u[f]=this.exact?u[p]:function(t,e){return 0===t.path.replace(v,"/").indexOf(e.path.replace(v,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(i,m);var y=function(t){C(t)&&(e.replace?n.replace(a):n.push(a))},_={click:C};Array.isArray(this.event)?this.event.forEach(function(t){_[t]=y}):_[this.event]=y;var b={class:u};if("a"===this.tag)b.on=_,b.attrs={href:s};else{var T=function t(e){if(e)for(var n,i=0;i<e.length;i++){if("a"===(n=e[i]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(T){T.isStatic=!1;var E=S.util.extend;(T.data=E({},T.data)).on=_,(T.data.attrs=E({},T.data.attrs)).href=s}else b.on=_}return t(this.tag,b,this.$slots.default)}};function C(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function A(t){if(!A.installed||S!==t){A.installed=!0,S=t;var e=function(t){return void 0!==t},n=function(t,n){var i=t.$options._parentVnode;e(i)&&e(i=i.data)&&e(i=i.registerRouteInstance)&&i(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",u),t.component("router-link",x);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}}var O="undefined"!=typeof window;function P(t,e,n){var i=t.charAt(0);if("/"===i)return t;if("?"===i||"#"===i)return e+t;var r=e.split("/");n&&r[r.length-1]||r.pop();for(var a=t.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function I(t){return t.replace(/\/\//g,"/")}var L=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},M=G,D=B,R=function(t,e){return H(B(t,e))},N=H,U=W,j=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(t,e){for(var n,i=[],r=0,a=0,o="",s=e&&e.delimiter||"/";null!=(n=j.exec(t));){var u=n[0],c=n[1],l=n.index;if(o+=t.slice(a,l),a=l+u.length,c)o+=c[1];else{var h=t[a],d=n[2],f=n[3],p=n[4],m=n[5],v=n[6],g=n[7];o&&(i.push(o),o="");var y=null!=d&&null!=h&&h!==d,_="+"===v||"*"===v,b="?"===v||"*"===v,w=n[2]||s,T=p||m;i.push({name:f||r++,prefix:d||"",delimiter:w,optional:b,repeat:_,partial:y,asterisk:!!g,pattern:T?V(T):g?".*":"[^"+q(w)+"]+?"})}}return a<t.length&&(o+=t.substr(a)),o&&i.push(o),i}function F(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function H(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var r="",a=n||{},o=(i||{}).pretty?F:encodeURIComponent,s=0;s<t.length;s++){var u=t[s];if("string"!=typeof u){var c,l=a[u.name];if(null==l){if(u.optional){u.partial&&(r+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(L(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(c=o(l[h]),!e[s].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===h?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?encodeURI(l).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):o(l),!e[s].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');r+=u.prefix+c}}else r+=u}return r}}function q(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function V(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function $(t,e){return t.keys=e,t}function z(t){return t.sensitive?"":"i"}function W(t,e,n){L(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,a="",o=0;o<t.length;o++){var s=t[o];if("string"==typeof s)a+=q(s);else{var u=q(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),a+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var l=q(n.delimiter||"/"),h=a.slice(-l.length)===l;return i||(a=(h?a.slice(0,-l.length):a)+"(?:"+l+"(?=$))?"),a+=r?"$":i&&h?"":"(?="+l+"|$)",$(new RegExp("^"+a,z(n)),e)}function G(t,e,n){return L(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return $(t,e)}(t,e):L(t)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(G(t[r],e,n).source);return $(new RegExp("(?:"+i.join("|")+")",z(n)),e)}(t,e,n):function(t,e,n){return W(B(t,n),e,n)}(t,e,n)}M.parse=D,M.compile=R,M.tokensToFunction=N,M.tokensToRegExp=U;var Y=Object.create(null);function X(t,e,n){try{return(Y[t]||(Y[t]=M.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function K(t,e,n,i){var r=e||[],a=n||Object.create(null),o=i||Object.create(null);t.forEach(function(t){!function t(e,n,i,r,a,o){var s=r.path;var u=r.name;0;var c=r.pathToRegexpOptions||{};var l=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return I(e.path+"/"+t)}(s,a,c.strict);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var h={path:l,regex:function(t,e){var n=M(t,[],e);return n}(l,c),components:r.components||{default:r.component},instances:{},name:u,parent:a,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach(function(r){var a=o?I(o+"/"+r.path):void 0;t(e,n,i,r,h,a)});if(void 0!==r.alias){var d=Array.isArray(r.alias)?r.alias:[r.alias];d.forEach(function(o){var s={path:o,children:r.children};t(e,n,i,s,a,h.path||"/")})}n[h.path]||(e.push(h.path),n[h.path]=h);u&&(i[u]||(i[u]=h))}(r,a,o,t)});for(var s=0,u=r.length;s<u;s++)"*"===r[s]&&(r.push(r.splice(s,1)[0]),u--,s--);return{pathList:r,pathMap:a,nameMap:o}}function Q(t,e,n,i){var r="string"==typeof t?{path:t}:t;if(r.name||r._normalized)return r;if(!r.path&&r.params&&e){(r=J({},r))._normalized=!0;var a=J(J({},e.params),r.params);if(e.name)r.name=e.name,r.params=a;else if(e.matched.length){var o=e.matched[e.matched.length-1].path;r.path=X(o,a,e.path)}else 0;return r}var s=function(t){var e="",n="",i=t.indexOf("#");i>=0&&(e=t.slice(i),t=t.slice(0,i));var r=t.indexOf("?");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{path:t,query:n,hash:e}}(r.path||""),u=e&&e.path||"/",c=s.path?P(s.path,u,n||r.append):u,l=function(t,e,n){void 0===e&&(e={});var i,r=n||p;try{i=r(t||"")}catch(t){i={}}for(var a in e)i[a]=e[a];return i}(s.query,r.query,i&&i.options.parseQuery),h=r.hash||s.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:c,query:l,hash:h}}function J(t,e){for(var n in e)t[n]=e[n];return t}function Z(t,e){var n=K(t),i=n.pathList,r=n.pathMap,a=n.nameMap;function o(t,n,o){var s=Q(t,n,!1,e),c=s.name;if(c){var l=a[c];if(!l)return u(null,s);var h=l.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var d in n.params)!(d in s.params)&&h.indexOf(d)>-1&&(s.params[d]=n.params[d]);if(l)return s.path=X(l.path,s.params),u(l,s,o)}else if(s.path){s.params={};for(var f=0;f<i.length;f++){var p=i[f],m=r[p];if(tt(m.regex,s.path,s.params))return u(m,s,o)}}return u(null,s)}function s(t,n){var i=t.redirect,r="function"==typeof i?i(g(t,n,null,e)):i;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return u(null,n);var s=r,c=s.name,l=s.path,h=n.query,d=n.hash,f=n.params;if(h=s.hasOwnProperty("query")?s.query:h,d=s.hasOwnProperty("hash")?s.hash:d,f=s.hasOwnProperty("params")?s.params:f,c){a[c];return o({_normalized:!0,name:c,query:h,hash:d,params:f},void 0,n)}if(l){var p=function(t,e){return P(t,e.parent?e.parent.path:"/",!0)}(l,t);return o({_normalized:!0,path:X(p,f),query:h,hash:d},void 0,n)}return u(null,n)}function u(t,n,i){return t&&t.redirect?s(t,i||n):t&&t.matchAs?function(t,e,n){var i=o({_normalized:!0,path:X(n,e.params)});if(i){var r=i.matched,a=r[r.length-1];return e.params=i.params,u(a,e)}return u(null,e)}(0,n,t.matchAs):g(t,n,i,e)}return{match:o,addRoutes:function(t){K(t,i,r,a)}}}function tt(t,e,n){var i=e.match(t);if(!i)return!1;if(!n)return!0;for(var r=1,a=i.length;r<a;++r){var o=t.keys[r-1],s="string"==typeof i[r]?decodeURIComponent(i[r]):i[r];o&&(n[o.name]=s)}return!0}var et=Object.create(null);function nt(){window.history.replaceState({key:pt()},""),window.addEventListener("popstate",function(t){var e;rt(),t.state&&t.state.key&&(e=t.state.key,dt=e)})}function it(t,e,n,i){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick(function(){var t=function(){var t=pt();if(t)return et[t]}(),a=r(e,n,i?t:null);a&&("function"==typeof a.then?a.then(function(e){ut(e,t)}).catch(function(t){0}):ut(a,t))})}}function rt(){var t=pt();t&&(et[t]={x:window.pageXOffset,y:window.pageYOffset})}function at(t){return st(t.x)||st(t.y)}function ot(t){return{x:st(t.x)?t.x:window.pageXOffset,y:st(t.y)?t.y:window.pageYOffset}}function st(t){return"number"==typeof t}function ut(t,e){var n,i="object"==typeof t;if(i&&"string"==typeof t.selector){var r=document.querySelector(t.selector);if(r){var a=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-n.left-e.x,y:i.top-n.top-e.y}}(r,a={x:st((n=a).x)?n.x:0,y:st(n.y)?n.y:0})}else at(t)&&(e=ot(t))}else i&&at(t)&&(e=ot(t));e&&window.scrollTo(e.x,e.y)}var ct,lt=O&&((-1===(ct=window.navigator.userAgent).indexOf("Android 2.")&&-1===ct.indexOf("Android 4.0")||-1===ct.indexOf("Mobile Safari")||-1!==ct.indexOf("Chrome")||-1!==ct.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),ht=O&&window.performance&&window.performance.now?window.performance:Date,dt=ft();function ft(){return ht.now().toFixed(3)}function pt(){return dt}function mt(t,e){rt();var n=window.history;try{e?n.replaceState({key:dt},"",t):(dt=ft(),n.pushState({key:dt},"",t))}catch(n){window.location[e?"replace":"assign"](t)}}function vt(t){mt(t,!0)}function gt(t,e,n){var i=function(r){r>=t.length?n():t[r]?e(t[r],function(){i(r+1)}):i(r+1)};i(0)}function yt(t){return function(e,n,i){var r=!1,a=0,o=null;_t(t,function(t,e,n,u){if("function"==typeof t&&void 0===t.cid){r=!0,a++;var c,l=Tt(function(e){var r;((r=e).__esModule||wt&&"Module"===r[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:S.extend(e),n.components[u]=e,--a<=0&&i()}),h=Tt(function(t){var e="Failed to resolve async component "+u+": "+t;o||(o=s(t)?t:new Error(e),i(o))});try{c=t(l,h)}catch(t){h(t)}if(c)if("function"==typeof c.then)c.then(l,h);else{var d=c.component;d&&"function"==typeof d.then&&d.then(l,h)}}}),r||i()}}function _t(t,e){return bt(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function bt(t){return Array.prototype.concat.apply([],t)}var wt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Tt(t){var e=!1;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(!e)return e=!0,t.apply(this,n)}}var St=function(t,e){this.router=t,this.base=function(t){if(!t)if(O){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=_,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Et(t,e,n,i){var r=_t(t,function(t,i,r,a){var o=function(t,e){"function"!=typeof t&&(t=S.extend(t));return t.options[e]}(t,e);if(o)return Array.isArray(o)?o.map(function(t){return n(t,i,r,a)}):n(o,i,r,a)});return bt(i?r.reverse():r)}function kt(t,e){if(e)return function(){return t.apply(e,arguments)}}St.prototype.listen=function(t){this.cb=t},St.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},St.prototype.onError=function(t){this.errorCbs.push(t)},St.prototype.transitionTo=function(t,e,n){var i=this,r=this.router.match(t,this.current);this.confirmTransition(r,function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.ready||(i.ready=!0,i.readyCbs.forEach(function(t){t(r)}))},function(t){n&&n(t),t&&!i.ready&&(i.ready=!0,i.readyErrorCbs.forEach(function(e){e(t)}))})},St.prototype.confirmTransition=function(t,e,n){var i=this,r=this.current,a=function(t){s(t)&&(i.errorCbs.length?i.errorCbs.forEach(function(e){e(t)}):(o(),console.error(t))),n&&n(t)};if(w(t,r)&&t.matched.length===r.matched.length)return this.ensureURL(),a();var u=function(t,e){var n,i=Math.max(t.length,e.length);for(n=0;n<i&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),c=u.updated,l=u.deactivated,h=u.activated,d=[].concat(function(t){return Et(t,"beforeRouteLeave",kt,!0)}(l),this.router.beforeHooks,function(t){return Et(t,"beforeRouteUpdate",kt)}(c),h.map(function(t){return t.beforeEnter}),yt(h));this.pending=t;var f=function(e,n){if(i.pending!==t)return a();try{e(t,r,function(t){!1===t||s(t)?(i.ensureURL(!0),a(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(a(),"object"==typeof t&&t.replace?i.replace(t):i.push(t)):n(t)})}catch(t){a(t)}};gt(d,f,function(){var n=[];gt(function(t,e,n){return Et(t,"beforeRouteEnter",function(t,i,r,a){return function(t,e,n,i,r){return function(a,o,s){return t(a,o,function(t){s(t),"function"==typeof t&&i.push(function(){!function t(e,n,i,r){n[i]?e(n[i]):r()&&setTimeout(function(){t(e,n,i,r)},16)}(t,e.instances,n,r)})})}}(t,r,a,e,n)})}(h,n,function(){return i.current===t}).concat(i.router.resolveHooks),f,function(){if(i.pending!==t)return a();i.pending=null,e(t),i.router.app&&i.router.app.$nextTick(function(){n.forEach(function(t){t()})})})})},St.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var xt=function(t){function e(e,n){var i=this;t.call(this,e,n);var r=e.options.scrollBehavior;r&&nt();var a=Ct(this.base);window.addEventListener("popstate",function(t){var n=i.current,o=Ct(i.base);i.current===_&&o===a||i.transitionTo(o,function(t){r&&it(e,t,n,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){mt(I(i.base+t.fullPath)),it(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){vt(I(i.base+t.fullPath)),it(i.router,t,r,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(Ct(this.base)!==this.current.fullPath){var e=I(this.base+this.current.fullPath);t?mt(e):vt(e)}},e.prototype.getCurrentLocation=function(){return Ct(this.base)},e}(St);function Ct(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var At=function(t){function e(e,n,i){t.call(this,e,n),i&&function(t){var e=Ct(t);if(!/^\/#/.test(e))return window.location.replace(I(t+"/#"+e)),!0}(this.base)||Ot()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,n=lt&&e;n&&nt(),window.addEventListener(lt?"popstate":"hashchange",function(){var e=t.current;Ot()&&t.transitionTo(Pt(),function(i){n&&it(t.router,i,e,!0),lt||Mt(i.fullPath)})})},e.prototype.push=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Lt(t.fullPath),it(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,r=this.current;this.transitionTo(t,function(t){Mt(t.fullPath),it(i.router,t,r,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Pt()!==e&&(t?Lt(e):Mt(e))},e.prototype.getCurrentLocation=function(){return Pt()},e}(St);function Ot(){var t=Pt();return"/"===t.charAt(0)||(Mt("/"+t),!1)}function Pt(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function It(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function Lt(t){lt?mt(It(t)):window.location.hash=t}function Mt(t){lt?vt(It(t)):window.location.replace(It(t))}var Dt=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index+1).concat(t),i.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,function(){e.index=n,e.updateRoute(i)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(St),Rt=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Z(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!lt&&!1!==t.fallback,this.fallback&&(e="hash"),O||(e="abstract"),this.mode=e,e){case"history":this.history=new xt(this,t.base);break;case"hash":this.history=new At(this,t.base,this.fallback);break;case"abstract":this.history=new Dt(this,t.base);break;default:0}},Nt={currentRoute:{configurable:!0}};function Ut(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}Rt.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Nt.currentRoute.get=function(){return this.history&&this.history.current},Rt.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var n=this.history;if(n instanceof xt)n.transitionTo(n.getCurrentLocation());else if(n instanceof At){var i=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Rt.prototype.beforeEach=function(t){return Ut(this.beforeHooks,t)},Rt.prototype.beforeResolve=function(t){return Ut(this.resolveHooks,t)},Rt.prototype.afterEach=function(t){return Ut(this.afterHooks,t)},Rt.prototype.onReady=function(t,e){this.history.onReady(t,e)},Rt.prototype.onError=function(t){this.history.onError(t)},Rt.prototype.push=function(t,e,n){this.history.push(t,e,n)},Rt.prototype.replace=function(t,e,n){this.history.replace(t,e,n)},Rt.prototype.go=function(t){this.history.go(t)},Rt.prototype.back=function(){this.go(-1)},Rt.prototype.forward=function(){this.go(1)},Rt.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Rt.prototype.resolve=function(t,e,n){var i=Q(t,e||this.history.current,n,this),r=this.match(i,e),a=r.redirectedFrom||r.fullPath;return{location:i,route:r,href:function(t,e,n){var i="hash"===n?"#"+e:e;return t?I(t+"/"+i):i}(this.history.base,a,this.mode),normalizedTo:i,resolved:r}},Rt.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==_&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Rt.prototype,Nt),Rt.install=A,Rt.version="3.0.1",O&&window.Vue&&window.Vue.use(Rt);var jt=Rt,Bt=n(37),Ft=n.n(Bt),Ht=n(43),qt=n.n(Ht),Vt=n(61),$t=n.n(Vt),zt=n(66),Wt=n.n(zt),Gt=n(108),Yt=n.n(Gt),Xt=n(111),Kt=n.n(Xt),Qt=(n(122),n(128)),Jt=n.n(Qt),Zt=n(131),te=n.n(Zt),ee=n(136),ne=n.n(ee),ie=n(142),re=n.n(ie),ae=n(144),oe=n.n(ae),se=n(156),ue=n.n(se),ce=n(168),le=n.n(ce),he=n(171),de=n.n(he),fe=n(174),pe=n.n(fe);i.a.use(jt);var me=new jt({mode:"history",routes:[{path:"/quiz",component:Ft.a,children:[{path:"",name:"QuizHome",component:qt.a,meta:{title:"Exam Dashboard"}},{path:"examstart/:id",name:"ExamStart",component:Jt.a,meta:{title:"Start Exam"}},{path:"exam-result/:id",name:"ExamResult",component:te.a,meta:{title:"Exam Result"}},{path:"exam/:id",name:"Exam",component:ne.a,meta:{title:"Exam"}}]},{path:"/live",component:$t.a,children:[{path:"",name:"LiveClass",component:Wt.a,meta:{title:"Live Class"}}]},{path:"/follow",component:Yt.a,children:[{path:"",name:"FollowHome",component:Kt.a,meta:{title:"Class Room"}},{path:"courses",component:re.a,meta:{title:"Courses"},children:[{path:"",name:"CourseList",component:ue.a,meta:{title:"List of Courses"}},{path:":id",component:oe.a,meta:{title:"Course"},children:[{path:"",name:"CourseDetail",component:le.a,meta:{title:"Course Detail"}},{path:"topic/:topicId",name:"Topic",component:de.a,meta:{title:"Topic Detail"}},{path:"content/:contentId",name:"ContentDetail",component:pe.a,meta:{title:"Content Detail"}}]}]}]}]}),ve=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},ge="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ye(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}var _e=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},be={namespaced:{configurable:!0}};be.namespaced.get=function(){return!!this._rawModule.namespaced},_e.prototype.addChild=function(t,e){this._children[t]=e},_e.prototype.removeChild=function(t){delete this._children[t]},_e.prototype.getChild=function(t){return this._children[t]},_e.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},_e.prototype.forEachChild=function(t){ye(this._children,t)},_e.prototype.forEachGetter=function(t){this._rawModule.getters&&ye(this._rawModule.getters,t)},_e.prototype.forEachAction=function(t){this._rawModule.actions&&ye(this._rawModule.actions,t)},_e.prototype.forEachMutation=function(t){this._rawModule.mutations&&ye(this._rawModule.mutations,t)},Object.defineProperties(_e.prototype,be);var we=function(t){this.register([],t,!1)};we.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},we.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},we.prototype.update=function(t){!function t(e,n,i){0;n.update(i);if(i.modules)for(var r in i.modules){if(!n.getChild(r))return void 0;t(e.concat(r),n.getChild(r),i.modules[r])}}([],this.root,t)},we.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new _e(e,n);0===t.length?this.root=r:this.get(t.slice(0,-1)).addChild(t[t.length-1],r);e.modules&&ye(e.modules,function(e,r){i.register(t.concat(r),e,n)})},we.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var Te;var Se=function(t){var e=this;void 0===t&&(t={}),!Te&&"undefined"!=typeof window&&window.Vue&&Ie(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var r=t.state;void 0===r&&(r={}),"function"==typeof r&&(r=r()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new we(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Te;var a=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(a,t,e)},this.commit=function(t,e,n){return s.call(a,t,e,n)},this.strict=i,Ae(this,r,[],this._modules.root),Ce(this,r),n.forEach(function(t){return t(e)}),Te.config.devtools&&function(t){ge&&(t._devtoolHook=ge,ge.emit("vuex:init",t),ge.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){ge.emit("vuex:mutation",t,e)}))}(this)},Ee={state:{configurable:!0}};function ke(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function xe(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ae(t,n,[],t._modules.root,!0),Ce(t,n,e)}function Ce(t,e,n){var i=t._vm;t.getters={};var r={};ye(t._wrappedGetters,function(e,n){r[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var a=Te.config.silent;Te.config.silent=!0,t._vm=new Te({data:{$$state:e},computed:r}),Te.config.silent=a,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),i&&(n&&t._withCommit(function(){i._data.$$state=null}),Te.nextTick(function(){return i.$destroy()}))}function Ae(t,e,n,i,r){var a=!n.length,o=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[o]=i),!a&&!r){var s=Oe(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){Te.set(s,u,i.state)})}var c=i.context=function(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var a=Pe(n,i,r),o=a.payload,s=a.options,u=a.type;return s&&s.root||(u=e+u),t.dispatch(u,o)},commit:i?t.commit:function(n,i,r){var a=Pe(n,i,r),o=a.payload,s=a.options,u=a.type;s&&s.root||(u=e+u),t.commit(u,o,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){var n={},i=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var a=r.slice(i);Object.defineProperty(n,a,{get:function(){return t.getters[r]},enumerable:!0})}}),n}(t,e)}},state:{get:function(){return Oe(t.state,n)}}}),r}(t,o,n);i.forEachMutation(function(e,n){!function(t,e,n,i){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){n.call(t,i.state,e)})}(t,o+n,e,c)}),i.forEachAction(function(e,n){var i=e.root?n:o+n,r=e.handler||e;!function(t,e,n,i){(t._actions[e]||(t._actions[e]=[])).push(function(e,r){var a,o=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return(a=o)&&"function"==typeof a.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):o})}(t,i,r,c)}),i.forEachGetter(function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,o+n,e,c)}),i.forEachChild(function(i,a){Ae(t,e,n.concat(a),i,r)})}function Oe(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function Pe(t,e,n){var i;return null!==(i=t)&&"object"==typeof i&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function Ie(t){Te&&t===Te||ve(Te=t)}Ee.state.get=function(){return this._vm._data.$$state},Ee.state.set=function(t){0},Se.prototype.commit=function(t,e,n){var i=this,r=Pe(t,e,n),a=r.type,o=r.payload,s=(r.options,{type:a,payload:o}),u=this._mutations[a];u&&(this._withCommit(function(){u.forEach(function(t){t(o)})}),this._subscribers.forEach(function(t){return t(s,i.state)}))},Se.prototype.dispatch=function(t,e){var n=this,i=Pe(t,e),r=i.type,a=i.payload,o={type:r,payload:a},s=this._actions[r];if(s)return this._actionSubscribers.forEach(function(t){return t(o,n.state)}),s.length>1?Promise.all(s.map(function(t){return t(a)})):s[0](a)},Se.prototype.subscribe=function(t){return ke(t,this._subscribers)},Se.prototype.subscribeAction=function(t){return ke(t,this._actionSubscribers)},Se.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},Se.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},Se.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),Ae(this,this.state,t,this._modules.get(t),n.preserveState),Ce(this,this.state)},Se.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=Oe(e.state,t.slice(0,-1));Te.delete(n,t[t.length-1])}),xe(this)},Se.prototype.hotUpdate=function(t){this._modules.update(t),xe(this,!0)},Se.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(Se.prototype,Ee);var Le=Ue(function(t,e){var n={};return Ne(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=je(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0}),n}),Me=Ue(function(t,e){var n={};return Ne(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var a=je(this.$store,"mapMutations",t);if(!a)return;i=a.context.commit}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),De=Ue(function(t,e){var n={};return Ne(e).forEach(function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||je(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0}),n}),Re=Ue(function(t,e){var n={};return Ne(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var a=je(this.$store,"mapActions",t);if(!a)return;i=a.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n});function Ne(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function Ue(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function je(t,e,n){return t._modulesNamespaceMap[n]}var Be={Store:Se,install:Ie,version:"3.0.1",mapState:Le,mapMutations:Me,mapGetters:De,mapActions:Re,createNamespacedHelpers:function(t){return{mapState:Le.bind(null,t),mapGetters:De.bind(null,t),mapMutations:Me.bind(null,t),mapActions:Re.bind(null,t)}}},Fe=n(179),He=n.n(Fe),qe=document.head.querySelector('meta[name="csrf-token"]'),Ve=document.head.querySelector('meta[name="access-token"]'),$e=(i.a.prototype.$http=He.a.create({baseURL:"/",headers:{"X-CSRF-TOKEN":qe.content}}),i.a.prototype.$api=He.a.create({baseURL:"/api",headers:{AUTHORIZATION:"Bearer "+Ve.content}}));i.a.use(Be);var ze=new Be.Store({state:{user:{},isFull:!1,reloadCourses:!1},mutations:{getUser:function(t,e){t.user=e},toggleFull:function(t,e){t.isFull=e},reloadCourses:function(t){t.reloadCourses=!t.reloadCourses}},actions:{getUser:function(t){var e=t.commit;$e.get("users/self").then(function(t){e("getUser",t.data)})},toggleFull:function(t,e){(0,t.commit)("toggleFull",e.isFull)},reloadCourses:function(t){(0,t.commit)("reloadCourses")}}});me.beforeEach(function(t,e,n){document.title=t.meta.title,n()}),new i.a({el:"#app",router:me,store:ze,http:$e,components:{App:a.a},template:"<App/>"})},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new a(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(33),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(5))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,a,o,s,u=1,c={},l=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){a.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,i(u),u++},d.clearImmediate=f}function f(t){delete c[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(5),n(16))},function(t,e,n){var i=n(0)(n(35),n(36),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"App",data:function(){return{drawer:null}},methods:{logout:function(){this.$http.post("/logout").then(function(){}).catch(function(){window.location.reload()})}}}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(38),n(42),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),r=n.n(i);e.default={components:{QuizHeader:r.a}}},function(t,e,n){var i=n(0)(n(40),n(41),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isUserNavOpen:!1,elem:this.$router.currentRoute.name}},computed:{user:function(){return this.$store.state.user}},mounted:function(){this.$store.dispatch("getUser")},methods:{logout:function(){this.$http.post("/logout").then(function(){}).catch(function(){window.location.reload()})}},watch:{$route:function(t){this.elem=t.name}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-wrap"},[n("div",{staticClass:"container"},[t._m(0),t._v(" "),n("div",{staticClass:"header-right"},[n("ul",{staticClass:"top-nav"},[n("li",[n("router-link",{attrs:{to:{name:"QuizHome"}}},[t._v("Home")])],1),t._v(" "),1==t.user.source?n("li",{class:{active:"FollowHome"==t.elem}},[n("router-link",{attrs:{to:{name:"FollowHome"}}},[t._v("Classroom")])],1):t._e()]),t._v(" "),n("ul",{staticClass:"user-nav"},[n("a",{staticClass:"user-name",attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.isUserNavOpen=!t.isUserNavOpen}}},[t._v(t._s(t.user.name))]),t._v(" "),n("ul",{staticClass:"dropdown-nav",class:{open:t.isUserNavOpen}},[t.user.is_admin?n("li",[n("a",{attrs:{href:"/admin-dashboard"}},[t._v("Admin Panel")])]):t._e(),t._v(" "),1!=t.user.source?n("li",[n("a",{attrs:{href:"#"}},[t._v("Change Password")])]):t._e(),t._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logout")])])])])]),t._v(" "),n("div",{staticClass:"clearfix"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-wrap"},[e("a",{staticClass:"logo",attrs:{href:"/"}},[e("img",{attrs:{src:"/img/robi-airtel-logo.png",alt:""}})]),this._v(" "),e("span",{staticClass:"tag-text"},[e("img",{attrs:{src:"/img/JanaOjana.png",alt:"JANA OJANA"}})])])}]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("quiz-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(44),n(60),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(45),r=n.n(i),a=n(51),o=n.n(a);e.default={data:function(){return{pendingExams:[],completedExams:[]}},mounted:function(){var t=this;this.$api.get("exams/pending-and-completed").then(function(e){t.pendingExams=e.data.pending,t.completedExams=e.data.completed})},components:{AvailableExamList:r.a,CompletedExamList:o.a}}},function(t,e,n){var i=n(0)(n(46),n(50),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),r=n.n(i);e.default={props:["exams","noOfCompletedExams"],components:{AvailableExam:r.a}}},function(t,e,n){var i=n(0)(n(48),n(49),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n.n(i);e.default={computed:{expiredAt:function(){return r.a.format(r.a.parse(this.exam.pivot.ended_at,"YYYY-MM-DD HH:mm:ss"),"MMM Do, YYYY h:mm a")},daysLeft:function(){var t=r.a.parse(this.exam.pivot.ended_at,"YYYY-MM-DD HH:mm:ss")-new Date,e=parseInt(Math.floor(t/846e5));if(e)return e+(e>1?" days":" day ");var n=parseInt(Math.floor(t%846e5/36e5));return n+(n>1?" hours":" hour ")},commandText:function(){return"3"==this.exam.pivot.status_id?"Take Test":"Continue"}},props:["exam"],methods:{start:function(){this.$router.push({name:"ExamStart",params:{id:this.exam.id}})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"available-exams-row"},[n("h3",[t._v(t._s(t.exam.title))]),t._v(" "),n("div",{staticClass:"exam-expiration-date"},[n("p",[t._v("Expiration Date: "),n("span",[t._v(t._s(t.expiredAt))])]),t._v(" "),n("div",{staticClass:"exam-details"},[t._v(t._s(t.exam.duration)+" minutes "),n("span",{staticClass:"separator"},[t._v("|")]),t._v(" "+t._s(t.exam.score)+" marks "),n("span",{staticClass:"separator"},[t._v("|")]),t._v(" "+t._s(t.exam.total_no_of_questions)+" questions")])]),t._v(" "),n("div",{staticClass:"exam-left-days"},[n("p",{staticClass:"left-days"},[t._v(t._s(t.daysLeft)+" left")]),t._v(" "),n("router-link",{attrs:{to:{name:"ExamStart",params:{id:t.exam.pivot.id,examId:t.exam.id}}}},[t._v(t._s(t.commandText))])],1),t._v(" "),n("div",{staticClass:"clearfix"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"available-exams-col"},[t._m(0),t._v(" "),n("div",{staticClass:"available-exams-content"},[t._l(t.exams,function(t,e){return n("available-exam",{key:t.pivot.id,attrs:{exam:t,index:e}})}),t._v(" "),!t.exams.length&&t.noOfCompletedExams?n("div",{staticClass:"no-exams-holder"},[t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),t.exams.length||t.noOfCompletedExams?t._e():n("div",{staticClass:"no-exams-found"},[t._v("\n      You are not assigned any exams yet.\n    ")])],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-bar"},[e("h2",[this._v("Available Exams")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-exams-found"},[e("div",{staticClass:"no-exams-congat"},[this._v("\n          Congratulation!!!\n        ")]),this._v(" "),e("div",{staticClass:"no-exams-text"},[this._v("\n          You have finished all your pending exams.\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-exams-image"},[e("img",{attrs:{src:"/img/no-exams.gif"}})])}]}},function(t,e,n){var i=n(0)(n(52),n(59),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(53),r=n.n(i);e.default={props:["exams"],components:{CompletedExam:r.a}}},function(t,e,n){var i=n(0)(n(57),n(58),!1,function(t){n(54)},null,null);t.exports=i.exports},function(t,e,n){var i=n(55);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(3)("3435f0e6",i,!0,{})},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".completed-exams-row{cursor:pointer}",""])},function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=a[0],s={id:t+":"+r,css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):n.push(i[o]={id:o,parts:[s]})}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n.n(i);e.default={computed:{completedOn:function(){return r.a.format(r.a.parse(this.exam.pivot.completed_at,"YYYY-MM-DD HH:mm:ss"),"MMMM Do, YYYY")},completedAt:function(){return r.a.format(r.a.parse(this.exam.pivot.completed_at,"YYYY-MM-DD HH:mm:ss"),"hh:mm a")},daysLeft:function(){var t=r.a.parse(this.exam.pivot.ended_at,"YYYY-MM-DD HH:mm:ss")-new Date,e=parseInt(Math.floor(t/846e5));return e+(e>1?" days":" day ")},state:function(){return this.exam.pivot.state},gradeClass:function(){var t={};if(this.state&&this.state.grade)return t[this.state.grade.toLowerCase()]=!0,t}},props:["exam"],methods:{showResult:function(){this.$router.push({name:"ExamResult",params:{id:this.exam.pivot.id}})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"completed-exams-row",on:{click:function(e){return e.preventDefault(),t.showResult(e)}}},[n("div",{staticClass:"completed-exams-details"},[n("h3",[t._v(t._s(t.exam.title))]),t._v(" "),n("div",{staticClass:"completed-exams-date"},[t._v(t._s(t.completedOn)+" "),n("span",{staticClass:"separator"},[t._v("|")]),t._v(" "+t._s(t.completedAt))])]),t._v(" "),n("div",{staticClass:"completed-exams-result"},[n("p",{staticClass:"result-count"},[t._v(t._s(t.state.score)+"/"+t._s(t.exam.score))]),t._v(" "),n("div",{staticClass:"result-status",class:t.gradeClass},[t._v(t._s(t.state.grade))])]),t._v(" "),n("div",{staticClass:"clearfix"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"completed-exams-col"},[t._m(0),t._v(" "),n("div",{staticClass:"completed-exams-content"},[t._l(t.exams,function(t,e){return n("completed-exam",{key:t.pivot.id,attrs:{exam:t,index:e}})}),t._v(" "),t.exams.length?t._e():n("div",{staticClass:"no-exams-found"},[t._v("No Complete exams")])],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-bar"},[e("h2",[this._v("Completed Exams")])])}]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"exams-content-wrap"},[e("available-exam-list",{attrs:{exams:this.pendingExams,noOfCompletedExams:this.completedExams.length}}),this._v(" "),e("completed-exam-list",{attrs:{exams:this.completedExams}}),this._v(" "),e("div",{staticClass:"clearfix"})],1)},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(62),n(65),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),r=n.n(i);e.default={components:{FollowHeader:r.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{elem:this.$router.currentRoute.name,isUserNavOpen:!1}},computed:{user:function(){return this.$store.state.user}},mounted:function(){this.$store.dispatch("getUser")},watch:{$route:function(t){this.elem=t.name}},methods:{logout:function(){this.$http.post("/logout").then(function(){}).catch(function(){window.location.reload()})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-wrap follow-header"},[n("div",{staticClass:"container"},[t._m(0),t._v(" "),n("div",{staticClass:"header-right"},[n("ul",{staticClass:"top-nav"},[n("li",{class:{active:"FollowHome"==t.elem}},[n("router-link",{attrs:{to:{name:"FollowHome"}}},[t._v("Dashboard")])],1),t._v(" "),n("li",{class:{active:"CourseList"==t.elem}},[n("router-link",{attrs:{to:{name:"CourseList"}}},[t._v("Courses")])],1),t._v(" "),n("li",{class:{active:"QuizHome"==t.elem}},[n("router-link",{attrs:{to:{name:"QuizHome"}}},[t._v("Exam Hall")])],1),t._v(" "),n("li",{class:{active:"LiveClass"==t.elem}},[n("router-link",{attrs:{to:{name:"LiveClass"}}},[t._v("Live Class")])],1)]),t._v(" "),n("ul",{staticClass:"user-nav"},[n("a",{staticClass:"user-name",attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.isUserNavOpen=!t.isUserNavOpen}}},[t._v(t._s(t.user.name))]),t._v(" "),n("ul",{staticClass:"dropdown-nav",class:{open:t.isUserNavOpen}},[1!=t.user.source?n("li",[n("a",{attrs:{href:"#"}},[t._v("Change Password")])]):t._e(),t._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logout")])])])])]),t._v(" "),n("div",{staticClass:"clearfix"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-wrap"},[e("a",{staticClass:"logo",attrs:{href:"/"}},[e("img",{attrs:{src:"/img/robi-airtel-logo.png",alt:""}})]),this._v(" "),e("span",{staticClass:"tag-text"},[e("img",{attrs:{src:"/img/classroom.png",alt:"Classroom"}})])])}]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("follow-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(69),n(107),!1,function(t){n(67)},null,null);t.exports=i.exports},function(t,e,n){var i=n(68);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(3)("2210f83e",i,!0,{})},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".live_strm{text-align:center;padding-top:10px}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(70),r=n.n(i),a=n(71);n.n(a);e.default={data:function(){return{url:"https://5c3618658133b.streamlock.net/live/myStream/playlist.m3u8?DVR"}},mounted:function(){this.initApp()},methods:{initApp:function(){r.a.polyfill.installAll(),r.a.Player.isBrowserSupported()?this.initPlayer():console.error("Browser not supported!")},initPlayer:function(){var t=this.$refs.video,e=new r.a.Player(t);e.configure("manifest.defaultPresentationDelay",0),window.player=e,e.addEventListener("error",this.onErrorEvent),e.load(this.url).then(function(){console.log("The video has now been loaded!")}).catch(this.onError)},onErrorEvent:function(t){this.onError(t.detail)},onError:function(t){console.error("Error code",t.code,"object",t)}}}},function(t,e,n){(function(t){!function(){var n="undefined"!=typeof window?window:t,i={};for(var r in function(t,e){var n,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=void 0!==t&&t===this?this:void 0!==e&&null!=e?e:this;function a(){a=function(){},r.Symbol||(r.Symbol=s)}var o,s=(o=0,function(t){return"jscomp_symbol_"+(t||"")+o++});function u(){a();var t=r.Symbol.iterator;t||(t=r.Symbol.iterator=r.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&i(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return c(this)}}),u=function(){}}function c(t){var e=0;return function(t){return u(),(t={next:t})[r.Symbol.iterator]=function(){return this},t}(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function l(t){u();var e=t[Symbol.iterator];return e?e.call(t):c(t)}function h(t,e){if(e){for(var n=r,a=t.split("."),o=0;o<a.length-1;o++){var s=a[o];s in n||(n[s]={}),n=n[s]}(s=e(o=n[a=a[a.length-1]]))!=o&&null!=s&&i(n,a,{configurable:!0,writable:!0,value:s})}}function d(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise(function(i,r){!function t(a){a.done?i(a.value):Promise.resolve(a.value).then(e,n).then(t,r)}(t.next())})}(t())}function f(){this.g=!1,this.c=null,this.I=void 0,this.w=1,this.b=this.f=0,this.i=this.a=null}function p(t){if(t.g)throw new TypeError("Generator is already running");t.g=!0}function m(t,e){t.a={nc:e,uc:!0},t.w=t.f||t.b}function v(t,e,n){return t.w=n,{value:e}}function g(t,e,n){t.f=e,void 0!=n&&(t.b=n)}function y(t){t.f=0;var e=t.a.nc;return t.a=null,e}function _(t){t.i=[t.a],t.f=0,t.b=0}function b(t,e){var n=t.i.splice(0)[0];(n=t.a=t.a||n)?n.uc?t.w=t.f||t.b:void 0!=n.W&&t.b<n.W?(t.w=n.W,t.a=null):t.w=t.b:t.w=e}function w(t,e,n,i){try{var r=e.call(t.a.c,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return t.a.g=!1,r;var a=r.value}catch(e){return t.a.c=null,m(t.a,e),T(t)}return t.a.c=null,i.call(t.a,a),T(t)}function T(t){for(;t.a.w;)try{var e=t.b(t.a);if(e)return t.a.g=!1,{value:e.value,done:!1}}catch(e){t.a.I=void 0,m(t.a,e)}if(t.a.g=!1,t.a.a){if(e=t.a.a,t.a.a=null,e.uc)throw e.nc;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function S(t){this.next=function(e){return p(t.a),t.a.c?e=w(t,t.a.c.next,e,t.a.h):(t.a.h(e),e=T(t)),e},this.throw=function(e){return p(t.a),t.a.c?e=w(t,t.a.c.throw,e,t.a.h):(m(t.a,e),e=T(t)),e},this.return=function(e){return function(t,e){p(t.a);var n=t.a.c;return n?w(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),T(t))}(t,e)},u(),this[Symbol.iterator]=function(){return this}}function E(t,e){return S.prototype=t.prototype,new S(new function(t){this.a=new f,this.b=t}(e))}h("Promise",function(t){function e(t){this.b=0,this.g=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){null==this.a&&(this.a=[],this.f()),this.a.push(t)},n.prototype.f=function(){var t=this;this.c(function(){t.h()})};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.a=null},n.prototype.g=function(t){this.c(function(){throw t})},e.prototype.c=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.f)}},e.prototype.m=function(t){if(t===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.l(t):this.h(t)}},e.prototype.l=function(t){var e=void 0;try{e=t.then}catch(t){return void this.f(t)}"function"==typeof e?this.s(e,t):this.h(t)},e.prototype.f=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.g=e,this.j()},e.prototype.j=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new n;return e.prototype.o=function(t){var e=this.c();t.qb(e.resolve,e.reject)},e.prototype.s=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){a(t)}}:e}var r,a,o=new e(function(t,e){r=t,a=e});return this.qb(i(t,r),i(n,a)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.qb=function(t,e){function n(){switch(i.b){case 1:t(i.g);break;case 2:e(i.g);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?o.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=l(t),a=r.next();!a.done;a=r.next())i(a.value).qb(e,n)})},e.all=function(t){var n=l(t),r=n.next();return r.done?i([]):new e(function(t,e){function a(e){return function(n){o[e]=n,0==--s&&t(o)}}var o=[],s=0;do{o.push(void 0),s++,i(r.value).qb(a(o.length-1),e),r=n.next()}while(!r.done)})},e}),h("Promise.prototype.finally",function(t){return t||function(t){return this.then(function(e){return Promise.resolve(t()).then(function(){return e})},function(e){return Promise.resolve(t()).then(function(){throw e})})}}),f.prototype.h=function(t){this.I=t},f.prototype.return=function(t){this.a={return:t},this.w=this.b},f.prototype.W=function(t){this.w=t},h("Array.prototype.find",function(t){return t||function(t,e){t:{var n=this;n instanceof String&&(n=String(n));for(var i=n.length,r=0;r<i;r++){var a=n[r];if(t.call(e,a,r,n)){n=a;break t}}n=void 0}return n}});var k=this;function x(t,e){var n,i=t.split("."),r=k;i[0]in r||!r.execScript||r.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||void 0===e?r=r[n]?r[n]:r[n]={}:r[n]=e}function C(t,e){function n(){}n.prototype=e.prototype,t.df=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.bf=function(t,n,i){return e.prototype[n].apply(t,Array.prototype.slice.call(arguments,2))}}function A(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function O(t,e,n){var i=Math.pow(t.c,e);n=n*(1-i)+i*t.a,isNaN(n)||(t.a=n,t.b+=e)}function P(t){return t.a/(1-Math.pow(t.c,t.b))}function I(){this.b=new A(2),this.c=new A(5),this.a=0}function L(){}function M(){}k.a=!0,I.prototype.getBandwidthEstimate=function(t){return 128e3>this.a?t:Math.min(P(this.b),P(this.c))},t.console&&t.console.log.bind&&(L=console.warn.bind(console));var D=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function R(t){var e;t instanceof R?(N(this,t.ha),this.Da=t.Da,this.ka=t.ka,U(this,t.Pa),this.aa=t.aa,j(this,Y(t.a)),this.xa=t.xa):t&&(e=String(t).match(D))?(N(this,e[1]||"",!0),this.Da=B(e[2]||""),this.ka=B(e[3]||"",!0),U(this,e[4]),this.aa=B(e[5]||"",!0),j(this,e[6]||"",!0),this.xa=B(e[7]||"")):this.a=new G(null)}function N(t,e,n){t.ha=n?B(e,!0):e,t.ha&&(t.ha=t.ha.replace(/:$/,""))}function U(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Pa=e}else t.Pa=null}function j(t,e,n){e instanceof G?t.a=e:(n||(e=F(e,z)),t.a=new G(e))}function B(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function F(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,H),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function H(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(n=R.prototype).ha="",n.Da="",n.ka="",n.Pa=null,n.aa="",n.xa="",n.toString=function(){var t=[],e=this.ha;if(e&&t.push(F(e,q,!0),":"),e=this.ka){t.push("//");var n=this.Da;n&&t.push(F(n,q,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Pa)&&t.push(":",String(e))}return(e=this.aa)&&(this.ka&&"/"!=e.charAt(0)&&t.push("/"),t.push(F(e,"/"==e.charAt(0)?$:V,!0))),(e=this.a.toString())&&t.push("?",e),(e=this.xa)&&t.push("#",F(e,W)),t.join("")},n.resolve=function(t){var e=new R(this);"data"===e.ha&&(e=new R);var n=!!t.ha;n?N(e,t.ha):n=!!t.Da,n?e.Da=t.Da:n=!!t.ka,n?e.ka=t.ka:n=null!=t.Pa;var i=t.aa;if(n)U(e,t.Pa);else if(n=!!t.aa){if("/"!=i.charAt(0))if(this.ka&&!this.aa)i="/"+i;else{var r=e.aa.lastIndexOf("/");-1!=r&&(i=e.aa.substr(0,r+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}i=a.join("/")}}return n?e.aa=i:n=""!==t.a.toString(),n?j(e,Y(t.a)):n=!!t.xa,n&&(e.xa=t.xa),e};var q=/[#\/\?@]/g,V=/[#\?:]/g,$=/[#\?]/g,z=/[#\?@]/g,W=/#/g;function G(t){this.b=t||null}function Y(t){var e=new G;if(e.b=t.b,t.a){var n,i={};for(n in t.a)i[n]=t.a[n].concat();e.a=i,e.c=t.c}return e}function X(){var t,e,n=new Promise(function(n,i){t=n,e=i});return n.resolve=t,n.reject=e,n}function K(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.i=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.f=null==t.baseDelay?n.baseDelay:t.baseDelay,this.h=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.g=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.a=0,this.b=this.f,(this.c=e||!1)&&(this.a=1)}function Q(e){if(e.a>=e.i){if(!e.c)return Promise.reject();e.a=1,e.b=e.f}var n=new X;return e.a?(t.setTimeout(n.resolve,e.b*(1+(2*Math.random()-1)*e.h)),e.b*=e.g):n.resolve(),e.a++,n}function J(t,e,n,i){this.severity=t,this.category=e,this.code=n,this.data=Array.prototype.slice.call(arguments,3),this.handled=!1}function Z(t,e){this.promise=t,this.b=e,this.a=!1}function tt(t){return new Z(Promise.reject(t),function(){return Promise.resolve()})}function et(){var t=Promise.reject(new J(2,7,7001));return t.catch(function(){}),new Z(t,function(){return Promise.resolve()})}function nt(t){return new Z(Promise.resolve(t),function(){return Promise.resolve()})}function it(t){return new Z(t,function(){return t.catch(function(){})})}function rt(t){return new Z(Promise.all(t.map(function(t){return t.promise})),function(){return Promise.all(t.map(function(t){return t.abort()}))})}function at(t,e,n){try{var i=t(e);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){}).catch(function(){})})}catch(t){return n.reject(t),function(){return Promise.resolve()}}}function ot(t,e){for(var n=[],i=0;i<t.length;++i){for(var r=!1,a=0;a<n.length&&!(r=e?e(t[i],n[a]):t[i]===n[a]);++a);r||n.push(t[i])}return n}function st(t,e,n){for(var i=0;i<t.length;++i)if(n(t[i],e))return i;return-1}function ut(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function ct(t,e,n,i,r){var a,o=r in i,s=!0;for(a in e){var u=r+"."+a,c=o?i[r]:n[a];o||a in t?void 0===e[a]?void 0===c||o?delete t[a]:t[a]=c:c.constructor==Object&&e[a]&&e[a].constructor==Object?(t[a]||(t[a]=c),u=ct(t[a],e[a],c,i,u),s=s&&u):typeof e[a]!=typeof c||null==e[a]||e[a].constructor!=c.constructor?s=!1:t[a]=e[a]:s=!1}return s}function lt(t){var e=[];return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n)return n;if(0<=e.indexOf(n))return null;var i=n.constructor==Array;if(n.constructor!=Object&&!i)return null;e.push(n);var r,a=i?[]:{};for(r in n)a[r]=t(n[r]);return i&&(a.length=n.length),a}}(t)}function ht(t,e){function n(){return Promise.all(t.map(function(t){return t.destroy()}))}return Promise.resolve(e()).then(function(t){return n().then(function(){return t})},function(t){return n().then(function(){throw t})})}function dt(){this.a=[]}function ft(t,e){t.a.push(e.finally(function(){ut(t.a,e)}))}function pt(t){this.c=!1,this.g=new dt,this.a=[],this.b=[],this.f=t||null}G.prototype.a=null,G.prototype.c=null,G.prototype.add=function(t,e){if(!this.a&&(this.a={},this.c=0,this.b))for(var n=this.b.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),a=null;if(0<=r){var o=n[i].substring(0,r);a=n[i].substring(r+1)}else o=n[i];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.b=null,(n=this.a.hasOwnProperty(t)&&this.a[t])||(this.a[t]=n=[]),n.push(e),this.c++,this},G.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var t,e=[];for(t in this.a)for(var n=encodeURIComponent(t),i=this.a[t],r=0;r<i.length;r++){var a=n;""!==i[r]&&(a+="="+encodeURIComponent(i[r])),e.push(a)}return this.b=e.join("&")},X.prototype.resolve=function(){},X.prototype.reject=function(){},x("shaka.util.Error",J),J.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},J.Severity={RECOVERABLE:1,CRITICAL:2},J.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},J.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},x("shaka.util.AbortableOperation",Z),Z.failed=tt,Z.aborted=et,Z.completed=nt,Z.notAbortable=it,Z.prototype.abort=function(){return this.a=!0,this.b()},Z.prototype.abort=Z.prototype.abort,Z.all=rt,Z.prototype.finally=function(t){return this.promise.then(function(){return t(!0)},function(){return t(!1)}),this},Z.prototype.finally=Z.prototype.finally,Z.prototype.V=function(t,e){function n(){return r.reject(new J(2,7,7001)),i.abort()}var i=this,r=new X;return this.promise.then(function(e){i.a?r.reject(new J(2,7,7001)):t?n=at(t,e,r):r.resolve(e)},function(t){e?n=at(e,t,r):r.reject(t)}),new Z(r,function(){return n()})},Z.prototype.chain=Z.prototype.V,dt.prototype.destroy=function(){var t=[];return this.a.forEach(function(e){e.promise.catch(function(){}),t.push(e.abort())}),this.a=[],Promise.all(t)},x("shaka.net.NetworkingEngine",pt),pt.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3},pt.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var mt={};function vt(t,e,n){n=n||3;var i=mt[t];(!i||n>=i.priority)&&(mt[t]={priority:n,ke:e})}function gt(t,e){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e}}function yt(t){return t.then=function(e,n){return L("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5."),t.promise.then(e,n)},t.catch=function(e){return L("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5."),t.promise.catch(e)},t}function _t(){this.a={}}function bt(){this.a=new _t}function wt(t,e,n,i){t.a&&(e=new Et(e,n,i),t.a.push(n,e))}function Tt(t,e,n,i){wt(t,e,n,function(t){this.na(e,n),i(t)}.bind(t))}function St(t){if(t.a){var e,n=t.a,i=[];for(e in n.a)i.push.apply(i,n.a[e]);for(n=0;n<i.length;++n)i[n].na();t.a.a={}}}function Et(t,e,n){this.target=t,this.type=e,this.a=n,this.target.addEventListener(e,n,!1)}function kt(e,n){var i,r=n||{};for(i in r)this[i]=r[i];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function xt(t,e){return t.concat(e)}function Ct(){}function At(t){return null!=t}function Ot(t,e,n){return n.indexOf(t)==e}function Pt(t,e){if(0==e.length)return t;var n=e.map(function(t){return new R(t)});return t.map(function(t){return new R(t)}).map(function(t){return n.map(t.resolve.bind(t))}).reduce(xt,[]).map(function(t){return t.toString()})}function It(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:e||[],keyIds:[]}}pt.registerScheme=vt,pt.unregisterScheme=function(t){delete mt[t]},pt.prototype.ne=function(t){this.a.push(t)},pt.prototype.registerRequestFilter=pt.prototype.ne,pt.prototype.Se=function(t){ut(this.a,t)},pt.prototype.unregisterRequestFilter=pt.prototype.Se,pt.prototype.ed=function(){this.a=[]},pt.prototype.clearAllRequestFilters=pt.prototype.ed,pt.prototype.oe=function(t){this.b.push(t)},pt.prototype.registerResponseFilter=pt.prototype.oe,pt.prototype.Te=function(t){ut(this.b,t)},pt.prototype.unregisterResponseFilter=pt.prototype.Te,pt.prototype.fd=function(){this.b=[]},pt.prototype.clearAllResponseFilters=pt.prototype.fd,pt.prototype.destroy=function(){return this.c=!0,this.a=[],this.b=[],this.g.destroy()},pt.prototype.destroy=pt.prototype.destroy,pt.prototype.request=function(t,e){var n=this;if(this.c)return yt(et());e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?lt(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},e.uris=lt(e.uris);var i=function(t,e,n){var i=nt(void 0);return t.a.forEach(function(t){i=i.V(function(){return t(e,n)})}),i.V(void 0,function(t){if(t&&7001==t.code)throw t;throw new J(2,1,1006,t)})}(this,t,e),r=i.V(function(){return function t(e,n,i,r,a,o){var s=new R(i.uris[a]),u=s.ha;u||(u=location.protocol,u=u.slice(0,-1),N(s,u),i.uris[a]=s.toString());var c=(u=mt[u])?u.ke:null;if(!c)return tt(new J(2,1,1e3,s));var l;return it(Q(r)).V(function(){if(e.c)return et();l=Date.now();var t=c(i.uris[a],i,n);return void 0==t.promise&&(L("The scheme plugin interface has changed!  Please update your scheme plugins to the new interface to add support for abort().  Support for the old plugin interface will be removed in v2.5."),t=it(t)),t}).V(function(t){return void 0==t.timeMs&&(t.timeMs=Date.now()-l),t},function(s){if(s&&7001==s.code)throw s;if(e.c)return et();if(s&&1==s.severity)return a=(a+1)%i.uris.length,t(e,n,i,r,a,s);throw s||o})}(n,t,e,new K(e.retryParameters,!1),0,null)}),a=r.V(function(e){return function(t,e,n){var i=nt(void 0);return t.b.forEach(function(t){i=i.V(function(){return t(e,n)})}),i.V(function(){return n},function(t){if(t&&7001==t.code)throw t;var e=2;throw t instanceof J&&(e=t.severity),new J(e,1,1007,t)})}(n,t,e)}),o=Date.now(),s=0;i.promise.then(function(){s=Date.now()-o},function(){});var u=0;return r.promise.then(function(){u=Date.now()},function(){}),i=a.V(function(e){var i=Date.now()-u;return e.timeMs+=s,e.timeMs+=i,n.f&&!e.fromCache&&1==t&&n.f(e.timeMs,e.data.byteLength),e},function(t){throw t&&(t.severity=2),t}),ft(this.g,i),yt(i)},pt.prototype.request=pt.prototype.request,_t.prototype.push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},_t.prototype.get=function(t){return(t=this.a[t])?t.slice():null},_t.prototype.remove=function(t,e){var n=this.a[t];if(n)for(var i=0;i<n.length;++i)n[i]==e&&(n.splice(i,1),--i)},bt.prototype.destroy=function(){return St(this),this.a=null,Promise.resolve()},bt.prototype.na=function(t,e){if(this.a)for(var n=this.a.get(e)||[],i=0;i<n.length;++i){var r=n[i];r.target==t&&(r.na(),this.a.remove(e,r))}},Et.prototype.na=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null},kt.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},kt.prototype.stopImmediatePropagation=function(){this.a=!0},kt.prototype.stopPropagation=function(){};var Lt=1/15;function Mt(t){return!t||0==Object.keys(t).length}function Dt(t){return Object.keys(t).map(function(e){return t[e]})}function Rt(t,e){Object.keys(t).forEach(function(n){e(n,t[n])})}function Nt(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}var Ut={codecs:"codecs",frameRate:"framerate",bandwidth:"bitrate",width:"width",height:"height",channelsCount:"channels"};function jt(t){if(!t)return"";239==(t=new Uint8Array(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=escape(qt(t));try{return decodeURIComponent(t)}catch(t){throw new J(2,2,2004)}}function Bt(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw new J(2,2,2004);if(t instanceof ArrayBuffer)var i=t;else(n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),i=n.buffer;t=Math.floor(t.byteLength/2),n=new Uint16Array(t),i=new DataView(i);for(var r=0;r<t;r++)n[r]=i.getUint16(2*r,e);return qt(n)}function Ft(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return jt(e);if(254==e[0]&&255==e[1])return Bt(e.subarray(2),!1);if(255==e[0]&&254==e[1])return Bt(e.subarray(2),!0);var n=function(t,e){return t.byteLength<=e||32<=t[e]&&126>=t[e]}.bind(null,e);if(0==e[0]&&0==e[2])return Bt(t,!1);if(0==e[1]&&0==e[3])return Bt(t,!0);if(n(0)&&n(1)&&n(2)&&n(3))return jt(t);throw new J(2,2,2003)}function Ht(t){t=encodeURIComponent(t),t=unescape(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e.buffer}function qt(t){for(var e="",n=0;n<t.length;n+=16e3)e+=String.fromCharCode.apply(null,t.subarray(n,n+16e3));return e}function Vt(t){this.a=null,this.b=function(){this.a=null,t()}.bind(this)}function $t(t,e){t.cancel();var n=function(){this.b(),this.a=setTimeout(n,1e3*e)}.bind(t);t.a=setTimeout(n,1e3*e)}function zt(e,n){var i=void 0==n||n,r=t.btoa(qt(e)).replace(/\+/g,"-").replace(/\//g,"_");return i?r:r.replace(/=*$/,"")}function Wt(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),i=0;i<e.length;++i)n[i]=e.charCodeAt(i);return n}function Gt(e){for(var n=new Uint8Array(e.length/2),i=0;i<e.length;i+=2)n[i/2]=t.parseInt(e.substr(i,2),16);return n}function Yt(t){for(var e="",n=0;n<t.length;++n){var i=t[n].toString(16);1==i.length&&(i="0"+i),e+=i}return e}function Xt(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!1;return!0}function Kt(t){for(var e=0,n=0;n<arguments.length;++n)e+=arguments[n].length;e=new Uint8Array(e);for(var i=n=0;i<arguments.length;++i)e.set(arguments[i],n),n+=arguments[i].length;return e}function Qt(t){this.s=t,this.l=this.j=this.u=null,this.L=!1,this.b=null,this.g=new bt,this.a=[],this.o=[],this.i=new X,this.f=null,this.h=function(e){this.i.reject(e),t.onError(e)}.bind(this),this.R={},this.m={},this.G=new Vt(this.me.bind(this)),this.fa=this.c=!1,this.J=[],this.X=!1,this.A=new Vt(this.le.bind(this)),$t(this.A,1),this.i.catch(function(){})}function Jt(t,e){return Promise.all(e.map(function(t){return te(this,t).then(function(t){if(t){for(var e=new X,n=0;n<this.a.length;n++)if(this.a[n].ia==t){this.a[n].oa=e;break}return Promise.all([t.remove(),e])}}.bind(this))}.bind(t)))}function Zt(t){var e=t.b?t.b.initData:[];return e.forEach(function(t){ee(this,t.initDataType,t.initData)}.bind(t)),t.o.forEach(function(t){te(this,t)}.bind(t)),e.length||t.o.length||t.i.resolve(),t.i}function te(t,e){try{var n=t.j.createSession("persistent-license")}catch(e){var i=new J(2,6,6005,e.message);return t.h(i),Promise.reject(i)}wt(t.g,n,"message",t.Ec.bind(t)),wt(t.g,n,"keystatuseschange",t.Ac.bind(t));var r={initData:null,ia:n,loaded:!1,Rb:1/0,oa:null};return t.a.push(r),n.load(e).then(function(t){if(!this.c){if(t)return r.loaded=!0,this.a.every(function(t){return t.loaded})&&this.i.resolve(),n;this.a.splice(this.a.indexOf(r),1),this.h(new J(2,6,6013))}}.bind(t),function(t){this.c||(this.a.splice(this.a.indexOf(r),1),this.h(new J(2,6,6005,t.message)))}.bind(t))}function ee(t,e,n){try{var i=t.fa?t.j.createSession("persistent-license"):t.j.createSession()}catch(e){return void t.h(new J(2,6,6005,e.message))}wt(t.g,i,"message",t.Ec.bind(t)),wt(t.g,i,"keystatuseschange",t.Ac.bind(t)),t.a.push({initData:n,ia:i,loaded:!1,Rb:1/0,oa:null}),i.generateRequest(e,n.buffer).catch(function(t){if(!this.c){for(var e=0;e<this.a.length;++e)if(this.a[e].ia==i){this.a.splice(e,1);break}this.h(new J(2,6,6006,t.message))}}.bind(t))}function ne(t,e){for(var n,i=e.target,r=0;r<t.a.length;r++)if(t.a[r].ia==i){n=t.a[r];break}(r=gt([t.b.licenseServerUri],t.f.retryParameters)).body=e.message,r.method="POST","com.microsoft.playready"!=t.b.keySystem&&"com.chromecast.playready"!=t.b.keySystem||function(t){var e=Bt(t.body,!0,!0);if(-1==e.indexOf("PlayReadyKeyMessage"))t.headers["Content-Type"]="text/xml; charset=utf-8";else{for(var n=(e=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("HttpHeader"),i=0;i<n.length;++i)t.headers[n[i].querySelector("name").textContent]=n[i].querySelector("value").textContent;t.body=Wt(e.querySelector("Challenge").textContent).buffer}}(r),t.s.La.request(2,r).promise.then(function(t){return this.c?Promise.reject():i.update(t.data).then(function(){this.s.onEvent(new kt("drmsessionupdate")),n&&(n.oa&&n.oa.resolve(),setTimeout(function(){n.loaded=!0,this.a.every(function(t){return t.loaded})&&this.i.resolve()}.bind(this),1e3*ae))}.bind(this))}.bind(t),function(t){if(this.c)return Promise.resolve();t=new J(2,6,6007,t),this.h(t),n&&n.oa&&n.oa.reject(t)}.bind(t)).catch(function(t){if(this.c)return Promise.resolve();t=new J(2,6,6008,t.message),this.h(t),n&&n.oa&&n.oa.reject(t)}.bind(t))}function ie(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],i=0;i<t.length;i++)for(var r=0;r<e.length;r++)if(t[i].keySystem==e[r].keySystem){var a=t[i];r=e[r];var o=[];o=(o=o.concat(a.initData||[])).concat(r.initData||[]);var s=[];s=(s=s.concat(a.keyIds)).concat(r.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||r.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||r.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||r.persistentStateRequired,videoRobustness:a.videoRobustness||r.videoRobustness,audioRobustness:a.audioRobustness||r.audioRobustness,serverCertificate:a.serverCertificate||r.serverCertificate,initData:o,keyIds:s});break}return n}x("shaka.util.StringUtils.fromUTF8",jt),x("shaka.util.StringUtils.fromUTF16",Bt),x("shaka.util.StringUtils.fromBytesAutoDetect",Ft),x("shaka.util.StringUtils.toUTF8",Ht),Vt.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},x("shaka.util.Uint8ArrayUtils.toBase64",zt),x("shaka.util.Uint8ArrayUtils.fromBase64",Wt),x("shaka.util.Uint8ArrayUtils.fromHex",Gt),x("shaka.util.Uint8ArrayUtils.toHex",Yt),x("shaka.util.Uint8ArrayUtils.equal",Xt),x("shaka.util.Uint8ArrayUtils.concat",Kt),(n=Qt.prototype).destroy=function(){this.c=!0;var t=[];return this.a.forEach(function(e){e=e.ia.close().catch(Ct);var n=new Promise(function(t){setTimeout(t,1e3*re)});t.push(Promise.race([e,n]))}),this.i.reject(),this.g&&t.push(this.g.destroy()),this.l&&t.push(this.l.setMediaKeys(null).catch(Ct)),this.A&&(this.A.cancel(),this.A=null),this.G&&(this.G.cancel(),this.G=null),this.g=this.l=this.j=this.u=this.b=null,this.a=[],this.o=[],this.s=this.h=this.f=null,Promise.all(t)},n.configure=function(t){this.f=t},n.init=function(e,n){var i={},r=[],a=e.periods.some(function(t){return t.variants.some(function(t){return t.drmInfos.length})});return this.fa=n,this.o=e.offlineSessionIds,function(e,n,i,r,a){var o=function(e){if(Mt(e.f.clearKeys))return null;var n,i=[],r=[];for(n in e.f.clearKeys){var a=e.f.clearKeys[n],o=Gt(n);a=Gt(a),o={kty:"oct",kid:zt(o,!1),k:zt(a,!1)},i.push(o),r.push(o.kid)}return e=JSON.stringify({keys:i}),r=JSON.stringify({kids:r}),r=[{initData:new Uint8Array(Ht(r)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:r,keyIds:[]}}(e),s=function(t,e){var n=t.f,i=Object.keys(n.servers);return!i.length||e.periods.some(function(t){return t.variants.some(function(t){return t.drmInfos.length})})?null:i.map(function(t){return{keySystem:t,licenseServerUri:n.servers[t],distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]}})}(e,n);n.periods.forEach(function(e){e.variants.forEach(function(e){o&&(e.drmInfos=[o]),s&&(e.drmInfos=s),e.drmInfos.forEach(function(n){!function(t,e){var n=e.keySystem;if(n){if(!e.licenseServerUri){var i=t.f.servers[n];i&&(e.licenseServerUri=i)}e.keyIds||(e.keyIds=[]),(n=t.f.advanced[n])&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.videoRobustness||(e.videoRobustness=n.videoRobustness),e.audioRobustness||(e.audioRobustness=n.audioRobustness),e.serverCertificate||(e.serverCertificate=n.serverCertificate))}}(this,n),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==n.keySystem&&(n.keySystem="com.chromecast.playready");var o=r[n.keySystem];o||(o={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:i?"required":"optional",sessionTypes:[i?"persistent-license":"temporary"],label:n.keySystem,drmInfos:[]},r[n.keySystem]=o,a.push(n.keySystem)),o.drmInfos.push(n),n.distinctiveIdentifierRequired&&(o.distinctiveIdentifier="required"),n.persistentStateRequired&&(o.persistentState="required");var s=[];e.video&&s.push(e.video),e.audio&&s.push(e.audio),s.forEach(function(t){("video"==t.type?o.videoCapabilities:o.audioCapabilities).push({robustness:("video"==t.type?n.videoRobustness:n.audioRobustness)||"",contentType:Nt(t.mimeType,t.codecs)})}.bind(this))}.bind(this))}.bind(this))}.bind(e))}(this,e,n||0<e.offlineSessionIds.length,i,r),r.length?function(t,e,n,i){if(1==n.length&&""==n[0])return Promise.reject(new J(2,6,6e3));var r=new X,a=r;return[!0,!1].forEach(function(t){n.forEach(function(n){var i=e[n];i.drmInfos.some(function(t){return!!t.licenseServerUri})==t&&(0==i.audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities,a=a.catch(function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(n,[i])}.bind(this)))}.bind(this))}.bind(t)),a=(a=a.catch(function(){return Promise.reject(new J(2,6,6001))})).then(function(t){if(this.c)return Promise.reject();var n=0<=navigator.userAgent.indexOf("Edge/"),i=t.getConfiguration();return this.u=(i.audioCapabilities||[]).concat(i.videoCapabilities||[]).map(function(t){return t.contentType}),n&&(this.u=null),n=e[t.keySystem],function(t,e,n,i){var r=[],a=[],o=[],s=[];(function(t,e,n,i,r){function a(t,e){return!(!t.keyId||t.keyId!=e.keyId)||t.initDataType==e.initDataType&&Xt(t.initData,e.initData)}t.forEach(function(t){if(-1==e.indexOf(t.licenseServerUri)&&e.push(t.licenseServerUri),t.serverCertificate&&-1==st(n,t.serverCertificate,Xt)&&n.push(t.serverCertificate),t.initData&&t.initData.forEach(function(t){-1==st(i,t,a)&&i.push(t)}),t.keyIds)for(var o=0;o<t.keyIds.length;++o)-1==r.indexOf(t.keyIds[o])&&r.push(t.keyIds[o])})})(i,r,a,o,s),t.b={keySystem:e,licenseServerUri:r[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:a[0],initData:o,keyIds:s}}(this,t.keySystem,n,n.drmInfos),this.b.licenseServerUri?t.createMediaKeys():Promise.reject(new J(2,6,6012))}.bind(t)).then(function(t){if(this.c)return Promise.reject();this.j=t,this.L=!0}.bind(t)).catch(function(t){return this.c?Promise.resolve():(this.u=this.b=null,t instanceof J?Promise.reject(t):Promise.reject(new J(2,6,6002,t.message)))}.bind(t)),i||(a=a.catch(function(){})),r.reject(),a}(this,i,r,a):(this.L=!0,Promise.resolve())},n.pb=function(t){if(!this.j)return Tt(this.g,t,"encrypted",function(){this.h(new J(2,6,6010))}.bind(this)),Promise.resolve();this.l=t,Tt(this.g,this.l,"play",this.Rd.bind(this)),t=(t=this.l.setMediaKeys(this.j)).catch(function(t){return Promise.reject(new J(2,6,6003,t.message))});var e=null;return this.b.serverCertificate&&this.b.serverCertificate.length&&(e=this.j.setServerCertificate(this.b.serverCertificate).then(function(){}).catch(function(t){return Promise.reject(new J(2,6,6004,t.message))})),Promise.all([t,e]).then(function(){if(this.c)return Promise.reject();Zt(this),this.b.initData.length||this.o.length||wt(this.g,this.l,"encrypted",this.Gd.bind(this))}.bind(this)).catch(function(t){return this.c?Promise.resolve():Promise.reject(t)}.bind(this))},n.keySystem=function(){return this.b?this.b.keySystem:""},n.tb=function(){var t=this.a.map(function(t){return t=t.ia.expiration,isNaN(t)?1/0:t});return Math.min.apply(Math,t)},n.Gd=function(t){for(var e=new Uint8Array(t.initData),n=0;n<this.a.length;++n)if(Xt(e,this.a[n].initData))return;ee(this,t.initDataType,e)},n.Ec=function(t){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.X?this.J.push(t):ne(this,t)},n.Ac=function(t){var e;for(t=t.target,e=0;e<this.a.length&&this.a[e].ia!=t;++e);if(e!=this.a.length){var n=!1;t.keyStatuses.forEach(function(t,i){if("string"==typeof i){var r=i;i=t,t=r}if("com.microsoft.playready"==this.b.keySystem&&16==i.byteLength){var a=(r=new DataView(i)).getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,a,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(this.a[e].loaded=!0),"expired"==t&&(n=!0),r=Yt(new Uint8Array(i)),this.R[r]=t}.bind(this));var i=t.expiration-Date.now();(0>i||n&&1e3>i)&&!this.a[e].oa&&(this.a.splice(e,1),t.close().catch(function(){})),this.a.every(function(t){return t.loaded})&&(this.i.resolve(),function(t){var e=oe;t.cancel(),t.a=setTimeout(t.b,1e3*e)}(this.G))}},n.me=function(){for(var t in this.m={},this.R)this.m[t]=this.R[t];!Mt(this.m)&&function(t,e){return Object.keys(t).every(function(n){return e(n,t[n])})}(this.m,function(t,e){return"expired"==e})&&this.h(new J(2,6,6014)),this.s.vb(this.m)},n.Rd=function(){for(var t=0;t<this.J.length;t++)ne(this,this.J[t]);this.X=!0,this.J=[]},n.le=function(){this.a.forEach(function(t){var e=t.Rb,n=t.ia.expiration;isNaN(n)&&(n=1/0),n!=e&&(this.s.onExpirationUpdated(t.ia.sessionId,n),t.Rb=n)}.bind(this))};var re=1,ae=5,oe=.5;function se(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function ue(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e+n>=t.start(0)}function ce(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,i=t.length-1;0<=i&&t.end(i)>e;--i)n+=t.end(i)-Math.max(t.start(i),e);return n}function le(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function he(t,e,n){this.startTime=t,this.endTime=e,this.payload=n,this.region=new Ee,this.position=null,this.positionAlign=de,this.size=100,this.textAlign=fe,this.writingDirection=ge,this.lineInterpretation=ye,this.line=null,this.lineHeight="",this.lineAlign=_e,this.displayAlign=me,this.fontSize=this.backgroundColor=this.color="",this.fontWeight=we,this.fontStyle=Te,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}x("shaka.text.Cue",he);var de="auto";he.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:de};var fe="center",pe={LEFT:"left",RIGHT:"right",CENTER:fe,START:"start",END:"end"};he.textAlign=pe;var me="before",ve={BEFORE:me,CENTER:"center",AFTER:"after"};he.displayAlign=ve;var ge=0;he.writingDirection={HORIZONTAL_LEFT_TO_RIGHT:ge,HORIZONTAL_RIGHT_TO_LEFT:1,VERTICAL_LEFT_TO_RIGHT:2,VERTICAL_RIGHT_TO_LEFT:3};var ye=0;he.lineInterpretation={LINE_NUMBER:ye,PERCENTAGE:1};var _e="center",be={CENTER:_e,START:"start",END:"end"};he.lineAlign=be;var we=400;he.fontWeight={NORMAL:we,BOLD:700};var Te="normal",Se={NORMAL:Te,ITALIC:"italic",OBLIQUE:"oblique"};function Ee(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=ke,this.scroll=xe}he.fontStyle=Se,he.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},x("shaka.text.CueRegion",Ee);var ke=1;Ee.units={PX:0,PERCENTAGE:ke,LINES:2};var xe="";function Ce(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function Ae(e,n){return!(!t.muxjs||"mp2t"!=e.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(Oe(n,e)):MediaSource.isTypeSupported(Oe("audio",e))||MediaSource.isTypeSupported(Oe("video",e)))}function Oe(t,e){var n=e.replace("mp2t","mp4");"audio"==t&&(n=n.replace("video","audio"));var i=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(i){var r="avc1.",a=i[1],o=Number(i[2]);r=("66"==a?r+"4200":"77"==a?r+"4d00":r+"6400")+(o>>4).toString(16),r+=(15&o).toString(16),n=n.replace(i[0],r)}return n}function Pe(t){this.f=null,this.c=t,this.i=this.g=0,this.h=1/0,this.b=this.a=null}Ee.scrollMode={NONE:xe,UP:"up"},Ce.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Ce.prototype.i=function(t){for(var e=0;e<t.captions.length;e++){var n=t.captions[e];this.c.push(new he(n.startTime,n.endTime,n.text))}(e=new Uint8Array(t.data.byteLength+t.initSegment.byteLength)).set(t.initSegment,0),e.set(t.data,t.initSegment.byteLength),this.g.push(e)},Ce.prototype.h=function(){var t={data:Kt.apply(null,this.g),cues:this.c};this.b.resolve(t),this.f=!1};var Ie={};function Le(e){this.f=e,this.o=null,this.b={},this.a=null,this.c={},this.i=new bt,this.m=!1,this.h={},this.l=!1,e=this.j=new X;var n=new MediaSource;Tt(this.i,n,"sourceopen",e.resolve),this.f.src=t.URL.createObjectURL(n),this.g=n}function Me(t,e){t.a||(t.a=new Pe(t.o)),t.a.f=new Ie[e]}function De(t,e){if("text"==e)var n=t.a.a;else n=!(n=Re(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function Re(t,e){try{return t.b[e].buffered}catch(t){return null}}function Ne(t,e,n,i,r){return"text"==e?function(t,e,n,i){return Promise.resolve().then(function(){if(this.f&&this.c)if(null==n||null==i)this.f.parseInit(new Uint8Array(e));else{var t={periodStart:this.g,segmentStart:this.g+n,segmentEnd:this.g+i};t=this.f.parseMedia(new Uint8Array(e),t).filter(function(t){return t.startTime>=this.i&&t.startTime<this.h}.bind(this)),this.c.append(t),null==this.a&&(this.a=Math.max(n+this.g,this.i)),this.b=Math.min(i+this.g,this.h)}}.bind(t))}(t.a,n,i,r):t.h[e]?function(t,e){t.f=!0,t.b=new X,t.g=[],t.c=[];var n=new Uint8Array(e);return t.a.push(n),t.a.flush(),t.f&&t.b.reject(new J(2,3,3018)),t.b}(t.h[e],n).then(function(t){return this.a||Me(this,"text/vtt"),this.l&&this.a.hc(t.cues),je(this,e,this.Sc.bind(this,e,t.data.buffer))}.bind(t)):je(t,e,t.Sc.bind(t,e,n))}function Ue(t,e){return"text"==e?t.a?t.a.remove(0,1/0):Promise.resolve():je(t,e,t.Tc.bind(t,e,0,t.g.duration))}function je(t,e,n){if(t.m)return Promise.reject();if(n={start:n,p:new X},t.c[e].push(n),1==t.c[e].length)try{n.start()}catch(i){"QuotaExceededError"==i.name?n.p.reject(new J(2,3,3017,e)):n.p.reject(new J(2,3,3015,i)),Fe(t,e)}return n.p}function Be(t,e){if(t.m)return Promise.reject();var n,i=[];for(n in t.b){var r=new X,a={start:function(t){t.resolve()}.bind(null,r),p:r};t.c[n].push(a),i.push(r),1==t.c[n].length&&a.start()}return Promise.all(i).then(function(){try{e()}catch(e){var t=Promise.reject(new J(2,3,3015,e))}for(var n in this.b)Fe(this,n);return t}.bind(t),function(){return Promise.reject()}.bind(t))}function Fe(t,e){t.c[e].shift();var n=t.c[e][0];if(n)try{n.start()}catch(i){n.p.reject(new J(2,3,3015,i)),Fe(t,e)}}function He(t,e,n){return n==e||t>=qe&&n==e.split("-")[0]||t>=Ve&&n.split("-")[0]==e.split("-")[0]}x("shaka.text.TextEngine.registerParser",function(t,e){Ie[t]=e}),x("shaka.text.TextEngine.unregisterParser",function(t){delete Ie[t]}),Pe.prototype.destroy=function(){return this.c=this.f=null,Promise.resolve()},Pe.prototype.Ce=function(t){this.c=t},Pe.prototype.setDisplayer=Pe.prototype.Ce,Pe.prototype.Ib=function(t){try{return this.f.parseMedia(new Uint8Array(t),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new J(2,2,2009,t)}},Pe.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.c||!this.c.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))},Pe.prototype.hc=function(t){this.c.append(t)},Pe.prototype.appendCues=Pe.prototype.hc,(n=Le.prototype).destroy=function(){this.m=!0;var t,e=[];for(t in this.c){var n=this.c[t],i=n[0];for(this.c[t]=n.slice(0,1),i&&e.push(i.p.catch(Ct)),i=1;i<n.length;++i)n[i].p.catch(Ct),n[i].p.reject()}for(var r in this.a&&e.push(this.a.destroy()),this.h)e.push(this.h[r].destroy());return this.f&&(this.f.removeAttribute("src"),this.f.load()),Promise.all(e).then(function(){this.i.destroy(),this.o=this.a=this.g=this.f=this.i=null,this.b={},this.h={},this.c={}}.bind(this))},n.init=function(t,e){var n=this;return this.j.then(function(){for(var i in t){var r=t[i];r=Nt(r.mimeType,r.codecs),"text"==i?Me(n,r):(!e&&MediaSource.isTypeSupported(r)||!Ae(r,i)||(n.h[i]=new Ce,r=Oe(i,r)),r=n.g.addSourceBuffer(r),wt(n.i,r,"error",n.Oe.bind(n,i)),wt(n.i,r,"updateend",n.Na.bind(n,i)),n.b[i]=r,n.c[i]=[])}})},n.Eb=function(){var t=this.a&&null!=this.a.a?[{start:this.a.a,end:this.a.b}]:[];return{total:le(this.f.buffered),audio:le(Re(this,"audio")),video:le(Re(this,"video")),text:t}},n.remove=function(t,e,n){return"text"==t?this.a.remove(e,n):je(this,t,this.Tc.bind(this,t,e,n))},n.flush=function(t){return"text"==t?Promise.resolve():je(this,t,this.jd.bind(this,t))},n.endOfStream=function(t){return Be(this,function(){t?this.g.endOfStream(t):this.g.endOfStream()}.bind(this))},n.ja=function(t){return Be(this,function(){this.g.duration=t}.bind(this))},n.S=function(){return this.g.duration},n.Sc=function(t,e){this.b[t].appendBuffer(e)},n.Tc=function(t,e,n){n<=e?this.Na(t):this.b[t].remove(e,n)},n.$c=function(t){var e=this.b[t].appendWindowStart,n=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=n,this.Na(t)},n.jd=function(t){this.f.currentTime-=.001,this.Na(t)},n.Ee=function(t,e){0>e&&(e+=.001),this.b[t].timestampOffset=e,this.Na(t)},n.Be=function(t,e,n){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=n,this.b[t].appendWindowStart=e,this.Na(t)},n.Oe=function(t){this.c[t][0].p.reject(new J(2,3,3014,this.f.error?this.f.error.code:0))},n.Na=function(t){var e=this.c[t][0];e&&(e.p.resolve(),Fe(this,t))};var qe=1,Ve=2;function $e(t){t=t.toLowerCase().split("-");var e=ze[t[0]];return e&&(t[0]=e),t.join("-")}var ze={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};function We(t,e,n){var i=t.video;return!(i&&(i.width<e.minWidth||i.width>e.maxWidth||i.width>n.width||i.height<e.minHeight||i.height>e.maxHeight||i.height>n.height||i.width*i.height<e.minPixels||i.width*i.height>e.maxPixels)||t.bandwidth<e.minBandwidth||t.bandwidth>e.maxBandwidth)}function Ge(t,e,n){var i=!1;return t.variants.forEach(function(t){var r=t.allowedByApplication;t.allowedByApplication=We(t,e,n),r!=t.allowedByApplication&&(i=!0)}),i}function Ye(t,e,n,i){i.variants=i.variants.filter(function(i){return!(t&&t.L&&!function(t,e){var n=t.keySystem();return 0==e.drmInfos.length||e.drmInfos.some(function(t){return t.keySystem==n})}(t,i))&&(Xe(i.audio,t,e)&&Xe(i.video,t,n))}),i.textStreams=i.textStreams.filter(function(t){return!!Ie[Nt(t.mimeType,t.codecs)]})}function Xe(t,e,n){if(!t)return!0;var i=null;e&&e.L&&(i=e.u),e=Nt(t.mimeType,t.codecs);var r,a=Nt(t.mimeType,t.codecs),o=t.mimeType;for(r in Ut){var s=t[r],u=Ut[r];s&&(o+="; "+u+'="'+s+'"')}return!(!(Ie[a]||MediaSource.isTypeSupported(o)||Ae(a,t.type))||i&&t.encrypted&&0>i.indexOf(e)||n&&(t.mimeType!=n.mimeType||t.codecs.split(".")[0]!=n.codecs.split(".")[0]))}function Ke(t){var e=t.audio,n=t.video,i=e?e.codecs:null,r=n?n.codecs:null,a=[];r&&a.push(r),i&&a.push(i);var o=[];n&&o.push(n.mimeType),e&&o.push(e.mimeType),o=o[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=[];return e&&u.push.apply(u,e.roles),n&&u.push.apply(u,n.roles),u=ot(u),t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:o,codecs:a.join(", "),audioCodec:i,videoCodec:r,primary:t.primary,roles:u,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null},n&&(t.videoId=n.id,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.channelsCount=e.channelsCount,t.audioBandwidth=e.bandwidth||null,t.label=e.label),t}function Qe(t){return{id:t.id,active:!1,type:"text",bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null}}function Je(t){var e=[],n=rn(t.variants);return t=t.textStreams,n.forEach(function(t){e.push(Ke(t))}),t.forEach(function(t){e.push(Qe(t))}),e}function Ze(t,e,n){return rn(t.variants).map(function(t){var i=Ke(t);return t.video&&t.audio?i.active=n==t.video.id&&e==t.audio.id:t.video?i.active=n==t.video.id:t.audio&&(i.active=e==t.audio.id),i})}function tn(t,e){return t.textStreams.map(function(t){var n=Qe(t);return n.active=e==t.id,n})}function en(t,e){for(var n=0;n<t.variants.length;n++)if(t.variants[n].id==e.id)return t.variants[n];return null}function nn(t){return t.allowedByApplication&&t.allowedByKeySystem}function rn(t){return t.filter(function(t){return nn(t)})}function an(t,e,n,i,r){return on(t=function(t,e,n,i){var r=rn(t),a=r;(t=r.filter(function(t){return t.primary})).length&&(a=t);var o=a.length?a[0].language:"";if(a=a.filter(function(t){return t.language==o}),e){var s=$e(e);[Ve,qe,0].forEach(function(t){var e=!1;r.forEach(function(n){s=$e(s);var r=$e(n.language);He(t,s,r)&&(e?a.push(n):(a=[n],e=!0),i&&(i.audio=!0))})})}return n&&(e=un(a,n)).length?e:(e=a.map(function(t){return(t.audio?t.audio.roles:[]).concat(t.video?t.video.roles:[])}).reduce(xt,[])).length?un(a,e[0]):a}(t,e,n,r),i)}function on(t,e){var n=t.filter(function(t){return t.audio&&t.audio.channelsCount}).reduce(function(t,e){var n=e.audio.channelsCount;return t[n]?t[n].push(e):t[n]=[e],t},{}),i=Object.keys(n);if(0==i.length)return t;var r=i.filter(function(t){return t<=e});return r.length?n[Math.max.apply(null,r)]:n[Math.min.apply(null,i)]}function sn(t,e,n,i){var r=t,a=t.filter(function(t){return t.primary});a.length&&(r=a);var o=r.length?r[0].language:"";if(r=r.filter(function(t){return t.language==o}),e){var s=$e(e);[Ve,qe,0].forEach(function(e){var n=!1;t.forEach(function(t){var a=$e(t.language);He(e,s,a)&&(n?r.push(t):(r=[t],n=!0),i&&(i.text=!0))})})}if(n){if((e=cn(r,n)).length)return e}else if((e=r.filter(function(t){return 0==t.roles.length})).length)return e;return(e=r.map(function(t){return t.roles}).reduce(xt,[])).length?cn(r,e[0]):r}function un(t,e){return t.filter(function(t){return t.audio&&0<=t.audio.roles.indexOf(e)||t.video&&0<=t.video.roles.indexOf(e)})}function cn(t,e){return t.filter(function(t){return 0<=t.roles.indexOf(e)})}function ln(t,e,n){for(var i=0;i<n.length;i++)if(n[i].audio==t&&n[i].video==e)return n[i];return null}function hn(t,e){for(var n=t.periods.length-1;0<n;--n)if(e+Lt>=t.periods[n].startTime)return n;return 0}function dn(t,e){for(var n=0;n<t.periods.length;++n){var i=t.periods[n];if("text"==e.type){for(var r=0;r<i.textStreams.length;++r)if(i.textStreams[r]==e)return n}else for(r=0;r<i.variants.length;++r){var a=i.variants[r];if(a.audio==e||a.video==e||a.video&&a.video.trickModeVideo==e)return n}}return-1}function fn(){this.h=null,this.f=!1,this.b=new I,this.c=[],this.i=!1,this.a=this.g=null}function pn(t,e){return t&&(e=e.filter(function(e){return We(e,t,{width:1/0,height:1/0})})),e.sort(function(t,e){return t.bandwidth-e.bandwidth})}x("shaka.abr.SimpleAbrManager",fn),fn.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},fn.prototype.stop=fn.prototype.stop,fn.prototype.init=function(t){this.h=t},fn.prototype.init=fn.prototype.init,fn.prototype.chooseVariant=function(){var t=pn(this.a.restrictions,this.c),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!t.length&&(t=[(t=pn(null,this.c))[0]]);for(var n=t[0]||null,i=0;i<t.length;++i){var r=t[i],a=(t[i+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=r.bandwidth/this.a.bandwidthDowngradeTarget&&e<=a&&(n=r)}return this.g=Date.now(),n},fn.prototype.chooseVariant=fn.prototype.chooseVariant,fn.prototype.enable=function(){this.f=!0},fn.prototype.enable=fn.prototype.enable,fn.prototype.disable=function(){this.f=!1},fn.prototype.disable=fn.prototype.disable,fn.prototype.segmentDownloaded=function(t,e){var n=this.b;if(!(16e3>e)){var i=8e3*e/t,r=t/1e3;n.a+=e,O(n.b,r,i),O(n.c,r,i)}if(null!=this.g&&this.f)t:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},fn.prototype.segmentDownloaded=fn.prototype.segmentDownloaded,fn.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},fn.prototype.getBandwidthEstimate=fn.prototype.getBandwidthEstimate,fn.prototype.setVariants=function(t){this.c=t},fn.prototype.setVariants=fn.prototype.setVariants,fn.prototype.configure=function(t){this.a=t},fn.prototype.configure=fn.prototype.configure;var mn="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),vn="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),gn=["loop","playbackRate"],yn=["pause","play"],_n="adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading".split(" "),bn={getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getManifestUri:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,usingEmbeddedTextTrack:2,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1},wn={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Tn=[["getConfiguration","configure"]],Sn=[["isTextTrackVisible","setTextTrackVisibility"]],En="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),kn=["attach","detach","load","unload"];function xn(t){return JSON.stringify(t,function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof kt){var n,i={};for(n in e){var r=e[n];r&&"object"==typeof r?"detail"==n&&(i[n]=r):n in Event||(i[n]=r)}return i}if(e instanceof TimeRanges)for(i={__type__:"TimeRanges",length:e.length,start:[],end:[]},n=0;n<e.length;++n)i.start.push(e.start(n)),i.end.push(e.end(n));else i="number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return i}})}function Cn(t){return JSON.parse(t,function(t,e){return"NaN"==e?NaN:"-Infinity"==e?-1/0:"Infinity"==e?1/0:e&&"object"==typeof e&&"TimeRanges"==e.__type__?function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e):e})}function An(t,e,n,i,r,a){this.J=t,this.g=e,this.L=n,this.j=!1,this.A=i,this.G=r,this.s=a,this.b=this.h=!1,this.u="",this.i=null,this.l=this.yc.bind(this),this.m=this.Nd.bind(this),this.a={video:{},player:{}},this.o=0,this.c={},this.f=null}var On=!1,Pn=null;function In(t){var e=Pn;e.removeUpdateListener(t.l),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.m)}function Ln(t){for(var e in t.c){var n=t.c[e];delete t.c[e],n.reject(new J(1,7,7e3))}}function Mn(t){t=xn(t),Pn.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},M)}function Dn(){this.zb=new _t,this.ib=this}function Rn(t,e,n){Dn.call(this),this.c=t,this.b=e,this.i=this.g=this.f=this.j=this.h=null,this.a=new An(n,this.Je.bind(this),this.Ke.bind(this),this.Le.bind(this),this.Me.bind(this),this.pc.bind(this)),function(t){for(var e in t.a.init(),t.i=new bt,mn.forEach(function(t){wt(this.i,this.c,t,this.Ye.bind(this))}.bind(t)),_n.forEach(function(t){wt(this.i,this.b,t,this.je.bind(this))}.bind(t)),t.h={},t.c)Object.defineProperty(t.h,e,{configurable:!1,enumerable:!0,get:t.Xe.bind(t,e),set:t.Ze.bind(t,e)});for(var n in t.j={},t.b)Object.defineProperty(t.j,n,{configurable:!1,enumerable:!0,get:t.ie.bind(t,n)});t.f=new Dn,t.f.ib=t.h,t.g=new Dn,t.g.ib=t.j}(this)}function Nn(e,n,i,r){Dn.call(this),this.a=e,this.b=n,this.c=new bt,this.s={video:e,player:n},this.u=i||function(){},this.A=r||function(t){return t},this.o=!1,this.h=!0,this.g=0,this.m=!1,this.j=!0,this.l=this.i=this.f=null,function(e){var n=cast.receiver.CastReceiverManager.getInstance();n.onSenderConnected=e.Dc.bind(e),n.onSenderDisconnected=e.Dc.bind(e),n.onSystemVolumeChanged=e.hd.bind(e),e.i=n.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.i.onMessage=e.Id.bind(e),e.f=n.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.f.onMessage=e.Xd.bind(e),n.start(),mn.forEach(function(t){wt(this.c,this.a,t,this.Gc.bind(this,"video"))}.bind(e)),_n.forEach(function(t){wt(this.c,this.b,t,this.Gc.bind(this,"player"))}.bind(e)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.b.Zb(3840,2160):e.b.Zb(1920,1080),wt(e.c,e.a,"loadeddata",function(){this.m=!0}.bind(e)),wt(e.c,e.b,"loading",function(){this.h=!1,Un(this)}.bind(e)),wt(e.c,e.a,"playing",function(){this.h=!1,Un(this)}.bind(e)),wt(e.c,e.a,"pause",function(){Un(this)}.bind(e)),wt(e.c,e.b,"unloading",function(){this.h=!0,Un(this)}.bind(e)),wt(e.c,e.a,"ended",function(){t.setTimeout(function(){this.a&&this.a.ended&&(this.h=!0,Un(this))}.bind(this),5e3)}.bind(e))}(this)}function Un(t){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new kt("caststatuschanged")),jn(this)||Hn(this,0))}.bind(t))}function jn(t){return!(!t.j||!t.a.duration&&!t.b.O())&&(Bn(t),t.j=!1,!0)}function Bn(t){Hn(t,0,{contentId:t.b.Gb(),streamType:t.b.O()?"LIVE":"BUFFERED",duration:t.a.duration,contentType:""})}function Fn(t,e,n,i){t.o&&(t=xn(e),i?n.getCastChannel(i).send(t):n.broadcast(t))}function Hn(t,e,n){var i=t.a.playbackRate,r=qn;i={mediaSessionId:0,playbackRate:i,playerState:r=t.h?r.IDLE:t.b.tc()?r.Vc:t.a.paused?r.Xc:r.Yc,currentTime:t.a.currentTime,supportedMediaCommands:15,volume:{level:t.a.volume,muted:t.a.muted}},n&&(i.media=n),Fn(t,{requestId:e,type:"MEDIA_STATUS",status:[i]},t.i)}(n=An.prototype).destroy=function(){return Ln(this),Pn&&In(this),this.G=this.A=this.g=null,this.b=this.h=!1,this.m=this.l=this.f=this.c=this.a=this.i=null,Promise.resolve()},n.Z=function(){return this.b},n.Vb=function(){return this.u},n.init=function(){if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){delete t.__onGCastApiAvailable,this.h=!0,this.g();var e=new chrome.cast.SessionRequest(this.J);e=new chrome.cast.ApiConfig(e,this.zc.bind(this),this.Ud.bind(this),"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),On&&setTimeout(this.g.bind(this),20),(e=Pn)&&e.status!=chrome.cast.SessionStatus.STOPPED?this.zc(e):Pn=null}else t.__onGCastApiAvailable=function(t){t&&this.init()}.bind(this)},n.Yb=function(t){this.i=t,this.b&&Mn({type:"appData",appData:this.i})},n.cast=function(t){return this.h?On?this.b?Promise.reject(new J(1,8,8002)):(this.f=new X,chrome.cast.requestSession(this.Sb.bind(this,t),this.xc.bind(this)),this.f):Promise.reject(new J(1,8,8001)):Promise.reject(new J(1,8,8e3))},n.sb=function(){this.b&&(Ln(this),Pn&&(In(this),Pn.stop(function(){},function(){}),Pn=null))},n.get=function(t,e){if("video"==t){if(0<=yn.indexOf(e))return this.Ic.bind(this,t,e)}else if("player"==t){if(wn[e]&&!this.get("player","isLive")())return function(){};if(0<=En.indexOf(e))return this.Ic.bind(this,t,e);if(0<=kn.indexOf(e))return this.qe.bind(this,t,e);if(bn[e])return this.Fc.bind(this,t,e)}return this.Fc(t,e)},n.set=function(t,e,n){this.a[t][e]=n,Mn({type:"set",targetName:t,property:e,value:n})},n.Sb=function(t,e){Pn=e,e.addUpdateListener(this.l),e.addMessageListener("urn:x-cast:com.google.shaka.v2",this.m),this.yc(),Mn({type:"init",initState:t,appData:this.i}),this.f.resolve()},n.xc=function(t){var e=8003;switch(t.code){case"cancel":e=8004;break;case"timeout":e=8005;break;case"receiver_unavailable":e=8006}this.f.reject(new J(2,8,e,t))},n.Fc=function(t,e){return this.a[t][e]},n.Ic=function(t,e){Mn({type:"call",targetName:t,methodName:e,args:Array.prototype.slice.call(arguments,2)})},n.qe=function(t,e){var n=Array.prototype.slice.call(arguments,2),i=new X,r=this.o.toString();return this.o++,this.c[r]=i,Mn({type:"asyncCall",targetName:t,methodName:e,args:n,id:r}),i},n.zc=function(t){var e=this.s();this.f=new X,this.j=!0,this.Sb(e,t)},n.Ud=function(t){On="available"==t,this.g()},n.yc=function(){var t=!!Pn&&"connected"==Pn.status;if(this.b&&!t){for(var e in this.G(),this.a)this.a[e]={};Ln(this)}this.u=(this.b=t)?Pn.receiver.friendlyName:"",this.g()},n.Nd=function(t,e){var n=Cn(e);switch(n.type){case"event":var i=n.event;this.A(n.targetName,new kt(i.type,i));break;case"update":for(var r in i=n.update)for(var a in n=this.a[r]||{},i[r])n[a]=i[r][a];this.j&&(this.L(),this.j=!1);break;case"asyncComplete":if(r=n.id,n=n.error,a=this.c[r],delete this.c[r],a)if(n){for(i in r=new J(n.severity,n.category,n.code),n)r[i]=n[i];a.reject(r)}else a.resolve()}},Dn.prototype.addEventListener=function(t,e){this.zb.push(t,e)},Dn.prototype.removeEventListener=function(t,e){this.zb.remove(t,e)},Dn.prototype.dispatchEvent=function(t){for(var e=this.zb.get(t.type)||[],n=0;n<e.length;++n){t.target=this.ib,t.currentTarget=this.ib;var i=e[n];try{i.handleEvent?i.handleEvent(t):i.call(this,t)}catch(t){}if(t.a)break}return t.defaultPrevented},C(Rn,Dn),x("shaka.cast.CastProxy",Rn),Rn.prototype.destroy=function(t){return t&&this.a&&this.a.sb(),t=[this.i?this.i.destroy():null,this.b?this.b.destroy():null,this.a?this.a.destroy():null],this.a=this.i=this.j=this.h=this.b=this.c=null,Promise.all(t)},Rn.prototype.destroy=Rn.prototype.destroy,Rn.prototype.yd=function(){return this.h},Rn.prototype.getVideo=Rn.prototype.yd,Rn.prototype.qd=function(){return this.j},Rn.prototype.getPlayer=Rn.prototype.qd,Rn.prototype.bd=function(){return!!this.a&&(this.a.h&&On)},Rn.prototype.canCast=Rn.prototype.bd,Rn.prototype.Z=function(){return!!this.a&&this.a.Z()},Rn.prototype.isCasting=Rn.prototype.Z,Rn.prototype.Vb=function(){return this.a?this.a.Vb():""},Rn.prototype.receiverName=Rn.prototype.Vb,Rn.prototype.cast=function(){var t=this.pc();return this.a.cast(t).then(function(){if(this.b)return this.b.gb()}.bind(this))},Rn.prototype.cast=Rn.prototype.cast,Rn.prototype.Yb=function(t){this.a.Yb(t)},Rn.prototype.setAppData=Rn.prototype.Yb,Rn.prototype.Qe=function(){var t=this.a;if(t.b){var e=t.s();chrome.cast.requestSession(t.Sb.bind(t,e),t.xc.bind(t))}},Rn.prototype.suggestDisconnect=Rn.prototype.Qe,Rn.prototype.sb=function(){this.a.sb()},Rn.prototype.forceDisconnect=Rn.prototype.sb,(n=Rn.prototype).pc=function(){var t={video:{},player:{},playerAfterLoad:{},manifest:this.b.Gb(),startTime:null};return this.c.pause(),gn.forEach(function(e){t.video[e]=this.c[e]}.bind(this)),this.c.ended||(t.startTime=this.c.currentTime),Tn.forEach(function(e){var n=e[1];e=this.b[e[0]](),t.player[n]=e}.bind(this)),Sn.forEach(function(e){var n=e[1];e=this.b[e[0]](),t.playerAfterLoad[n]=e}.bind(this)),t},n.Je=function(){this.dispatchEvent(new kt("caststatuschanged"))},n.Ke=function(){this.f.dispatchEvent(new kt(this.h.paused?"pause":"play"))},n.Me=function(){var t=this;Tn.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(this));var e=this.a.get("player","getManifestUri")(),n=this.a.get("video","ended"),i=Promise.resolve(),r=this.c.autoplay,a=null;n||(a=this.a.get("video","currentTime")),e&&(this.c.autoplay=!1,i=this.b.load(e,a));var o={};gn.forEach(function(t){o[t]=this.a.get("video",t)}.bind(this)),i.then(function(){t.c&&(gn.forEach(function(t){this.c[t]=o[t]}.bind(t)),Sn.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t)),t.c.autoplay=r,e&&t.c.play())},function(e){t.b.dispatchEvent(new kt("error",{detail:e}))})},n.Xe=function(t){if("addEventListener"==t)return this.f.addEventListener.bind(this.f);if("removeEventListener"==t)return this.f.removeEventListener.bind(this.f);if(this.a.Z()&&0==Object.keys(this.a.a.video).length){var e=this.c[t];if("function"!=typeof e)return e}return this.a.Z()?this.a.get("video",t):("function"==typeof(t=this.c[t])&&(t=t.bind(this.c)),t)},n.Ze=function(t,e){this.a.Z()?this.a.set("video",t,e):this.c[t]=e},n.Ye=function(t){this.a.Z()||this.f.dispatchEvent(new kt(t.type,t))},n.ie=function(t){if("addEventListener"==t)return this.g.addEventListener.bind(this.g);if("removeEventListener"==t)return this.g.removeEventListener.bind(this.g);if("getMediaElement"==t)return function(){return this.h}.bind(this);if("getNetworkingEngine"==t)return this.b.qc.bind(this.b);if(this.a.Z()){if("getManifest"==t||"drmInfo"==t)return function(){return L(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return L(t+"() does not work while casting!"),Promise.resolve()}}return this.a.Z()&&0==Object.keys(this.a.a.video).length&&bn[t]||!this.a.Z()?this.b[t].bind(this.b):this.a.get("player",t)},n.je=function(t){this.a.Z()||this.g.dispatchEvent(t)},n.Le=function(t,e){this.a.Z()&&("video"==t?this.f.dispatchEvent(e):"player"==t&&this.g.dispatchEvent(e))},C(Nn,Dn),x("shaka.cast.CastReceiver",Nn),Nn.prototype.isConnected=function(){return this.o},Nn.prototype.isConnected=Nn.prototype.isConnected,Nn.prototype.Bd=function(){return this.h},Nn.prototype.isIdle=Nn.prototype.Bd,Nn.prototype.destroy=function(){var e=[this.c?this.c.destroy():null,this.b?this.b.destroy():null];return null!=this.l&&t.clearTimeout(this.l),this.u=this.s=this.c=this.b=this.a=null,this.o=!1,this.h=!0,this.l=this.i=this.f=null,Promise.all(e).then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},Nn.prototype.destroy=Nn.prototype.destroy,(n=Nn.prototype).Dc=function(){this.g=0,this.j=!0,this.o=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Un(this)},n.Gc=function(t,e){this.b&&(this.Tb(),Fn(this,{type:"event",targetName:t,event:e},this.f))},n.Tb=function(){null!=this.l&&t.clearTimeout(this.l),this.l=t.setTimeout(this.Tb.bind(this),500);var e={video:{},player:{}};if(vn.forEach(function(t){e.video[t]=this.a[t]}.bind(this)),this.b.O())for(var n in wn)0==this.g%wn[n]&&(e.player[n]=this.b[n]());for(var i in bn)0==this.g%bn[i]&&(e.player[i]=this.b[i]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),this.m&&(this.g+=1),Fn(this,{type:"update",update:e},this.f),jn(this)},n.hd=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Fn(this,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},this.f),Fn(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},n.Xd=function(t){var e=Cn(t.data);switch(e.type){case"init":this.g=0,this.m=!1,this.j=!0,function(t,e,n){for(var i in e.player)t.b[i](e.player[i]);t.u(n),n=Promise.resolve();var r=t.a.autoplay;e.manifest&&(t.a.autoplay=!1,n=t.b.load(e.manifest,e.startTime)),n.then(function(){if(t.b){for(var n in e.video)t.a[n]=e.video[n];for(var i in e.playerAfterLoad)t.b[i](e.playerAfterLoad[i]);t.a.autoplay=r,e.manifest&&(t.a.play(),Hn(t,0))}},function(e){t.b.dispatchEvent(new kt("error",{detail:e}))})}(this,e.initState,e.appData),this.Tb();break;case"appData":this.u(e.appData);break;case"set":var n=e.targetName,i=e.property;if(e=e.value,"video"==n){var r=cast.receiver.CastReceiverManager.getInstance();if("volume"==i){r.setSystemVolumeLevel(e);break}if("muted"==i){r.setSystemVolumeMuted(e);break}}this.s[n][i]=e;break;case"call":(n=this.s[e.targetName])[e.methodName].apply(n,e.args);break;case"asyncCall":n=e.targetName,i=e.methodName,"player"==n&&"load"==i&&(this.g=0,this.m=!1),r=e.id,t=t.senderId;var a=this.s[n];e=a[i].apply(a,e.args),"player"==n&&"load"==i&&(e=e.then(function(){this.j=!0}.bind(this))),e.then(this.Nc.bind(this,t,r,null),this.Nc.bind(this,t,r))}},n.Id=function(t){var e=Cn(t.data);switch(e.type){case"PLAY":this.a.play(),Hn(this,0);break;case"PAUSE":this.a.pause(),Hn(this,0);break;case"SEEK":t=e.currentTime;var n=e.resumeState;null!=t&&(this.a.currentTime=Number(t)),n&&"PLAYBACK_START"==n?(this.a.play(),Hn(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),Hn(this,0));break;case"STOP":this.b.gb().then(function(){this.b&&Hn(this,0)}.bind(this));break;case"GET_STATUS":Hn(this,Number(e.requestId));break;case"VOLUME":t=(n=e.volume).level,n=n.muted;var i=this.a.volume,r=this.a.muted;null!=t&&(this.a.volume=Number(t)),null!=n&&(this.a.muted=n),i==this.a.volume&&r==this.a.muted||Hn(this,0);break;case"LOAD":this.g=0,this.j=this.m=!1,t=e.currentTime,n=this.A(e.media.contentId),this.a.autoplay=!0,this.b.load(n,t).then(function(){this.b&&Bn(this)}.bind(this)).catch(function(t){var n="LOAD_FAILED";7==t.category&&7e3==t.code&&(n="LOAD_CANCELLED"),Fn(this,{requestId:Number(e.requestId),type:n},this.i)}.bind(this));break;default:Fn(this,{requestId:Number(e.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},n.Nc=function(t,e,n){this.b&&Fn(this,{type:"asyncComplete",id:e,error:n},this.f,t)};var qn={IDLE:"IDLE",Yc:"PLAYING",Vc:"BUFFERING",Xc:"PAUSED"};function Vn(t,e){var n=$n(t,e);return 1!=n.length?null:n[0]}function $n(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return t instanceof Element&&t.tagName==e})}function zn(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function Wn(t){return Array.prototype.every.call(t.childNodes,function(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE})?t.textContent.trim():null}function Gn(t,e,n,i){var r=null;return null!=(t=t.getAttribute(e))&&(r=n(t)),null==r?void 0!=i?i:null:r}function Yn(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null}function Xn(t){return t&&(t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null}function Kn(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null}function Qn(t){return 0==(t=Number(t))%1?t:null}function Jn(t){return 0==(t=Number(t))%1&&0<t?t:null}function Zn(t){return 0==(t=Number(t))%1&&0<=t?t:null}function ti(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1]/e[2]):Number(t),isNaN(t)?null:t}var ei={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};function ni(t,e,n){t=function(t){return t.map(function(t){var e=t.getAttribute("schemeIdUri"),n=zn(t,"urn:mpeg:cenc:2013","default_KID"),i=function(t){return Array.prototype.filter.call(t.childNodes,function(t){return t instanceof Element&&"pssh"==t.localName&&"urn:mpeg:cenc:2013"==t.namespaceURI})}(t).map(Wn);if(!e)return null;if(e=e.toLowerCase(),n&&0<=(n=n.replace(/-/g,"").toLowerCase()).indexOf(" "))throw new J(2,4,4009);var r=[];try{r=i.map(function(t){return{initDataType:"cenc",initData:Wt(t),keyId:null}})}catch(t){throw new J(2,4,4007)}return{node:t,Mc:e,keyId:n,init:0<r.length?r:null}}).filter(At)}(t);var i=null,r=[],a=[],o=t.map(function(t){return t.keyId}).filter(At);if(o.length&&1<o.filter(Ot).length)throw new J(2,4,4010);n||(a=t.filter(function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.Mc||(i=t.init||i,!1)})).length&&(0==(r=function(t,e,n){return n.map(function(n){var i=ei[n.Mc];return i?[It(i,n.init||t)]:e(n.node)||[]}).reduce(xt,[])}(i,e,a)).length&&(r=[It("",i)])),!t.length||!n&&a.length||(r=Dt(ei).filter(function(t){return"org.w3.clearkey"!=t}).map(function(t){return It(t,i)}));var s=o[0]||null;return s&&r.forEach(function(t){t.initData.forEach(function(t){t.keyId=s})}),{jc:s,cf:i,drmInfos:r,oc:!0}}function ii(e,n,i,r,a){var o={RepresentationID:n,Number:i,Bandwidth:r,Time:a};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(e,n,i,r){if("$$"==e)return"$";var a=o[n];if(null==a)return e;switch("RepresentationID"==n&&i&&(i=void 0),"Time"==n&&(a=Math.round(a)),r){case void 0:case"d":case"i":case"u":e=a.toString();break;case"o":e=a.toString(8);break;case"x":e=a.toString(16);break;case"X":e=a.toString(16).toUpperCase();break;default:e=a.toString()}return i=t.parseInt(i,10)||1,Array(Math.max(0,i-e.length)+1).join("0")+e})}function ri(t,e){var n=ai(t,e,"timescale"),i=1;n&&(i=Jn(n)||1),(n=Jn((n=ai(t,e,"duration"))||""))&&(n/=i);var r=ai(t,e,"startNumber"),a=Number(ai(t,e,"presentationTimeOffset"))||0,o=Zn(r||"");null!=r&&null!=o||(o=1);var s=oi(t,e,"SegmentTimeline");if(r=null,s){r=i;var u=t.M.duration||1/0;s=$n(s,"S");for(var c=[],l=0,h=0;h<s.length;++h){var d=s[h],f=Gn(d,"t",Zn),p=Gn(d,"d",Zn);if(d=Gn(d,"r",Qn),null!=f&&(f-=a),!p)break;if(f=null!=f?f:l,0>(d=d||0))if(h+1<s.length){if(null==(d=Gn(s[h+1],"t",Zn)))break;if(f>=d)break;d=Math.ceil((d-f)/p)-1}else{if(1/0==u)break;if(f/r>=u)break;d=Math.ceil((u*r-f)/p)-1}0<c.length&&f!=l&&(c[c.length-1].end=f/r);for(var m=0;m<=d;++m)l=f+p,c.push({start:f/r,end:l/r,Ue:f}),f=l}r=c}return{timescale:i,P:n,Ca:o,da:a/i||0,ec:a,H:r}}function ai(t,e,n){return[e(t.v),e(t.U),e(t.ba)].filter(At).map(function(t){return t.getAttribute(n)}).reduce(function(t,e){return t||e})}function oi(t,e,n){return[e(t.v),e(t.U),e(t.ba)].filter(At).map(function(t){return Vn(t,n)}).reduce(function(t,e){return t||e})}function si(t,e){var n=new DOMParser;try{var i=jt(t),r=n.parseFromString(i,"text/xml")}catch(t){}if(r&&r.documentElement.tagName==e)var a=r.documentElement;return a&&0<a.getElementsByTagName("parsererror").length?null:a}function ui(t,e,n,i,r,a){if(a=a||0,zn(t,"http://www.w3.org/1999/xlink","href")){var o=function(t,e,n,i,r,a){for(var o=zn(t,"http://www.w3.org/1999/xlink","href"),s=zn(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=0;u<t.attributes.length;u++){var c=t.attributes[u];"http://www.w3.org/1999/xlink"==c.namespaceURI&&(t.removeAttributeNS(c.namespaceURI,c.localName),--u)}if(5<=a)return tt(new J(2,4,4028));if("onLoad"!=s)return tt(new J(2,4,4027));var l=Pt([i],[o]);return r.request(0,gt(l,e)).V(function(i){if(!(i=si(i.data,t.tagName)))return tt(new J(2,4,4001,o));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;i.childNodes.length;){var s=i.childNodes[0];i.removeChild(s),t.appendChild(s)}for(s=0;s<i.attributes.length;s++){var u=i.attributes[s].nodeName,c=i.getAttribute(u);t.setAttribute(u,c)}return ui(t,e,n,l[0],r,a+1)})}(t,e,n,i,r,a);return n&&(o=o.V(void 0,function(){return ui(t,e,n,i,r,a)})),o}for(o=0;o<t.childNodes.length;o++){var s=t.childNodes[o];s instanceof Element&&"urn:mpeg:dash:resolve-to-zero:2013"==zn(s,"http://www.w3.org/1999/xlink","href")&&(t.removeChild(s),--o)}for(o=[],s=0;s<t.childNodes.length;s++){var u=t.childNodes[s];u.nodeType==Node.ELEMENT_NODE&&o.push(ui(u,e,n,i,r,a))}return rt(o).V(function(){return t})}function ci(t,e,n){this.c=t,this.b=e,this.a=n}function li(t,e,n,i,r,a){this.position=t,this.startTime=e,this.endTime=n,this.c=i,this.b=r,this.a=a}function hi(t,e){this.D=t,this.b=e==fi,this.a=0}x("shaka.media.InitSegmentReference",ci),ci.prototype.Bb=function(){return this.c()},ci.prototype.createUris=ci.prototype.Bb,ci.prototype.Hb=function(){return this.b},ci.prototype.getStartByte=ci.prototype.Hb,ci.prototype.Fb=function(){return this.a},ci.prototype.getEndByte=ci.prototype.Fb,x("shaka.media.SegmentReference",li),li.prototype.T=function(){return this.position},li.prototype.getPosition=li.prototype.T,li.prototype.Ib=function(){return this.startTime},li.prototype.getStartTime=li.prototype.Ib,li.prototype.md=function(){return this.endTime},li.prototype.getEndTime=li.prototype.md,li.prototype.Bb=function(){return this.c()},li.prototype.createUris=li.prototype.Bb,li.prototype.Hb=function(){return this.b},li.prototype.getStartByte=li.prototype.Hb,li.prototype.Fb=function(){return this.a},li.prototype.getEndByte=li.prototype.Fb,x("shaka.util.DataViewReader",hi);var di,fi=1;function pi(){throw new J(2,3,3e3)}function mi(){this.c=[],this.b=[],this.a=!1}function vi(t){for(;t.reader.ga()&&!t.parser.a;)t.parser.wb(t.start,t.reader,t.partialOkay)}function gi(t){for(var e=t.reader.B();0<e&&!t.parser.a;--e)t.parser.wb(t.start,t.reader,t.partialOkay)}function yi(t){return function(e){t(e.reader.Ba(e.reader.D.byteLength-e.reader.T()))}}function _i(t){for(var e=0,n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e}function bi(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function wi(t,e,n,i){var r,a=(new mi).Y("sidx",function(t){r=function(t,e,n,i){var r=[];i.reader.F(4);var a=i.reader.B();if(0==a)throw new J(2,3,3005);if(0==i.version)var o=i.reader.B(),s=i.reader.B();else o=i.reader.Qa(),s=i.reader.Qa();i.reader.F(2);var u=i.reader.ab();for(t=t+i.size+s,s=0;s<u;s++){var c=i.reader.B(),l=(2147483648&c)>>>31;c&=2147483647;var h=i.reader.B();if(i.reader.F(4),1==l)throw new J(2,3,3006);r.push(new li(r.length,o/a-e,(o+h)/a-e,function(){return n},t,t+c-1)),o+=h,t+=c}return i.parser.stop(),r}(e,i,n,t)});if(t&&a.parse(t),r)return r;throw new J(2,3,3004)}function Ti(t){this.a=t}function Si(t,e){for(;t.a.length&&t.a[t.a.length-1].startTime>=e;)t.a.pop();for(;t.a.length&&0>=t.a[0].endTime;)t.a.shift();if(0!=t.a.length){var n=t.a[t.a.length-1];t.a[t.a.length-1]=new li(n.position,n.startTime,e,n.c,n.b,n.a)}}function Ei(t){this.b=t,this.a=new hi(t,0),di||(di=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function ki(t){var e=xi(t);if(7<e.length)throw new J(2,3,3002);for(var n=0,i=0;i<e.length;i++)n=256*n+e[i];e=n,n=xi(t);t:{for(i=0;i<di.length;i++)if(Xt(n,di[i])){i=!0;break t}i=!1}if(i)n=t.b.byteLength-t.a.T();else{if(8==n.length&&224&n[1])throw new J(2,3,3001);i=n[0]&(1<<8-n.length)-1;for(var r=1;r<n.length;r++)i=256*i+n[r];n=i}return n=t.a.T()+n<=t.b.byteLength?n:t.b.byteLength-t.a.T(),i=new DataView(t.b.buffer,t.b.byteOffset+t.a.T(),n),t.a.F(n),new function(t,e){this.id=t,this.a=e}(e,i)}function xi(t){var e,n=t.a.ca();for(e=1;8>=e&&!(n&1<<8-e);e++);if(8<e)throw new J(2,3,3002);var i=new Uint8Array(e);for(i[0]=n,n=1;n<e;n++)i[n]=t.a.ca();return i}function Ci(t){if(8<t.a.byteLength)throw new J(2,3,3002);if(8==t.a.byteLength&&224&t.a.getUint8(0))throw new J(2,3,3001);for(var e=0,n=0;n<t.a.byteLength;n++){e=256*e+t.a.getUint8(n)}return e}function Ai(){}function Oi(t){var e=new Ei(t.a);if(179!=(t=ki(e)).id)throw new J(2,3,3013);if(t=Ci(t),183!=(e=ki(e)).id)throw new J(2,3,3012);e=new Ei(e.a);for(var n=0;e.ga();){var i=ki(e);if(241==i.id){n=Ci(i);break}}return{Ve:t,pe:n}}function Pi(t,e){var n=oi(t,e,"Initialization");if(!n)return null;var i=t.v.ea,r=n.getAttribute("sourceURL");r&&(i=Pt(t.v.ea,[r])),r=0;var a=null;return(n=Gn(n,"range",Kn))&&(r=n.start,a=n.end),new ci(function(){return i},r,a)}function Ii(t,e,n,i,r,a,o,s){var u=t.presentationTimeline,c=!t.Ga||!t.M.Jb,l=t.M.index,h=t.M.duration,d=e,f=null;return{createSegmentIndex:function(){var t=[d(i,r,a),"webm"==o?d(n.c(),n.b,n.a):null];return d=null,Promise.all(t).then(function(t){var e=t[0];t=t[1]||null,e="mp4"==o?wi(e,r,i,s):(new Ai).parse(e,t,i,s),u.Ma(e,0==l),f=new Ti(e),c&&Si(f,h)})},findSegmentPosition:function(t){return f.find(t)},getSegmentReference:function(t){return f.get(t)}}}function Li(t){return t.bb}function Mi(t,e){var n=Pi(t,Di),i=function(t){return[t.v.ra,t.U.ra,t.ba.ra].filter(At).map(function(t){return $n(t,"SegmentURL")}).reduce(function(t,e){return 0<t.length?t:e}).map(function(e){e.getAttribute("indexRange")&&!t.sc&&(t.sc=!0);var n=e.getAttribute("media");return e=Gn(e,"mediaRange",Kn,{start:0,end:null}),{Dd:n,start:e.start,end:e.end}})}(t),r=ri(t,Di),a=r.Ca;0==a&&(a=1);var o=0;if(r.P?o=r.P*(a-1):r.H&&0<r.H.length&&(o=r.H[0].start),!(i={P:r.P,startTime:o,Ca:a,da:r.da,H:r.H,Ka:i}).P&&!i.H&&1<i.Ka.length)throw new J(2,4,4002);if(!i.P&&!t.M.duration&&!i.H&&1==i.Ka.length)throw new J(2,4,4002);if(i.H&&0==i.H.length)throw new J(2,4,4002);return a=r=null,t.ba.id&&t.v.id&&(r=e[a=t.ba.id+","+t.v.id]),o=function(t,e,n,i){var r=i.Ka.length;i.H&&i.H.length!=i.Ka.length&&(r=Math.min(i.H.length,i.Ka.length));for(var a=[],o=i.startTime,s=0;s<r;s++){var u=i.Ka[s],c=Pt(n,[u.Dd]),l=void 0;l=null!=i.P?o+i.P:i.H?i.H[s].end:o+t,a.push(new li(s+e,o,l,function(t){return t}.bind(null,c),u.start,u.end)),o=l}return a}(t.M.duration,i.Ca,t.v.ea,i),r?(r.Nb(o),a=t.presentationTimeline.Xa(),r.Db(a-t.M.start)):(t.presentationTimeline.Ma(o,0==t.M.index),r=new Ti(o),a&&t.Ga&&(e[a]=r)),t.Ga&&t.M.Jb||Si(r,t.M.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:r.find.bind(r),getSegmentReference:r.get.bind(r),initSegmentReference:n,da:i.da}}function Di(t){return t.ra}function Ri(t,e,n,i){var r=function(t){var e=ai(t,Ni,"initialization");if(!e)return null;var n=t.v.id,i=t.bandwidth||null,r=t.v.ea;return new ci(function(){var t=ii(e,n,null,i,null);return Pt(r,[t])},0,null)}(t),a=ri(t,Ni),o=ai(t,Ni,"media"),s=ai(t,Ni,"index");if(o=(a={P:a.P,timescale:a.timescale,Ca:a.Ca,da:a.da,ec:a.ec,H:a.H,Mb:o,Za:s}).Za?1:0,o+=a.H?1:0,0==(o+=a.P?1:0))throw new J(2,4,4002);if(1!=o&&(a.Za&&(a.H=null),a.P=null),!a.Za&&!a.Mb)throw new J(2,4,4002);if(a.Za){if("mp4"!=(n=t.v.mimeType.split("/")[1])&&"webm"!=n)throw new J(2,4,4006);if("webm"==n&&!r)throw new J(2,4,4005);i=ii(a.Za,t.v.id,null,t.bandwidth||null,null),t=Ii(t,e,r,i=Pt(t.v.ea,[i]),0,null,n,a.da)}else a.P?(i||t.presentationTimeline.Pb(a.P),t=function(t,e){var n=t.M.duration,i=e.P,r=e.Ca,a=e.timescale,o=e.Mb,s=t.bandwidth||null,u=t.v.id,c=t.v.ea;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0>t||n&&t>=n?null:Math.floor(t/i)},getSegmentReference:function(t){var e=t*i,l=e+i;return n&&(l=Math.min(l,n)),0>l||n&&e>=n?null:new li(t,e,l,function(){var n=ii(o,u,t+r,s,e*a);return Pt(c,[n])},0,null)}}}(t,a)):(o=e=null,t.ba.id&&t.v.id&&(e=n[o=t.ba.id+","+t.v.id]),s=function(t,e){for(var n=[],i=0;i<e.H.length;i++){var r=i+e.Ca;n.push(new li(r,e.H[i].start,e.H[i].end,function(t,e,n,i,r,a){return t=ii(t,e,r,n,a),Pt(i,[t]).map(function(t){return t.toString()})}.bind(null,e.Mb,t.v.id,t.bandwidth||null,t.v.ea,r,e.H[i].Ue+e.ec),0,null))}return n}(t,a),i=!t.Ga||!t.M.Jb,e?(i&&Si(new Ti(s),t.M.duration),e.Nb(s),n=t.presentationTimeline.Xa(),e.Db(n-t.M.start)):(t.presentationTimeline.Ma(s,0==t.M.index),e=new Ti(s),o&&t.Ga&&(n[o]=e)),i&&Si(e,t.M.duration),t={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e)});return{createSegmentIndex:t.createSegmentIndex,findSegmentPosition:t.findSegmentPosition,getSegmentReference:t.getSegmentReference,initSegmentReference:r,da:a.da}}function Ni(t){return t.eb}hi.Endianness={$e:0,af:fi},hi.prototype.ga=function(){return this.a<this.D.byteLength},hi.prototype.hasMoreData=hi.prototype.ga,hi.prototype.T=function(){return this.a},hi.prototype.getPosition=hi.prototype.T,hi.prototype.nd=function(){return this.D.byteLength},hi.prototype.getLength=hi.prototype.nd,hi.prototype.ca=function(){try{var t=this.D.getUint8(this.a);return this.a+=1,t}catch(t){pi()}},hi.prototype.readUint8=hi.prototype.ca,hi.prototype.ab=function(){try{var t=this.D.getUint16(this.a,this.b);return this.a+=2,t}catch(t){pi()}},hi.prototype.readUint16=hi.prototype.ab,hi.prototype.B=function(){try{var t=this.D.getUint32(this.a,this.b);return this.a+=4,t}catch(t){pi()}},hi.prototype.readUint32=hi.prototype.B,hi.prototype.Hc=function(){try{var t=this.D.getInt32(this.a,this.b);return this.a+=4,t}catch(t){pi()}},hi.prototype.readInt32=hi.prototype.Hc,hi.prototype.Qa=function(){try{if(this.b)var t=this.D.getUint32(this.a,!0),e=this.D.getUint32(this.a+4,!0);else e=this.D.getUint32(this.a,!1),t=this.D.getUint32(this.a+4,!1)}catch(t){pi()}if(2097151<e)throw new J(2,3,3001);return this.a+=8,e*Math.pow(2,32)+t},hi.prototype.readUint64=hi.prototype.Qa,hi.prototype.Ba=function(t){this.a+t>this.D.byteLength&&pi();var e=new Uint8Array(this.D.buffer,this.D.byteOffset+this.a,t);return this.a+=t,new Uint8Array(e)},hi.prototype.readBytes=hi.prototype.Ba,hi.prototype.F=function(t){this.a+t>this.D.byteLength&&pi(),this.a+=t},hi.prototype.skip=hi.prototype.F,hi.prototype.Lc=function(t){this.a<t&&pi(),this.a-=t},hi.prototype.rewind=hi.prototype.Lc,hi.prototype.seek=function(t){(0>t||t>this.D.byteLength)&&pi(),this.a=t},hi.prototype.seek=hi.prototype.seek,hi.prototype.Ub=function(){for(var t=this.a;this.ga()&&0!=this.D.getUint8(this.a);)this.a+=1;return t=new Uint8Array(this.D.buffer,this.D.byteOffset+t,this.a-t),this.a+=1,jt(t)},hi.prototype.readTerminatedString=hi.prototype.Ub,x("shaka.util.Mp4Parser",mi),mi.prototype.C=function(t,e){var n=_i(t);return this.c[n]=0,this.b[n]=e,this},mi.prototype.box=mi.prototype.C,mi.prototype.Y=function(t,e){var n=_i(t);return this.c[n]=1,this.b[n]=e,this},mi.prototype.fullBox=mi.prototype.Y,mi.prototype.stop=function(){this.a=!0},mi.prototype.stop=mi.prototype.stop,mi.prototype.parse=function(t,e){var n=new Uint8Array(t);for(n=new hi(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.ga()&&!this.a;)this.wb(0,n,e)},mi.prototype.parse=mi.prototype.parse,mi.prototype.wb=function(t,e,n){var i=e.T(),r=e.B(),a=e.B();switch(r){case 0:r=e.D.byteLength-i;break;case 1:r=e.Qa()}var o=this.b[a];if(o){var s=null,u=null;1==this.c[a]&&(s=(u=e.B())>>>24,u&=16777215),a=i+r,n&&a>e.D.byteLength&&(a=e.D.byteLength),e=0<(a-=e.T())?e.Ba(a):new Uint8Array(0),e=new hi(new DataView(e.buffer,e.byteOffset,e.byteLength),0),o({parser:this,partialOkay:n||!1,version:s,flags:u,reader:e,size:r,start:i+t})}else e.F(Math.min(i+r-e.T(),e.D.byteLength-e.T()))},mi.prototype.parseNext=mi.prototype.wb,mi.children=vi,mi.sampleDescription=gi,mi.allData=yi,mi.typeToString=bi,x("shaka.media.SegmentIndex",Ti),Ti.prototype.destroy=function(){return this.a=null,Promise.resolve()},Ti.prototype.destroy=Ti.prototype.destroy,Ti.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var n=this.a[e];if(t>=n.startTime&&t<n.endTime)return n.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},Ti.prototype.find=Ti.prototype.find,Ti.prototype.get=function(t){return 0==this.a.length?null:0>(t-=this.a[0].position)||t>=this.a.length?null:this.a[t]},Ti.prototype.get=Ti.prototype.get,Ti.prototype.offset=function(t){for(var e=0;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t},Ti.prototype.offset=Ti.prototype.offset,Ti.prototype.Nb=function(t){for(var e=[],n=0,i=0;n<this.a.length&&i<t.length;){var r=this.a[n],a=t[i];r.startTime<a.startTime?(e.push(r),n++):(r.startTime>a.startTime?0==n&&e.push(a):(.1<Math.abs(r.endTime-a.endTime)?e.push(new li(r.position,a.startTime,a.endTime,a.c,a.b,a.a)):e.push(r),n++),i++)}for(;n<this.a.length;)e.push(this.a[n++]);if(e.length)for(n=e[e.length-1].position+1;i<t.length;)r=new li(n++,(r=t[i++]).startTime,r.endTime,r.c,r.b,r.a),e.push(r);else e=t;this.a=e},Ti.prototype.merge=Ti.prototype.Nb,Ti.prototype.Db=function(t){for(var e=0;e<this.a.length;++e)if(this.a[e].endTime>t)return void this.a.splice(0,e);this.a=[]},Ti.prototype.evict=Ti.prototype.Db,Ei.prototype.ga=function(){return this.a.ga()},Ai.prototype.parse=function(t,e,n,i){var r;if(440786851!=ki(e=new Ei(new DataView(e))).id)throw new J(2,3,3008);var a=ki(e);if(408125543!=a.id)throw new J(2,3,3009);for(e=a.a.byteOffset,a=new Ei(a.a),r=null;a.ga();){var o=ki(a);if(357149030==o.id){r=o;break}}if(!r)throw new J(2,3,3010);for(a=new Ei(r.a),r=1e6,o=null;a.ga();){var s=ki(a);if(2807729==s.id)r=Ci(s);else if(17545==s.id)if(4==(o=s).a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new J(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new J(2,3,3011);if(r=o*(a=r/1e9),475249515!=(t=ki(new Ei(new DataView(t)))).id)throw new J(2,3,3007);return function(t,e,n,i,r,a){function o(){return r}var s=[];t=new Ei(t.a);for(var u=null,c=null;t.ga();){var l=ki(t);if(187==l.id){var h=Oi(l);h&&(l=n*h.Ve,h=e+h.pe,null!=u&&s.push(new li(s.length,u-a,l-a,o,c,h-1)),u=l,c=h)}}return null!=u&&s.push(new li(s.length,u-a,i-a,o,c,null)),s}(t,e,a,r,n,i)};var Ui={},ji={};function Bi(t,e,n,i){var r=i;return r||1<(i=new R(t).aa.split("/").pop().split(".")).length&&(i=i.pop().toLowerCase(),r=ji[i]),r?Promise.resolve(r):((n=gt([t],n)).method="HEAD",e.request(0,n).promise.then(function(e){return(e=e.headers["content-type"])&&(e=e.toLowerCase()),(r=Ui[e])?r:Promise.reject(new J(2,4,4e3,t))},function(t){return t.severity=2,Promise.reject(t)}))}function Fi(t,e){this.f=t,this.l=e,this.c=this.b=1/0,this.a=1,this.j=this.h=0,this.i=!0,this.g=0}function Hi(){this.a=this.b=null,this.h=[],this.c=null,this.j=[],this.i=1,this.l={},this.m=0,this.o=new A(5),this.g=null,this.f=new dt}function qi(t){var e=Date.now(),n=t.a.networkingEngine.request(0,gt(t.h,t.b.retryParameters));return ft(t.f,n),n.promise.then(function(e){if(t.a)return function(t,e,n){if(!(e=si(e,"MPD")))throw new J(2,4,4001,n);return e=ui(e,t.b.retryParameters,t.b.dash.xlinkFailGracefully,n,t.a.networkingEngine),ft(t.f,e),e.promise.then(function(e){return function(t,e,n){n=[n];var i=$n(e,"Location").map(Wn).filter(At);0<i.length&&(n=t.h=i),i=$n(e,"BaseURL").map(Wn),n=Pt(n,i);var r=Gn(e,"minBufferTime",Xn);t.m=Gn(e,"minimumUpdatePeriod",Xn,-1);var a=Gn(e,"availabilityStartTime",Yn);i=Gn(e,"timeShiftBufferDepth",Xn);var o=Gn(e,"suggestedPresentationDelay",Xn),s=Gn(e,"maxSegmentDuration",Xn),u=e.getAttribute("type")||"static";if(t.c)var c=t.c.presentationTimeline;else{var l=Math.max(t.b.dash.defaultPresentationDelay,1.5*r);c=new Fi(a,null!=o?o:l)}a=function(t,e,n,i){var r=Gn(i,"mediaPresentationDuration",Xn),a=[],o=0;i=$n(i,"Period");for(var s=0;s<i.length;s++){var u=i[s];o=Gn(u,"start",Xn,o);var c=Gn(u,"duration",Xn),l=null;if(s!=i.length-1){var h=Gn(i[s+1],"start",Xn);null!=h&&(l=h-o)}else null!=r&&(l=r-o);if(null==l&&(l=c),u=Vi(t,e,n,{start:o,duration:l,node:u,index:s,Jb:null==l||s==i.length-1}),a.push(u),c=e.ba.id,-1==t.j.indexOf(c)&&(t.j.push(c),t.c&&(t.a.filterNewPeriod(u),t.c.periods.push(u))),null==l){o=null;break}o+=l}return null==t.c&&t.a.filterAllPeriods(a),null!=r?{periods:a,duration:r,kc:!1}:{periods:a,duration:o,kc:!0}}(t,{Ga:"static"!=u,presentationTimeline:c,ba:null,M:null,U:null,v:null,bandwidth:0,sc:!1},n,e),o=a.duration;var h=a.periods;return c.xb("static"==u),"static"!=u&&a.kc||c.ja(o||1/0),(u=c.O())&&!isNaN(t.b.availabilityWindowOverride)&&(i=t.b.availabilityWindowOverride),null==i&&(i=1/0),c.$b(i),c.Pb(s||1),t.c?Promise.resolve():(e=$n(e,"UTCTiming"),function(t,e,n,i){n=n.map(function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}});var r=t.b.dash.clockSyncUri;return i&&!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),function(t,e){return t.reduce(function(t,e,n){return e.catch(t.bind(null,n))}.bind(null,e),Promise.reject())}(n,function(t){var n=t.value;switch(t.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Yi(this,e,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Yi(this,e,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return t=Date.parse(n),isNaN(t)?0:t-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:return Promise.reject()}}.bind(t)).catch(function(){return 0})}(t,n,e,u).then(function(t){this.a&&(c.Oc(t),this.c={presentationTimeline:c,periods:h,offlineSessionIds:[],minBufferTime:r||0})}.bind(t)))}(t,e,n)})}(t,e.data,e.uri)}).then(function(){var n=(Date.now()-e)/1e3;return O(t.o,1,n),n})}function Vi(t,e,n,i){e.ba=Gi(i.node,null,n),e.M=i,e.ba.id||(e.ba.id="__shaka_period_"+i.start),$n(i.node,"EventStream").forEach(t.ge.bind(t,i.start,i.duration));var r=(n=$n(i.node,"AdaptationSet").map(t.ee.bind(t,e)).filter(At)).map(function(t){return t.re}).reduce(xt,[]),a=r.filter(Ot);if(e.Ga&&r.length!=a.length)throw new J(2,4,4018);var o=n.filter(function(t){return!t.dc});if(n.filter(function(t){return t.dc}).forEach(function(t){var e=t.streams[0],n=t.dc;o.forEach(function(t){t.id==n&&t.streams.forEach(function(t){t.trickModeVideo=e})})}),n=$i(o,"video"),r=$i(o,"audio"),!n.length&&!r.length)throw new J(2,4,4004);for(r.length||(r=[null]),n.length||(n=[null]),e=[],a=0;a<r.length;a++)for(var s=0;s<n.length;s++)zi(t,r[a],n[s],e);for(t=$i(o,"text"),n=[],r=0;r<t.length;r++)n.push.apply(n,t[r].streams);return{startTime:i.start,textStreams:n,variants:e}}function $i(t,e){return t.filter(function(t){return t.contentType==e})}function zi(t,e,n,i){if(e||n)if(e&&n){var r=e.drmInfos,a=n.drmInfos;if(!r.length||!a.length||0<ie(r,a).length){a=ie(e.drmInfos,n.drmInfos);for(var o=0;o<e.streams.length;o++)for(var s=0;s<n.streams.length;s++)r=(n.streams[s].bandwidth||0)+(e.streams[o].bandwidth||0),r={id:t.i++,language:e.language,primary:e.Lb||n.Lb,audio:e.streams[o],video:n.streams[s],bandwidth:r,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},i.push(r)}}else for(a=e||n,o=0;o<a.streams.length;o++)r=a.streams[o].bandwidth||0,r={id:t.i++,language:a.language||"und",primary:a.Lb,audio:e?a.streams[o]:null,video:n?a.streams[o]:null,bandwidth:r,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},i.push(r)}function Wi(e,n){0>e.m||(e.g=t.setTimeout(e.Ne.bind(e),1e3*Math.max(3,e.m-n,P(e.o))))}function Gi(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0,Qb:null},n=n||e.ea;var i=$n(t,"BaseURL").map(Wn),r=t.getAttribute("contentType")||e.contentType,a=t.getAttribute("mimeType")||e.mimeType,o=t.getAttribute("codecs")||e.codecs,s=Gn(t,"frameRate",ti)||e.frameRate,u=!!$n(t,"InbandEventStream").length,c=$n(t,"AudioChannelConfiguration");return c=function(t){for(var e=0;e<t.length;++e){var n=t[e],i=n.getAttribute("schemeIdUri");if(i&&(n=n.getAttribute("value")))switch(i){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(i=parseInt(n,10)))continue;return i;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(i=parseInt(n,16)){for(t=0;i;)1&i&&++t,i>>=1;return t}}}return null}(c)||e.Qb,r||(r=Xi(a,o)),{ea:Pt(n,i),bb:Vn(t,"SegmentBase")||e.bb,ra:Vn(t,"SegmentList")||e.ra,eb:Vn(t,"SegmentTemplate")||e.eb,width:Gn(t,"width",Zn)||e.width,height:Gn(t,"height",Zn)||e.height,contentType:r,mimeType:a,codecs:o,frameRate:s,containsEmsgBoxes:u||e.containsEmsgBoxes,id:t.getAttribute("id"),Qb:c}}function Yi(t,e,n,i){return(e=gt(e=Pt(e,[n]),t.b.retryParameters)).method=i,e=t.a.networkingEngine.request(0,e),ft(t.f,e),e.promise.then(function(t){if("HEAD"==i){if(!t.headers||!t.headers.date)return 0;t=t.headers.date}else t=jt(t.data);return t=Date.parse(t),isNaN(t)?0:t-Date.now()})}function Xi(t,e){return Ie[Nt(t,e)]?"text":t.split("/")[0]}function Ki(t,e,n,i){this.uri=t,this.type=e,this.a=n,this.segments=i||null}function Qi(t,e,n,i){this.id=t,this.name=e,this.a=n,this.value=i||null}function Ji(t,e){this.name=t,this.value=e}function Zi(t,e,n){return n=n||null,(t=t.getAttribute(e))?t.value:n}function tr(t,e){return t.filter(function(t){return t.name==e})}function er(t,e){var n=tr(t,e);return n.length?n[0]:null}function nr(t,e,n){return t.filter(function(t){var i=t.getAttribute("TYPE");return t=t.getAttribute("GROUP-ID"),i.value==e&&t.value==n})}function ir(t,e){return Pt([t],[e])[0]}function rr(t){this.b=t,this.a=0}function ar(t){or(t,/[ \t]+/gm)}function or(t,e){e.lastIndex=t.a;var n=e.exec(t.b);return n=null==n?null:{position:n.index,length:n[0].length,ue:n},t.a==t.b.length||null==n||n.position!=t.a?null:(t.a+=n.length,n.ue)}function sr(t){return t.a==t.b.length?null:(t=or(t,/[^ \t\n]*/gm))?t[0]:null}function ur(t,e,n){var i=(e=(e=jt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new J(2,4,4015);e=0;for(var r=1;r<i.length;r++)if(!/^#(?!EXT)/m.test(i[r])){var a=lr(t,i[r]);if(--t.a,0<=hr.indexOf(a.name)){e=1;break}"EXT-X-STREAM-INF"==a.name&&(r+=1)}for(r=[],a=1;a<i.length;)if(/^#(?!EXT)/m.test(i[a]))a+=1;else{var o=lr(t,i[a]);if(0<=dr.indexOf(o.name)){if(1!=e)throw new J(2,4,4017);return new Ki(n,e,r,t=cr(t,i=i.splice(a,i.length-a),r))}r.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new Ji("URI",i[a])),a+=1)}return new Ki(n,e,r)}function cr(t,e,n){var i=[],r=[];return e.forEach(function(e){if(/^(#EXT)/.test(e))e=lr(t,e),0<=hr.indexOf(e.name)?n.push(e):r.push(e);else{if(/^#(?!EXT)/m.test(e))return[];i.push(new function(t,e){this.a=e,this.uri=t}(e.trim(),r)),r=[]}}),i}function lr(t,e){t:{var n=t.a++,i=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!i)throw new J(2,4,4016,e);var r=i[1],a=i[2];if(i=[],a&&0<=a.indexOf("=")){a=new rr(a);for(var o,s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=or(a,s);)i.push(new Ji(o[1],o[2]||o[3]))}else if(a){n=new Qi(n,r,i,a);break t}n=new Qi(n,r,i)}return n}x("shaka.media.ManifestParser.registerParserByExtension",function(t,e){ji[t]=e}),x("shaka.media.ManifestParser.registerParserByMime",function(t,e){Ui[t]=e}),x("shaka.media.PresentationTimeline",Fi),Fi.prototype.S=function(){return this.b},Fi.prototype.getDuration=Fi.prototype.S,Fi.prototype.ja=function(t){this.b=t},Fi.prototype.setDuration=Fi.prototype.ja,Fi.prototype.sd=function(){return this.f},Fi.prototype.getPresentationStartTime=Fi.prototype.sd,Fi.prototype.Oc=function(t){this.j=t},Fi.prototype.setClockOffset=Fi.prototype.Oc,Fi.prototype.xb=function(t){this.i=t},Fi.prototype.setStatic=Fi.prototype.xb,Fi.prototype.$b=function(t){this.c=t},Fi.prototype.setSegmentAvailabilityDuration=Fi.prototype.$b,Fi.prototype.Pc=function(t){this.l=t},Fi.prototype.setDelay=Fi.prototype.Pc,Fi.prototype.Ma=function(t,e){0!=t.length&&(e&&(this.h=Math.max(this.h,t[0].startTime)),this.a=t.reduce(function(t,e){return Math.max(t,e.endTime-e.startTime)},this.a))},Fi.prototype.notifySegments=Fi.prototype.Ma,Fi.prototype.Pb=function(t){this.a=Math.max(this.a,t)},Fi.prototype.notifyMaxSegmentDuration=Fi.prototype.Pb,Fi.prototype.O=function(){return 1/0==this.b&&!this.i},Fi.prototype.isLive=Fi.prototype.O,Fi.prototype.ya=function(){return 1/0!=this.b&&!this.i},Fi.prototype.isInProgress=Fi.prototype.ya,Fi.prototype.Xa=function(){if(1/0==this.c)return this.g;var t=this.Ia()-this.c;return Math.max(this.g,t)},Fi.prototype.getSegmentAvailabilityStart=Fi.prototype.Xa,Fi.prototype.Qc=function(t){this.g=t},Fi.prototype.setUserSeekStart=Fi.prototype.Qc,Fi.prototype.Ia=function(){return this.O()||this.ya()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f),this.b):this.b},Fi.prototype.getSegmentAvailabilityEnd=Fi.prototype.Ia,Fi.prototype.Wa=function(t){var e=Math.max(this.h,this.g);if(1/0==this.c)return e;var n=this.Ia()-this.c;return t=Math.min(n+t,this.la()),Math.max(e,t)},Fi.prototype.getSafeSeekRangeStart=Fi.prototype.Wa,Fi.prototype.Ha=function(){return this.Wa(0)},Fi.prototype.getSeekRangeStart=Fi.prototype.Ha,Fi.prototype.la=function(){var t=this.O()||this.ya()?this.l:0;return Math.max(0,this.Ia()-t)},Fi.prototype.getSeekRangeEnd=Fi.prototype.la,x("shaka.dash.DashParser",Hi),(n=Hi.prototype).configure=function(t){this.b=t},n.start=function(t,e){return this.h=[t],this.a=e,qi(this).then(function(t){return this.a&&Wi(this,t),this.c}.bind(this))},n.stop=function(){return this.b=this.a=null,this.h=[],this.c=null,this.j=[],this.l={},null!=this.g&&(t.clearTimeout(this.g),this.g=null),this.f.destroy()},n.update=function(){qi(this).catch(function(t){this.a&&this.a.onError(t)}.bind(this))},n.onExpirationUpdated=function(){},n.ee=function(t,e){t.U=Gi(e,t.ba,null);var n=!1,i=$n(e,"Role"),r=i.map(function(t){return t.getAttribute("value")}).filter(At),a=void 0,o="text"==t.U.contentType;o&&(a="subtitle");for(var s=0;s<i.length;s++){var u=i[s].getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(u=i[s].getAttribute("value"),u){case"main":n=!0;break;case"caption":case"subtitle":a=u}}var c=null,l=!1;if($n(e,"EssentialProperty").forEach(function(t){"http://dashif.org/guidelines/trickmode"==t.getAttribute("schemeIdUri")?c=t.getAttribute("value"):l=!0}),l)return null;var h=ni(i=$n(e,"ContentProtection"),this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);if(i=$e(e.getAttribute("lang")||"und"),u=e.getAttribute("label"),0==(r=(s=$n(e,"Representation")).map(this.he.bind(this,t,h,a,i,u,n,r)).filter(function(t){return!!t})).length){if(o)return null;throw new J(2,4,4003)}return t.U.contentType&&"application"!=t.U.contentType||(t.U.contentType=Xi(r[0].mimeType,r[0].codecs),r.forEach(function(e){e.type=t.U.contentType})),r.forEach(function(t){h.drmInfos.forEach(function(e){t.keyId&&e.keyIds.push(t.keyId)})}),o=s.map(function(t){return t.getAttribute("id")}).filter(At),{id:t.U.id||"__fake__"+this.i++,contentType:t.U.contentType,language:i,Lb:n,streams:r,drmInfos:h.drmInfos,dc:c,re:o}},n.he=function(t,e,n,i,r,a,o,s){if(t.v=Gi(s,t.U,null),!function(t){var e=t.bb?1:0;return e+=t.ra?1:0,0==(e+=t.eb?1:0)?"text"==t.contentType||"application"==t.contentType:(1!=e&&(t.bb&&(t.ra=null),t.eb=null),!0)}(t.v))return null;t.bandwidth=Gn(s,"bandwidth",Jn)||0;var u=t.v.contentType;u="text"==u||"application"==u;try{var c=this.se.bind(this);if(t.v.bb)var l=function(t,e){var n=Number(ai(t,Li,"presentationTimeOffset"))||0,i=ai(t,Li,"timescale"),r=1;i&&(r=Jn(i)||1),n=n/r||0,i=Pi(t,Li);var a=t.v.contentType;if(r=t.v.mimeType.split("/")[1],"text"!=a&&"mp4"!=r&&"webm"!=r)throw new J(2,4,4006);if("webm"==r&&!i)throw new J(2,4,4005);a=oi(t,Li,"RepresentationIndex");var o=ai(t,Li,"indexRange"),s=t.v.ea;if(o=Kn(o||""),a){var u=a.getAttribute("sourceURL");u&&(s=Pt(t.v.ea,[u])),o=Gn(a,"range",Kn,o)}if(!o)throw new J(2,4,4002);return{createSegmentIndex:(r=Ii(t,e,i,s,o.start,o.end,r,n)).createSegmentIndex,findSegmentPosition:r.findSegmentPosition,getSegmentReference:r.getSegmentReference,initSegmentReference:i,da:n}}(t,c);else if(t.v.ra)l=Mi(t,this.l);else if(t.v.eb)l=Ri(t,c,this.l,!!this.c);else{var h=t.v.ea,d=t.M.duration||0;l={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0<=t&&t<d?1:null},getSegmentReference:function(t){return 1!=t?null:new li(1,0,d,function(){return h},0,null)},initSegmentReference:null,da:0}}}catch(t){if(u&&4002==t.code)return null;throw t}return s=function(t,e,n,i){var r=ni(t,e,i);if(n.oc)t=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,e=0==r.drmInfos.length,(0==n.drmInfos.length||t&&!e)&&(n.drmInfos=r.drmInfos),n.oc=!1;else if(0<r.drmInfos.length&&(n.drmInfos=n.drmInfos.filter(function(t){return r.drmInfos.some(function(e){return e.keySystem==t.keySystem})}),0==n.drmInfos.length))throw new J(2,4,4008);return r.jc||n.jc}(s=$n(s,"ContentProtection"),this.b.dash.customScheme,e,this.b.dash.ignoreDrmInfo),{id:this.i++,createSegmentIndex:l.createSegmentIndex,findSegmentPosition:l.findSegmentPosition,getSegmentReference:l.getSegmentReference,initSegmentReference:l.initSegmentReference,presentationTimeOffset:l.da,mimeType:t.v.mimeType,codecs:t.v.codecs,frameRate:t.v.frameRate,bandwidth:t.bandwidth,width:t.v.width,height:t.v.height,kind:n,encrypted:0<e.drmInfos.length,keyId:s,language:i,label:r,type:t.U.contentType,primary:a,trickModeVideo:null,containsEmsgBoxes:t.v.containsEmsgBoxes,roles:o,channelsCount:t.v.Qb}},n.Ne=function(){this.g=null,qi(this).then(function(t){this.a&&Wi(this,t)}.bind(this)).catch(function(t){this.a&&(t.severity=1,this.a.onError(t),Wi(this,0))}.bind(this))},n.ge=function(t,e,n){var i=n.getAttribute("schemeIdUri")||"",r=n.getAttribute("value")||"",a=Gn(n,"timescale",Zn)||1;$n(n,"Event").forEach(function(n){var o=Gn(n,"presentationTime",Zn)||0,s=Gn(n,"duration",Zn)||0;s=(o=o/a+t)+s/a,null!=e&&(o=Math.min(o,t+e),s=Math.min(s,t+e)),n={schemeIdUri:i,value:r,startTime:o,endTime:s,id:n.getAttribute("id")||"",eventElement:n},this.a.onTimelineRegionAdded(n)}.bind(this))},n.se=function(t,e,n){return t=gt(t,this.b.retryParameters),null!=e&&(t.headers.Range="bytes="+e+"-"+(null!=n?n:"")),e=this.a.networkingEngine.request(1,t),ft(this.f,e),e.promise.then(function(t){return t.data})},ji.mpd=Hi,Ui["application/dash+xml"]=Hi,Qi.prototype.toString=function(){return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(function(t){return t.name+'="'+t.value+'"'}).join(","):"#"+this.name},Qi.prototype.getAttribute=function(t){var e=this.a.filter(function(e){return e.name==t});return e.length?e[0]:null};var hr="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),dr="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function fr(t){try{var e=fr.parse(t);return nt({uri:t,data:e.data,headers:{"content-type":e.contentType}})}catch(t){return tt(t)}}function pr(){this.g=this.c=null,this.L=1,this.u={},this.J={},this.X={},this.a={},this.b=null,this.m="",this.s=new function(){this.a=0},this.j=this.i=null,this.f=Dr,this.o=null,this.l=0,this.A=1/0,this.h=new dt,this.G=[]}function mr(t,e,n){Ar(t,n).then(function(t){var i=Rr,r=ur(this.s,t.data,n);if(1!=r.type)throw new J(2,4,4017);t=er(r.a,"EXT-X-MEDIA-SEQUENCE");var a=e.stream;Sr(this,r,t?Number(t.value):0,a.mimeType,a.codecs).then(function(t){e.cb.a=t,t=t[t.length-1],er(r.a,"EXT-X-ENDLIST")&&(Lr(this,i.pa),this.b.ja(t.endTime))}.bind(this))}.bind(t))}function vr(t){t.forEach(function(t){var e=t.stream.codecs.split(",");e=e.filter(function(t){return"mp4a.40.34"!=t}),t.stream.codecs=e.join(",")})}function gr(t,e,n,i,r){return{id:t.L++,language:e?e.language:"und",primary:!!e&&e.primary||!!n&&n.primary,audio:e,video:n,bandwidth:i,drmInfos:r,allowedByApplication:!0,allowedByKeySystem:!0}}function yr(t,e,n){var i=xr(e,"URI");if(i=ir(t.m,i),t.a[i])return Promise.resolve(t.a[i]);var r=xr(e,"TYPE").toLowerCase();"subtitles"==r&&(r="text");var a=$e(Zi(e,"LANGUAGE","und")),o=Zi(e,"NAME"),s=e.getAttribute("DEFAULT"),u=e.getAttribute("AUTOSELECT"),c=Zi(e,"CHANNELS");return _r(t,i,n,r,a,!!s||!!u,o,"audio"==r?function(t){return t?(t=t.split("/")[0],parseInt(t,10)):null}(c):null).then(function(t){return this.a[i]?this.a[i]:(this.u[e.id]=t,this.a[i]=t)}.bind(t))}function _r(t,e,n,i,r,a,o,s){var u,c,l=e,h="";return Ar(t,e=ir(t.m,e)).then(function(t){if(1!=(u=ur(this.s,t.data,e)).type)throw new J(2,4,4017);var r=Rr,a=er((t=u).a,"EXT-X-PLAYLIST-TYPE"),o=er(t.a,"EXT-X-ENDLIST");if(o=a&&"VOD"==a.value||o,a=a&&"EVENT"==a.value&&!o,a=!o&&!a,o?Lr(this,r.pa):(Lr(this,a?r.fc:r.Wc),t=Cr(t.a,"EXT-X-TARGETDURATION"),t=Number(t.value),this.l=Math.max(t,this.l),this.A=Math.min(t,this.A)),1==n.length)h=n[0];else{if(null==(t=kr(i,n)))throw new J(2,4,4025,n);h=t}return function(t,e,n,i){var r=new R(i=ir(i.uri,i.segments[0].uri)).aa.split(".").pop(),a=Pr[e][r];return a?Promise.resolve(a):"text"==e?n&&"vtt"!=n?Promise.resolve("application/mp4"):Promise.resolve("text/vtt"):((e=gt([i],t.g.retryParameters)).method="HEAD",e=t.c.networkingEngine.request(1,e),ft(t.h,e),e.promise.then(function(t){if(!(t=t.headers["content-type"]))throw new J(2,4,4021,r);return t.split(";")[0]}))}(this,i,h,u)}.bind(t)).then(function(t){return c=t,t=er(u.a,"EXT-X-MEDIA-SEQUENCE"),Sr(this,u,t?Number(t.value):0,c,h)}.bind(t)).then(function(t){var e=t[0].startTime,n=t[t.length-1].endTime,d=n-e;t=new Ti(t);var f=br(u),p=void 0;"text"==i&&(p="subtitle");var m=[];u.segments.forEach(function(t){t=tr(t.a,"EXT-X-KEY"),m.push.apply(m,t)});var v=!1,g=[],y=null;if(m.forEach(function(t){if("NONE"!=xr(t,"METHOD")){v=!0;var e=xr(t,"KEYFORMAT");(t=(e=Mr[e])?e(t):null)&&(t.keyIds.length&&(y=t.keyIds[0]),g.push(t))}}),v&&!g.length)throw new J(2,4,4026);return f={id:this.L++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t),initSegmentReference:f,presentationTimeOffset:0,mimeType:c,codecs:h,kind:p,encrypted:v,keyId:y,language:r,label:o||null,type:i,primary:a,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s},this.X[f.id]=t,{stream:f,cb:t,drmInfos:g,Xb:l,Ob:e,Cd:n,duration:d}}.bind(t))}function br(t){var e=tr(t.a,"EXT-X-MAP");if(!e.length)return null;if(1<e.length)throw new J(2,4,4020);var n=xr(e=e[0],"URI"),i=ir(t.uri,n);return t=0,n=null,(e=Zi(e,"BYTERANGE"))&&(t=e.split("@"),e=Number(t[0]),n=(t=Number(t[1]))+e-1),new ci(function(){return[i]},t,n)}function wr(t,e,n,i,r){var a=n.a,o=ir(t.uri,n.uri);t=Cr(a,"EXTINF").value.split(","),t=r+Number(t[0]),n=0;var s=null;return(a=er(a,"EXT-X-BYTERANGE"))&&(n=a.value.split("@"),a=Number(n[0]),s=(n=n[1]?Number(n[1]):e.a+1)+a-1),new li(i,r,t,function(){return[o]},n,s)}function Tr(t){t.b&&(t.G.forEach(function(e){t.b.Ma(e,!0)}),t.G=[])}function Sr(t,e,n,i,r){var a=e.segments,o=[],s=ir(e.uri,a[0].uri),u=wr(e,null,a[0],n,0),c=br(e);return function(t,e,n,i,r,a){if(t.o&&(e=t.a[e].cb.get(i.position)))return Promise.resolve(e.startTime);i=[Er(t,i)],("video/mp4"==r||"audio/mp4"==r)&&(n?i.push(Er(t,n)):i.push(i[0]));return Promise.all(i).then(function(t){if("video/mp4"==r||"audio/mp4"==r)return function(t,e){var n=0;if((new mi).C("moov",vi).C("trak",vi).C("mdia",vi).Y("mdhd",function(t){t.reader.F(0==t.version?8:16),n=t.reader.B(),t.parser.stop()}).parse(e,!0),!n)throw new J(2,4,4030);var i=0,r=!1;if((new mi).C("moof",vi).C("traf",vi).Y("tfdt",function(t){i=(0==t.version?t.reader.B():t.reader.Qa())/n,r=!0,t.parser.stop()}).parse(t,!0),!r)throw new J(2,4,4030);return i}(t[0].data,t[1].data);if("audio/mpeg"==r)return 0;if("video/mp2t"==r)return function(t){function e(){throw new J(2,4,4030)}t=new hi(new DataView(t),0);for(var n=0,i=0;;){if(n=t.T(),71!=(i=t.ca())&&e(),16384&t.ab()||e(),0!=(i=(48&t.ca())>>4)&&2!=i||e(),3==i&&(i=t.ca(),t.F(i)),1==t.B()>>8)return t.F(3),0!=(n=t.ca()>>6)&&1!=n||e(),0==t.ca()&&e(),n=t.ca(),i=t.ab(),t=t.ab(),(1073741824*((14&n)>>1)+((65534&i)<<14|(65534&t)>>1))/9e4;t.seek(n+188),71!=(i=t.ca())&&(t.seek(n+192),i=t.ca()),71!=i&&(t.seek(n+204),i=t.ca()),71!=i&&e(),t.Lc(1)}}(t[0].data);if("application/mp4"==r||0==r.indexOf("text/")){t=t[0].data;var e=Nt(r,a);if(Ie[e]){var n=new Pe(null);n.f=new Ie[e],t=n.Ib(t)}else t=0;return t}throw new J(2,4,4030)}.bind(t))}(t,e.uri,c,u,i,r).then(function(t){s.split("/").pop();for(var i=0;i<a.length;++i){var r=o[o.length-1];r=wr(e,r,a[i],n+i,0==i?t:r.endTime),o.push(r)}return this.G.push(o),Tr(this),o}.bind(t))}function Er(t,e){var n=t.c.networkingEngine,i=gt(e.c(),t.g.retryParameters),r={},a=e.b;r.Range="bytes="+a+"-"+(a+2048-1);var o={};return 0==a&&null==e.a||(a="bytes="+a+"-",null!=e.a&&(a+=e.a),o.Range=a),i.headers=r,r=n.request(1,i),ft(t.h,r),r.promise.catch(function(){L("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),i.headers=o;var e=n.request(1,i);return ft(t.h,e),e.promise})}function kr(t,e){for(var n=Or[t],i=0;i<n.length;i++)for(var r=0;r<e.length;r++)if(n[i].test(e[r].trim()))return e[r].trim();return"text"==t?"":null}function xr(t,e){var n=t.getAttribute(e);if(!n)throw new J(2,4,4023,e);return n.value}function Cr(t,e){var n=er(t,e);if(!n)throw new J(2,4,4024,e);return n}function Ar(t,e){var n=t.c.networkingEngine.request(0,gt([e],t.g.retryParameters));return ft(t.h,n),n.promise}x("shaka.net.DataUriPlugin",fr),fr.parse=function(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw new J(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw new J(2,1,1004,e);var i=n[0];n=t.decodeURIComponent(n.slice(1).join(","));var r=null;if(1<(i=i.split(";")).length&&(r=i[1]),"base64"==r)e=Wt(n).buffer;else{if(r)throw new J(2,1,1005,e);e=Ht(n)}return{data:e,contentType:i[0]}},vt("data",fr),x("shaka.hls.HlsParser",pr),(n=pr.prototype).configure=function(t){this.g=t},n.start=function(t,e){return this.c=e,this.m=t,Ar(this,t).then(function(e){return function(t,e,n){if(0!=(e=ur(t.s,e,n)).type)throw new J(2,4,4022);return function(t,e){var n=e.a,i=tr(e.a,"EXT-X-MEDIA").filter(function(t){return"SUBTITLES"==xr(t,"TYPE")}.bind(t)).map(function(t){return function(t,e){return xr(e,"TYPE"),yr(t,e,[]).then(function(t){return t.stream})}(this,t)}.bind(t));return Promise.all(i).then(function(t){var i=tr(n,"EXT-X-STREAM-INF").map(function(t){return function(t,e,n){var i=Zi(e,"CODECS","avc1.42E01E,mp4a.40.2").split(","),r=e.getAttribute("RESOLUTION"),a=null,o=null,s=Zi(e,"FRAME-RATE"),u=Number(xr(e,"BANDWIDTH"));if(r){var c=r.value.split("x");a=c[0],o=c[1]}n=tr(n.a,"EXT-X-MEDIA");var l=Zi(e,"AUDIO"),h=Zi(e,"VIDEO");if(l?n=nr(n,"AUDIO",l):h&&(n=nr(n,"VIDEO",h)),c=kr("text",i)){var d=Zi(e,"SUBTITLES");d&&((d=nr(n,"SUBTITLES",d)).length&&(t.u[d[0].id].stream.codecs=c)),i.splice(i.indexOf(c),1)}n=n.map(function(t){return yr(this,t,i)}.bind(t));var f=[],p=[];return Promise.all(n).then(function(t){if(l?f=t:h&&(p=t),t=!1,f.length||p.length)if(f.length)if(xr(e,"URI")==f[0].Xb){var n="audio";t=!0}else n="video";else n="audio";else 1==i.length?(n=kr("video",i),n=r||s||n?"video":"audio"):(n="video",i=[i.join(",")]);return t?Promise.resolve():function(t,e,n,i){var r=xr(e,"URI");return r=ir(t.m,r),t.a[r]?Promise.resolve(t.a[r]):_r(t,r,n,i,"und",!1,null,null).then(function(t){return this.a[r]?this.a[r]:this.a[r]=t}.bind(t))}(this,e,i,n)}.bind(t)).then(function(t){return t&&("audio"==t.stream.type?f=[t]:p=[t]),p&&vr(p),f&&vr(f),function(t,e,n,i,r,a,o){n.forEach(function(t){(t=t.stream)&&(t.width=Number(r)||void 0,t.height=Number(a)||void 0,t.frameRate=Number(o)||void 0)}.bind(t)),e.length||(e=[null]),n.length||(n=[null]);for(var s=[],u=0;u<e.length;u++)for(var c=0;c<n.length;c++){var l=e[u]?e[u].stream:null,h=n[c]?n[c].stream:null,d=e[u]?e[u].drmInfos:null,f=n[c]?n[c].drmInfos:null,p=void 0;if(l&&h){if(d.length&&f.length&&!(0<ie(d,f).length))continue;p=ie(d,f)}else l?p=d:h&&(p=f);d=(n[u]?n[u].Xb:"")+" - "+(e[u]?e[u].Xb:""),t.J[d]||(l=gr(t,l,h,i,p),s.push(l),t.J[d]=l)}return s}(this,f,p,u,a,o,s)}.bind(t))}(this,t,e)}.bind(this));return Promise.all(i).then(function(e){return{startTime:0,variants:e.reduce(xt,[]),textStreams:t}}.bind(this))}.bind(t))}(t,e).then(function(t){this.c.filterAllPeriods([t]);var e=1/0,n=0,i=0,r=1/0;for(o in this.a){var a=this.a[o];e=Math.min(e,a.Ob),n=Math.max(n,a.Ob),i=Math.max(i,a.Cd),"text"!=a.stream.type&&(r=Math.min(r,a.duration))}var o=null;if(a=0,this.f!=Rr.pa&&(o=Date.now()/1e3-i,a=3*this.l),this.b=new Fi(o,a),this.b.xb(this.f==Rr.pa),Tr(this),this.f!=Rr.pa){for(e=3*this.l,this.b.Pc(e),this.i=this.A,this.f==Rr.fc&&(isNaN(this.g.availabilityWindowOverride)||(e=this.g.availabilityWindowOverride),this.b.$b(e)),e=0;95443.7176888889<=n;)e+=95443.7176888889,n-=95443.7176888889;if(e)for(var s in this.a)95443.7176888889>(n=this.a[s]).Ob&&(n.stream.presentationTimeOffset=-e,n.cb.offset(e))}else for(var u in this.b.ja(r),this.a)(s=this.a[u]).stream.presentationTimeOffset=e,s.cb.offset(-e),Si(s.cb,r);this.o={presentationTimeline:this.b,periods:[t],offlineSessionIds:[],minBufferTime:0}}.bind(t))}(this,e.data,t).then(function(){return Ir(this,this.i),this.o}.bind(this))}.bind(this))},n.stop=function(){return this.g=this.c=null,this.u={},this.J={},this.o=null,this.h.destroy()},n.update=function(){if(this.f!=Rr.pa){var t,e=[];for(t in this.a)e.push(mr(this,this.a[t],t));return Promise.all(e)}},n.onExpirationUpdated=function(){};var Or={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Pr={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function Ir(e,n){null!=e.i&&null!=n&&(e.j=t.setTimeout(e.R.bind(e),1e3*n))}function Lr(e,n){e.f=n,e.b&&e.b.xb(e.f==Rr.pa),e.f==Rr.pa&&null!=e.j&&(t.clearTimeout(e.j),e.j=null,e.i=null)}pr.prototype.R=function(){this.c&&(this.j=null,this.update().then(function(){Ir(this,this.i)}.bind(this)).catch(function(t){this.c&&(t.severity=1,this.c.onError(t),Ir(this,0))}.bind(this)))};var Mr={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=xr(t,"METHOD");return"SAMPLE-AES-CENC"!=e&&"SAMPLE-AES-CTR"!=e?null:(e=xr(t,"URI"),e=fr.parse(e),e=It("com.widevine.alpha",[{initDataType:"cenc",initData:e=new Uint8Array(e.data)}]),(t=Zi(t,"KEYID"))&&(e.keyIds=[t.substr(2).toLowerCase()]),e)}},Dr="VOD",Rr={pa:Dr,Wc:"EVENT",fc:"LIVE"};function Nr(t,e,n,i){this.a=t,this.s=e,this.o=n,this.u=i,this.h=new bt,this.b=null,this.g=!1,this.m=t.readyState,this.c=!1,this.j=this.A=-1,this.f=this.i=!1,e=this.l.bind(this),wt(this.h,t,"waiting",e),this.b=new Vt(e),$t(this.b,.25)}function Ur(t,e,n){this.a=t,this.i=e,this.h=n,this.c=new bt,this.f=1,this.g=!1,this.b=null,0<t.readyState?this.Bc():Tt(this.c,t,"loadedmetadata",this.Bc.bind(this)),wt(this.c,t,"ratechange",this.Td.bind(this))}function jr(t){return 0<t.a.readyState?t.a.currentTime:t.h}function Br(t,e){0<t.a.readyState?function(t,e,n){t.a.currentTime=n;var i=0;setTimeout(function r(){!t.a||10<=i++||t.a.currentTime!=e||(t.a.currentTime=n,setTimeout(r,100))},100)}(t,t.a.currentTime,e):(t.h=e,setTimeout(t.i,0))}function Fr(t,e){null!=t.b&&(t.b.cancel(),t.b=null),t.f=e,t.a.playbackRate=t.g||0>e?0:e,!t.g&&0>e&&(t.b=new Vt(function(){t.a.currentTime+=e/4}),$t(t.b,.25))}function Hr(t,e,n,i,r,a){this.c=t,this.b=e,this.h=n,this.j=r,this.f=null,this.g=new Nr(t,e,n,a),e=this.Vd.bind(this),n=this.b.presentationTimeline,null==i?i=1/0>n.S()?n.Ha():n.la():0>i&&(i=n.la()+i),i=Vr(this,zr(this,i)),this.a=new Ur(t,e,i),this.f=new Vt(this.Sd.bind(this)),$t(this.f,.25)}function qr(t){var e=jr(t.a);return 0<t.c.readyState&&(t.c.paused||(e=zr(t,e))),e}function Vr(t,e){var n=t.b.presentationTimeline.S();return e>=n?n-t.h.durationBackoff:e}function $r(t,e){var n=ue.bind(null,t.c.buffered),i=Math.max(t.b.minBufferTime||0,t.h.rebufferingGoal),r=t.b.presentationTimeline,a=r.Ha(),o=r.la(),s=r.S();3>o-a&&(a=o-3);var u=r.Wa(i),c=r.Wa(5);return i=r.Wa(i+5),e>=s?Vr(t,e):e>o?o:e<a?n(c)?c:i:e>=u||n(e)?e:i}function zr(t,e){var n=t.b.presentationTimeline.Ha();return e<n?n:e>(n=t.b.presentationTimeline.la())?n:e}function Wr(t,e,n,i,r,a,o){this.a=t,this.u=e,this.g=n,this.s=i,this.l=r,this.h=a,this.A=o,this.c=[],this.j=new bt,this.b=!1,this.i=-1,this.f=null,Yr(this)}function Gr(t){var e=lt(t);return e.eventElement=t.eventElement,e}function Yr(e){Xr(e),e.f=t.setTimeout(e.G.bind(e),250)}function Xr(e){e.f&&(t.clearTimeout(e.f),e.f=null)}function Kr(t,e){this.a=e,this.b=t,this.g=null,this.j=1,this.m=Promise.resolve(),this.h=[],this.i={},this.c={},this.o=!1,this.A=null,this.u=this.f=this.l=!1,this.s=0}function Qr(t){var e=qr(t.a.Oa);return t.b.periods[hn(t.b,e)]}function Jr(t){var e=t.c.video||t.c.audio;return e?t.b.periods[e.za]:null}function Zr(t){return ea(t,"audio")}function ta(t){return ea(t,"video")}function ea(t,e){var n=t.c[e];return n?n.qa||n.stream:null}function na(t,e,n){Ue(t.a.K,"text"),t.s++,t.u=!1;var i=t.s;return t.a.K.init({text:e},!1).then(function(){return ha(t,[e])}).then(function(){if(!t.f&&n&&t.s==i&&!t.c.text&&!t.u){var r=qr(t.a.Oa);t.c.text=ca(e,hn(t.b,r)),ga(t,t.c.text,0)}})}function ia(t){t.u=!0,t.c.text&&(ya(t.c.text),delete t.c.text)}function ra(t,e){var n=t.c.video;if(n){var i=n.stream;if(i)if(e){var r=i.trickModeVideo;r&&!n.qa&&(oa(t,r,!1),n.qa=i)}else(i=n.qa)&&(n.qa=null,oa(t,i,!0))}}function aa(t,e,n){e.video&&oa(t,e.video,n),e.audio&&oa(t,e.audio,n)}function oa(t,e,n){var i=t.c[e.type];if(!i&&"text"==e.type&&t.g.ignoreTextStreamFailures)na(t,e,!0);else if(i){var r=dn(t.b,e);n&&r!=i.za?sa(t):(i.qa&&(e.trickModeVideo?(i.qa=e,e=e.trickModeVideo):i.qa=null),(r=t.h[r])&&r.Ra&&(r=t.i[e.id])&&r.Ra&&i.stream!=e&&("text"==e.type&&Me(t.a.K,Nt(e.mimeType,e.codecs)),i.stream=e,i.ub=!0,n&&(i.wa?i.yb=!0:i.Aa?(i.ta=!0,i.yb=!0):(ya(i),va(t,i,!0)))))}}function sa(t){for(var e in t.c){var n=t.c[e];n.wa||n.ta||(n.Aa?n.ta=!0:null==De(t.a.K,e)?null==n.sa&&ga(t,n,0):(ya(n),va(t,n,!1)))}}function ua(t,e,n){var i=qr(t.a.Oa),r=hn(t.b,i),a={},o=[];return e.variant&&e.variant.audio&&(a.audio=e.variant.audio,o.push(e.variant.audio)),e.variant&&e.variant.video&&(a.video=e.variant.video,o.push(e.variant.video)),e.text&&(a.text=e.text,o.push(e.text)),t.a.K.init(a,t.g.forceTransmuxTS).then(function(){if(!t.f){var e=t.b.presentationTimeline.S();return 1/0>e?t.a.K.ja(e):t.a.K.ja(Math.pow(2,32)),ha(t,o)}}).then(function(){if(!t.f)for(var e in a){var i=a[e];t.c[e]||(t.c[e]=ca(i,r,n),ga(t,t.c[e],0))}})}function ca(t,e,n){return{stream:t,type:t.type,Ja:null,ma:null,qa:null,ub:!0,za:e,endOfStream:!1,Aa:!1,sa:null,ta:!1,yb:!1,wa:!1,Wb:!1,Ya:!1,Jc:n||0}}function la(t,e){var n=t.h[e];if(n)return n.promise;n={promise:new X,Ra:!1},t.h[e]=n;var i=t.b.periods[e].variants.map(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),t.video&&t.video.trickModeVideo&&e.push(t.video.trickModeVideo),e}).reduce(xt,[]).filter(Ot);return i.push.apply(i,t.b.periods[e].textStreams),t.m=t.m.then(function(){if(!this.f)return ha(this,i)}.bind(t)).then(function(){this.f||(this.h[e].promise.resolve(),this.h[e].Ra=!0)}.bind(t)).catch(function(t){this.f||(this.h[e].promise.catch(function(){}),this.h[e].promise.reject(),delete this.h[e],this.a.onError(t))}.bind(t)),n.promise}function ha(t,e){e.map(function(t){return t.id}).filter(Ot);for(var n=[],i=0;i<e.length;++i){var r=e[i],a=t.i[r.id];a?n.push(a.promise):(t.i[r.id]={promise:new X,Ra:!1},n.push(r.createSegmentIndex()))}return Promise.all(n).then(function(){if(!this.f)for(var t=0;t<e.length;++t){var n=this.i[e[t].id];n.Ra||(n.promise.resolve(),n.Ra=!0)}}.bind(t)).catch(function(t){if(!this.f){for(var n=0;n<e.length;n++)this.i[e[n].id].promise.catch(function(){}),this.i[e[n].id].promise.reject(),delete this.i[e[n].id];return Promise.reject(t)}}.bind(t))}function da(t,e,n){return e.Ja&&e.ma?t.b.periods[dn(t.b,e.Ja)].startTime+e.ma.endTime:Math.max(n,e.Jc)}function fa(t,e,n,i){return n=t.b.periods[n],(e=e.stream.getSegmentReference(i))?(t=(i=t.b.presentationTimeline).Xa(),i=i.Ia(),n.startTime+e.endTime<t||n.startTime+e.startTime>i?null:e):null}function pa(t){return!t.Aa&&null==t.sa&&!t.ta&&!t.wa}function ma(t,e){var n=gt(e.c(),t.g.retryParameters);if(0!=e.b||null!=e.a){var i="bytes="+e.b+"-";null!=e.a&&(i+=e.a),n.headers.Range=i}return t.a.La.request(1,n).promise.then(function(t){return t.data})}function va(t,e,n){e.ta=!1,e.yb=!1,e.wa=!0,Ue(t.a.K,e.type).then(function(){if(!this.f&&n)return this.a.K.flush(e.type)}.bind(t)).then(function(){this.f||(e.Ja=null,e.ma=null,e.wa=!1,e.endOfStream=!1,ga(this,e,0))}.bind(t))}function ga(e,n,i){n.sa=t.setTimeout(e.Pe.bind(e,n),1e3*i)}function ya(e){null!=e.sa&&(t.clearTimeout(e.sa),e.sa=null)}function _a(t,e){Q(t.A).then(function(){this.f||(this.a.onError(e),e.handled||this.g.failureCallback(e))}.bind(t))}function ba(t,e,n,i,r,a){if(200<=n&&299>=n&&202!=n)return r&&(i=r),{uri:i,data:e,headers:t,fromCache:!!t["x-shaka-from-cache"]};r=null;try{r=Ft(e)}catch(t){}throw new J(401==n||403==n?2:1,1,1001,i,n,r,t,a)}function wa(t,e,n){var i=new wa.b;Rt(e.headers,function(t,e){i.append(t,e)});var r,a=new wa.a,o={body:e.body||void 0,headers:i,method:e.method,signal:a.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},s={ic:!1,Uc:!1};return e.retryParameters.timeout&&(r=setTimeout(function(){s.Uc=!0,a.abort()},e.retryParameters.timeout)),new Z(t=wa.f(t,n,o,s,r),function(){return s.ic=!0,a.abort(),Promise.resolve()})}function Ta(t,e,n){var i=new Ta.g;return new Z(new Promise(function(r,a){for(var o in i.open(e.method,t,!0),i.responseType="arraybuffer",i.timeout=e.retryParameters.timeout,i.withCredentials=e.allowCrossSiteCredentials,i.onabort=function(){a(new J(1,1,7001,t,n))},i.onload=function(e){var i=(e=e.target).getAllResponseHeaders().trim().split("\r\n").reduce(function(t,e){var n=e.split(": ");return t[n[0].toLowerCase()]=n.slice(1).join(": "),t},{});try{var o=ba(i,e.response,e.status,t,e.responseURL,n);r(o)}catch(t){a(t)}},i.onerror=function(e){a(new J(1,1,1002,t,e,n))},i.ontimeout=function(){a(new J(1,1,1003,t,n))},e.headers)i.setRequestHeader(o.toLowerCase(),e.headers[o]);i.send(e.body)}),function(){return i.abort(),Promise.resolve()})}function Sa(t){this.a={},this.c=Promise.resolve(),this.h=!1,this.i=t,this.f=this.b=this.g=0}function Ea(t,e,n,i,r){t.a[e]=t.a[e]||[],t.a[e].push({request:n,lc:i,Fd:r})}function ka(t,e){var n=Dt(t.a);t.a={},n.forEach(function(e){e.forEach(function(e){t.b+=e.lc})});var i=Promise.resolve().then(function(){return xa(t),Promise.all(n.map(function(n){return function(t,e,n){var i=Promise.resolve();return n.forEach(function(n){i=i.then(function(){return xa(t),function(t,e,n){return Promise.resolve().then(function(){return xa(t),e.request(1,n.request).promise}).then(function(e){return xa(t),t.g+=n.lc,t.f+=e.data.byteLength,t.i(t.b?t.g/t.b:0,t.f),n.Fd(e.data)})}(t,e,n)})}),i}(t,e,n)}))});return t.c=t.c.then(function(){return i}),i}function xa(t){if(t.h)throw new J(2,9,7001)}function Ca(t,e){var n=this;this.c=t,this.b=t.objectStore(e),this.a=new X,t.onabort=function(t){t.preventDefault(),n.a.reject()},t.onerror=function(t){t.preventDefault(),n.a.reject()},t.oncomplete=function(){n.a.resolve()}}function Aa(t){this.b=t,this.a=[]}function Oa(t,e){return Pa(t,e,"readwrite")}function Pa(t,e,n){var i=new Ca(n=t.b.transaction([e],n),e);return t.a.push(i),i.promise().then(function(){ut(t.a,i)},function(){ut(t.a,i)}),i}function Ia(){this.a={}}function La(t,e){Rt(t.a,function(t,n){Rt(n.getCells(),function(n,i){e({$:t,N:n},i)})})}function Ma(t,e,n){if(!(t=t.a[e]))throw new J(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells()[n]))throw new J(2,9,9013,"Could not find cell with name "+n);return e}function Da(){return Dt(Ra).some(function(t){return!!(t=t())&&(t.destroy(),!0)})}ji.m3u8=pr,Ui["application/x-mpegurl"]=pr,Ui["application/vnd.apple.mpegurl"]=pr,Nr.prototype.destroy=function(){var t=this.h.destroy();return this.u=this.s=this.a=this.h=null,null!=this.b&&(this.b.cancel(),this.b=null),t},Nr.prototype.$a=function(){this.f=!0,this.l()},Nr.prototype.l=function(){if(0!=this.a.readyState){if(this.a.seeking){if(!this.g)return}else this.g=!1;if(!this.a.paused){this.a.readyState!=this.m&&(this.c=!1,this.m=this.a.readyState);var t=this.o.smallGapLimit,e=this.a.currentTime,n=this.a.buffered;t:{if(n&&n.length&&!(1==n.length&&1e-6>n.end(0)-n.start(0))){var i=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(i=.5);for(var r=0;r<n.length;r++)if(n.start(r)>e&&(0==r||n.end(r-1)-e<=i)){i=r;break t}}i=null}if(null==i){if(n=this.a.currentTime,e=this.a.buffered,3>this.a.readyState&&0<this.a.playbackRate)if(this.j!=n)this.j=n,this.A=Date.now(),this.i=!1;else if(!this.i&&this.A<Date.now()-1e3)for(i=0;i<e.length;i++)if(n>=e.start(i)&&n<e.end(i)-.5){this.a.currentTime+=.1,this.j=this.a.currentTime,this.i=!0;break}}else if(0!=i||this.f){r=n.start(i);var a=this.s.presentationTimeline.la();if(!(r>=a)){t=(a=r-e)<=t;var o=!1;.001>a||(t||this.c||(this.c=!0,(e=new kt("largegap",{currentTime:e,gapSize:a})).cancelable=!0,this.u(e),this.o.jumpLargeGaps&&!e.defaultPrevented&&(o=!0)),!t&&!o)||(0!=i&&n.end(i-1),this.a.currentTime=r)}}}}},(n=Ur.prototype).destroy=function(){var t=this.c.destroy();return this.c=null,null!=this.b&&(this.b.cancel(),this.b=null),this.i=this.a=null,t},n.Va=function(){return this.f},n.Td=function(){var t=this.g||0>this.f?0:this.f;this.a.playbackRate&&this.a.playbackRate!=t&&Fr(this,this.a.playbackRate)},n.Bc=function(){.001>Math.abs(this.a.currentTime-this.h)?this.Cc():(Tt(this.c,this.a,"seeking",this.Cc.bind(this)),this.a.currentTime=0==this.a.currentTime?this.h:this.a.currentTime)},n.Cc=function(){var t=this;wt(this.c,this.a,"seeking",function(){return t.i()})},(n=Hr.prototype).destroy=function(){var t=Promise.all([this.a.destroy(),this.g.destroy()]);return this.g=this.a=null,null!=this.f&&(this.f.cancel(),this.f=null),this.j=this.h=this.b=this.c=null,t},n.Va=function(){return this.a.Va()},n.$a=function(){this.g.$a()},n.Sd=function(){if(0!=this.c.readyState&&!this.c.paused){var t=this.c.currentTime,e=this.b.presentationTimeline,n=e.Ha();3>(e=e.la())-n&&(n=e-3),t<n&&(t=$r(this,t),this.c.currentTime=t)}},n.Vd=function(){var t=this.g;t.g=!0,t.f=!1,t.c=!1;var e=jr(this.a);if(t=$r(this,e),.001<Math.abs(t-e)&&(e=(new Date).getTime()/1e3,!this.i||this.i<e-1))return this.i=e,void Br(this.a,t);this.j()},Wr.prototype.destroy=function(){var t=this.j?this.j.destroy():Promise.resolve();return this.j=null,Xr(this),this.A=this.h=this.l=this.s=this.g=this.u=this.a=null,this.c=[],t},Wr.prototype.o=function(t){if(!this.c.some(function(e){return e.info.schemeIdUri==t.schemeIdUri&&e.info.startTime==t.startTime&&e.info.endTime==t.endTime})){var e={info:t,status:1};this.c.push(e);var n=new kt("timelineregionadded",{detail:Gr(t)});this.h(n),this.m(!0,e)}},Wr.prototype.m=function(t,e){var n=e.info.startTime>this.a.currentTime?1:e.info.endTime<this.a.currentTime?3:2,i=2==e.status,r=2==n;n!=e.status&&((!t||i||r)&&(i||this.h(new kt("timelineregionenter",{detail:Gr(e.info)})),r||this.h(new kt("timelineregionexit",{detail:Gr(e.info)}))),e.status=n)},Wr.prototype.G=function(){this.f=null,Yr(this);var t=hn(this.g,this.a.currentTime);t!=this.i&&(-1!=this.i&&this.A(),this.i=t),t=ce(this.a.buffered,this.a.currentTime);var e=se(this.a.buffered),n=this.g.presentationTimeline,i=n.Ia();e=n.O()&&e>=i,n=!(n=this.u).g||"ended"==n.g.readyState,e=e||this.a.ended||n,this.b?(n=Math.max(this.g.minBufferTime||0,this.s.rebufferingGoal),(e||t>=n)&&0!=this.b&&(this.b=!1,this.l(!1))):!e&&.5>t&&1!=this.b&&(this.b=!0,this.l(!0)),this.c.forEach(this.m.bind(this,!1))},(n=Kr.prototype).destroy=function(){for(var t in this.c)ya(this.c[t]);return this.g=this.c=this.i=this.h=this.m=this.b=this.a=null,this.f=!0,Promise.resolve()},n.configure=function(t){this.g=t,this.A=new K({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},n.init=function(){var t=qr(this.a.Oa);return(t=this.a.wc(this.b.periods[hn(this.b,t)])).variant||t.text?ua(this,t).then(function(){!this.f&&this.a&&this.a.Jd&&this.a.Jd()}.bind(this)):Promise.reject(new J(2,5,5005))},n.Pe=function(t){if(!this.f&&!t.Aa&&null!=t.sa&&!t.wa)if(t.sa=null,t.ta)va(this,t,t.yb);else{try{var e=function(t,e){var n=qr(t.a.Oa),i=da(t,e,n),r=dn(t.b,e.stream),a=hn(t.b,i),o=function(t,e,n){return"text"==e?null==(t=t.a).b||t.b<n?0:t.b-Math.max(n,t.a):ce(t=Re(t,e),n)}(t.a.K,e.type,n),s=Math.max(t.j*Math.max(t.b.minBufferTime||0,t.g.rebufferingGoal),t.j*t.g.bufferingGoal);if(i>=t.b.presentationTimeline.S())return e.endOfStream=!0,null;if(e.endOfStream=!1,e.za=a,a!=r)return null;if(o>=s)return.5;if(a=function(t,e){return"text"==e?t.a.b:se(Re(t,e))}(t.a.K,e.type),!(a=function(t,e,n,i,r){if(e.ma&&e.stream==e.Ja)return fa(t,e,r,e.ma.position+1);if(null==(n=e.ma?e.stream.findSegmentPosition(Math.max(0,t.b.periods[dn(t.b,e.Ja)].startTime+e.ma.endTime-t.b.periods[r].startTime)):e.stream.findSegmentPosition(Math.max(0,(i||n)-t.b.periods[r].startTime))))return null;var a=null;return null==i&&(a=fa(t,e,r,Math.max(0,n-1))),a||fa(t,e,r,n)}(t,e,n,a,r)))return 1;var u=1/0;return Dt(t.c).forEach(function(e){u=Math.min(u,da(t,e,n))}),i>=u+t.b.presentationTimeline.a?1:(e.Jc=0,function(t,e,n,i,r){var a=t.b.periods[i],o=e.stream,s=t.b.presentationTimeline.S(),u=t.b.periods[i+1];i=function(t,e,n,i,r){return e.ub?(n=function(t,e,n,i,r){return"text"==e?(t.a.g=n,(t=t.a).i=i,t.h=r,Promise.resolve()):Promise.all([je(t,e,t.$c.bind(t,e)),je(t,e,t.Ee.bind(t,e,n)),je(t,e,t.Be.bind(t,e,i,r))])}(t.a.K,e.type,t.b.periods[n].startTime-e.stream.presentationTimeOffset,i,r),e.stream.initSegmentReference?(t=ma(t,e.stream.initSegmentReference).then(function(t){if(!this.f)return Ne(this.a.K,e.type,t,null,null)}.bind(t)).catch(function(t){return e.ub=!0,Promise.reject(t)}),Promise.all([n,t])):n):Promise.resolve()}(t,e,i,Math.max(0,a.startTime-.1),u?u.startTime:s),e.Aa=!0,e.ub=!1,s=ma(t,r),Promise.all([i,s]).then(function(t){if(!this.f&&!this.l)return function(t,e,n,i,r,a,o){return r.containsEmsgBoxes&&(new mi).Y("emsg",t.fe.bind(t,i,a)).parse(o),function(t,e,n){var i=Math.max(t.g.bufferBehind,t.b.presentationTimeline.a),r=De(t.a.K,e.type);return null==r?Promise.resolve():0>=(n=n-r-i)?Promise.resolve():t.a.K.remove(e.type,r,r+n).then(function(){}.bind(t))}(t,e,n).then(function(){if(!this.f)return Ne(this.a.K,e.type,o,a.startTime,a.endTime)}.bind(t)).then(function(){if(!this.f)return e.Ja=r,e.ma=a,Promise.resolve()}.bind(t))}(this,e,n,a,o,r,t[1])}.bind(t)).then(function(){this.f||this.l||(e.Aa=!1,e.Wb=!1,e.ta||this.a.$a(),ga(this,e,0),function(t,e){if(!t.o&&(t.o=Dt(t.c).every(function(t){return"text"==t.type||!t.ta&&!t.wa&&t.ma}),t.o)){var n=dn(t.b,e);for(t.h[n]||la(t,n).then(function(){this.f||this.a.vc()}.bind(t)).catch(Ct),n=0;n<t.b.periods.length;++n)la(t,n).catch(Ct);t.a.Yd&&t.a.Yd()}}(this,o))}.bind(t)).catch(function(t){this.f||this.l||(e.Aa=!1,"text"==e.type&&this.g.ignoreTextStreamFailures?delete this.c.text:3017==t.code?function(t,e,n){if(!Dt(t.c).some(function(t){return t!=e&&t.Wb})){var i=Math.round(100*t.j);if(20<i)t.j-=.2;else{if(!(4<i))return e.Ya=!0,t.l=!0,void t.a.onError(n);t.j-=.04}e.Wb=!0}ga(t,e,4)}(this,e,t):(e.Ya=!0,t.severity=2,_a(this,t)))}.bind(t))}(t,e,n,r,a),null)}(this,t);null!=e&&(ga(this,t,e),t.Ya=!1)}catch(t){return void _a(this,t)}e=Dt(this.c),function(t,e){if(e.za!=dn(t.b,e.stream)){var n=e.za,i=Dt(t.c);i.every(function(t){return t.za==n})&&i.every(pa)&&la(t,n).then(function(){if(!this.f&&i.every(function(t){var e=dn(this.b,t.stream);return pa(t)&&t.za==n&&e!=n}.bind(this))){var t=this.b.periods[n],e=this.a.wc(t),r={};for(var a in e.variant&&e.variant.video&&(r.video=e.variant.video),e.variant&&e.variant.audio&&(r.audio=e.variant.audio),e.text&&(r.text=e.text),this.c)if(!r[a]&&"text"!=a)return void this.a.onError(new J(2,5,5005));for(var o in r)if(!this.c[o]){if("text"!=o)return void this.a.onError(new J(2,5,5005));ua(this,{text:r.text},t.startTime),delete r[o]}for(var s in this.c)(t=r[s])?(oa(this,t,!1),ga(this,this.c[s],0)):delete this.c[s];this.a.vc()}}.bind(t)).catch(Ct)}}(this,t),e.every(function(t){return t.endOfStream})&&this.a.K.endOfStream().then(function(){if(!this.f){var t=this.a.K.S();t<this.b.presentationTimeline.S()&&this.b.presentationTimeline.ja(t)}}.bind(this))}},n.fe=function(t,e,n){var i=n.reader.Ub(),r=n.reader.Ub(),a=n.reader.B(),o=n.reader.B(),s=n.reader.B(),u=n.reader.B();n=n.reader.Ba(n.reader.D.byteLength-n.reader.T()),t=t.startTime+e.startTime+o/a,"urn:mpeg:dash:event:2012"==i?this.a.Ld():this.a.onEvent(new kt("emsg",{detail:{startTime:t,endTime:t+s/a,schemeIdUri:i,value:r,timescale:a,presentationTimeDelta:o,eventDuration:s,id:u,messageData:n}}))},x("shaka.net.HttpFetchPlugin",wa),wa.f=function(t,e,n,i,r){return d(function a(){var o,s,u,c,l;return E(a,function(a){switch(a.w){case 1:return o=wa.c,g(a,2,3),v(a,o(t,n),5);case 5:return v(a,(s=a.I).arrayBuffer(),6);case 6:u=a.I;case 3:_(a),clearTimeout(r),b(a,4);break;case 2:if(c=y(a),i.ic)throw new J(1,1,7001,t,e);if(i.Uc)throw new J(1,1,1003,t,e);throw new J(1,1,1002,t,c,e);case 4:return l={},s.headers.forEach(function(t,e){l[e.trim()]=t}),a.return(ba(l,u,s.status,t,s.url,e))}})})},wa.isSupported=function(){return!(!t.fetch||!t.AbortController)},wa.isSupported=wa.isSupported,wa.c=t.fetch,wa.a=t.AbortController,wa.b=t.Headers,wa.isSupported()&&(vt("http",wa,2),vt("https",wa,2)),x("shaka.net.HttpXHRPlugin",Ta),Ta.g=t.XMLHttpRequest,vt("http",Ta,1),vt("https",Ta,1),Sa.prototype.destroy=function(){this.h=!0;var t=this.c.catch(function(){});return this.c=Promise.resolve(),t},Ca.prototype.abort=function(){try{this.c.abort()}catch(t){}return this.a.catch(function(){})},Ca.prototype.store=function(){return this.b},Ca.prototype.promise=function(){return this.a},Aa.prototype.destroy=function(){return Promise.all(this.a.map(function(t){return t.abort()}))},Ia.prototype.destroy=function(){var t=Dt(this.a).map(function(t){return t.destroy()});return this.a={},Promise.all(t)},Ia.prototype.init=function(){var t=this;Rt(Ra,function(e,n){var i=n();i&&(t.a[e]=i)});var e=Dt(this.a).map(function(t){return t.init()});return Promise.all(e)},x("shaka.offline.StorageMuxer.register",function(t,e){Ra[t]=e}),x("shaka.offline.StorageMuxer.unregister",function(t){delete Ra[t]});var Ra={};function Na(t){this.a=new Aa(t)}function Ua(t){return Promise.reject(new J(2,9,9011,"Cannot add new value to "+t))}function ja(t,e,n,i){var r=(t=Oa(t.a,e)).store();return n.forEach(function(t){r.delete(t).onsuccess=function(){return i(t)}}),t.promise()}function Ba(t,e,n){var i=(t=Pa(t.a,e,"readonly")).store(),r={},a=[];return n.forEach(function(t){i.get(t).onsuccess=function(e){void 0==(e=e.target.result)&&a.push(t),r[t]=e}}),t.promise().then(function(){return a.length?Promise.reject(new J(2,9,9012,"Could not find values for "+a)):n.map(function(t){return r[t]})})}function Fa(t){return{originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,periods:t.periods.map(Ha),sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata}}function Ha(t){return function(t){var e=t.streams.filter(function(t){return"audio"==t.contentType}),n=t.streams.filter(function(t){return"video"==t.contentType});if(!e.every(function(t){return t.variantIds})||!n.every(function(t){return t.variantIds})){e.forEach(function(t){t.variantIds=[]}),n.forEach(function(t){t.variantIds=[]});var i=0;if(n.length&&!e.length){var r=i++;n.forEach(function(t){t.variantIds.push(r)})}if(!n.length&&e.length){var a=i++;e.forEach(function(t){t.variantIds.push(a)})}n.length&&e.length&&e.forEach(function(t){n.forEach(function(e){var n=i++;t.variantIds.push(n),e.variantIds.push(n)})})}}(t),t.streams.forEach(function(){}),{startTime:t.startTime,streams:t.streams.map(qa)}}function qa(t){var e=t.zd?za(t.zd):null;return{id:t.id,primary:t.primary,presentationTimeOffset:t.presentationTimeOffset,contentType:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:e,encrypted:t.encrypted,keyId:t.keyId,segments:t.segments.map(Va),variantIds:t.variantIds}}function Va(t){var e=za(t.uri);return{startTime:t.startTime,endTime:t.endTime,dataKey:e}}function $a(t){return{data:t.data}}function za(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new J(2,9,9004,"Could not parse uri "+t)}function Wa(t,e,n,i){this.a=new Aa(t),this.c=e,this.b=n,this.f=i}function Ga(t,e,n){if(t.f)return Promise.reject(new J(1,9,9011,"Cannot add new value to "+e));var i=(t=Oa(t.a,e)).store(),r=[];return n.forEach(function(t){i.add(t).onsuccess=function(t){r.push(t.target.result)}}),t.promise().then(function(){return r})}function Ya(t,e,n,i){var r=(t=Oa(t.a,e)).store();return n.forEach(function(t){r.delete(t).onsuccess=function(){return i(t)}}),t.promise()}function Xa(t,e,n){var i=(t=Pa(t.a,e,"readonly")).store(),r={},a=[];return n.forEach(function(t){var e=i.get(t);e.onsuccess=function(){void 0==e.result&&a.push(t),r[t]=e.result}}),t.promise().then(function(){return a.length?Promise.reject(new J(1,9,9012,"Could not find values for "+a)):n.map(function(t){return r[t]})})}function Ka(){this.c=this.b=this.a=this.f=null}function Qa(t,e,n,i){this.a=t,this.g=e,this.f=n,this.c=i,this.b=["offline:",t,"/",e,"/",n,"/",i].join("")}function Ja(t){if(null==(t=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var i=t[3];return i&&null!=e?new Qa(e,n,i,Number(t[4])):null}function Za(t,e){this.b=t,this.a=e}function to(t,e){var n=new Fi(null,0);n.ja(e.duration);var i=e.periods.map(function(e){return eo(t,e,n)}),r=e.drmInfo?[e.drmInfo]:[];return e.drmInfo&&i.forEach(function(t){t.variants.forEach(function(t){t.drmInfos=r})}),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:e.sessionIds,periods:i}}function eo(t,e,n){var i=e.streams.filter(function(t){return"audio"==t.contentType}),r=e.streams.filter(function(t){return"video"==t.contentType});return i=function(t,e,n){var i={},r=[];return r.push.apply(r,e),r.push.apply(r,n),r.forEach(function(t){t.variantIds.forEach(function(t){i[t]=i[t]||{id:t,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0}})}),e.forEach(function(e){var n=no(t,e);e.variantIds.forEach(function(t){(t=i[t]).language=n.language,t.primary=t.primary||n.primary,t.audio=n})}),n.forEach(function(e){var n=no(t,e);e.variantIds.forEach(function(t){(t=i[t]).primary=t.primary||n.primary,t.video=n})}),Dt(i)}(t,i,r),r=e.streams.filter(function(t){return"text"==t.contentType}).map(function(e){return no(t,e)}),e.streams.forEach(function(e,i){var r=e.segments.map(function(e,n){return io(t,n,e)});n.Ma(r,0==i)}),{startTime:e.startTime,variants:i,textStreams:r}}function no(t,e){var n=e.segments.map(function(e,n){return io(t,n,e)}),i=new Ti(n);return n={id:e.id,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(t){return i.find(t)},getSegmentReference:function(t){return i.get(t)},initSegmentReference:null,presentationTimeOffset:e.presentationTimeOffset,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate||void 0,kind:e.kind,encrypted:e.encrypted,keyId:e.keyId,language:e.language,label:e.label||null,type:e.contentType,primary:e.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null},null!=e.initSegmentKey&&(n.initSegmentReference=function(t,e){var n=new Qa("segment",t.b,t.a,e);return new ci(function(){return[n.toString()]},0,null)}(t,e.initSegmentKey)),n}function io(t,e,n){var i=new Qa("segment",t.b,t.a,n.dataKey);return new li(e,n.startTime,n.endTime,function(){return[i.toString()]},0,null)}function ro(){this.a=null}function ao(t){var e=Ja(t);return e&&"manifest"==e.a?ao.a(t):e&&"segment"==e.a?ao.b(e.key(),e):tt(new J(2,1,9004,t))}function oo(t){this.a=null,this.b=t;for(var e=0;e<t.textTracks.length;++e){var n=t.textTracks[e];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function so(t,e){if(t.startTime>=t.endTime)return null;var n=new VTTCue(t.startTime,t.endTime,t.payload);n.lineAlign=t.lineAlign,n.positionAlign=t.positionAlign,n.size=t.size;try{n.align=t.textAlign}catch(t){}if("center"==t.textAlign&&"center"!=n.align&&(n.align="middle"),2==t.writingDirection?n.vertical="lr":3==t.writingDirection&&(n.vertical="rl"),1==t.lineInterpretation&&(n.snapToLines=!1),null!=t.line&&(n.line=t.line),null!=t.position&&(n.position=t.position),t.region.id.length){var i=e.filter(function(e){return e.id==t.region.id});i.length&&(n.region=i[0])}return n}function uo(t,e){var n=new VTTRegion,i=t.b.offsetWidth,r=t.b.offsetHeight;return n.id=e.id,n.regionAnchorX=e.regionAnchorX,n.regionAnchorY=e.regionAnchorY,n.scroll=e.scroll,2==e.heightUnits&&(n.lines=e.height),n.width=0==e.widthUnits?100*e.width/i:e.width,0==e.viewportAnchorUnits?(n.viewportAnchorX=100*e.viewportAnchorX/i,n.viewportAnchorY=100*e.viewportAnchorY/r):(n.viewportAnchorX=e.viewportAnchorX,n.viewportAnchorY=e.viewportAnchorY),n}function co(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var i=t.cues,r=i.length-1;0<=r;r--){var a=i[r];a&&e(a)&&t.removeCue(a)}t.mode=n}function lo(t,e){Dn.call(this),this.ua=!1,this.f=null,this.Ua=!1,this.u=null,this.o=new bt,this.h=this.Ab=this.b=this.m=this.a=this.A=this.g=this.i=this.l=this.s=null,this.Zc=1e9,this.kb=[],this.nb=!1,this.va=!0,this.R=this.ob=this.Fa=null,this.gc=!1,this.G=null,this.mb=[],this.J={},this.c=_o(this),this.lb={width:1/0,height:1/0},this.j=bo(),this.jb=0,this.L=this.c.preferredAudioLanguage,this.fa=this.c.preferredTextLanguage,this.Ea=this.c.preferredVariantRole,this.Ta=this.c.preferredTextRole,this.X=this.c.preferredAudioChannelCount,e&&e(this),this.s=new pt(this.He.bind(this)),t&&this.pb(t,!0)}(n=Na.prototype).destroy=function(){return this.a.destroy()},n.hasFixedKeySpace=function(){return!0},n.addSegments=function(){return Ua("segment")},n.removeSegments=function(t,e){return ja(this,"segment",t,e)},n.getSegments=function(t){return Ba(this,"segment",t).then(function(t){return t.map($a)})},n.addManifests=function(){return Ua("manifest")},n.updateManifestExpiration=function(t,e){var n=Oa(this.a,"manifest"),i=n.store(),r=new X;return i.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,i.put(n),r.resolve()):r.reject(new J(2,9,9012,"Could not find values for "+t))},n.promise().then(function(){return r})},n.removeManifests=function(t,e){return ja(this,"manifest",t,e)},n.getManifests=function(t){return Ba(this,"manifest",t).then(function(t){return t.map(Fa)})},n.getAllManifests=function(){var t=Pa(this.a,"manifest","readonly"),e={};return t.store().openCursor().onsuccess=function(t){(t=t.target.result)&&(e[t.key]=Fa(t.value),t.continue())},t.promise().then(function(){return e})},(n=Wa.prototype).destroy=function(){return this.a.destroy()},n.hasFixedKeySpace=function(){return this.f},n.addSegments=function(t){return Ga(this,this.c,t)},n.removeSegments=function(t,e){return Ya(this,this.c,t,e)},n.getSegments=function(t){return Xa(this,this.c,t)},n.addManifests=function(t){return Ga(this,this.b,t)},n.updateManifestExpiration=function(t,e){var n=Oa(this.a,this.b),i=n.store();return i.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,i.put(n,t))},n.promise()},n.removeManifests=function(t,e){return Ya(this,this.b,t,e)},n.getManifests=function(t){return Xa(this,this.b,t)},n.getAllManifests=function(){var t=Pa(this.a,this.b,"readonly"),e={};return t.store().openCursor().onsuccess=function(t){(t=t.target.result)&&(e[t.key]=t.value,t.continue())},t.promise().then(function(){return e})},Ka.prototype.init=function(){var e=this,n=new X,i=t.indexedDB.open("shaka_offline_db",3);return i.onsuccess=function(t){t=t.target.result,e.f=t;var i=t.objectStoreNames;i=i.contains("manifest")&&i.contains("segment")?new Na(t):null,e.a=i,i=(i=t.objectStoreNames).contains("manifest-v2")&&i.contains("segment-v2")?new Wa(t,"segment-v2","manifest-v2",!0):null,e.b=i,t=(i=t.objectStoreNames).contains("manifest-v3")&&i.contains("segment-v3")?new Wa(t,"segment-v3","manifest-v3",!1):null,e.c=t,n.resolve()},i.onupgradeneeded=function(t){var e={autoIncrement:!0};(t=t.target.result).createObjectStore("manifest-v3",e),t.createObjectStore("segment-v3",e)},i.onerror=function(t){n.reject(new J(2,9,9001,i.error)),t.preventDefault()},n},Ka.prototype.destroy=function(){var t=this;return d(function e(){return E(e,function(e){switch(e.w){case 1:if(!t.a){e.W(2);break}return v(e,t.a.destroy(),2);case 2:if(!t.b){e.W(4);break}return v(e,t.b.destroy(),4);case 4:if(!t.c){e.W(6);break}return v(e,t.c.destroy(),6);case 6:t.f&&t.f.close(),e.w=0}})})},Ka.prototype.getCells=function(){var t={};return this.a&&(t.v1=this.a),this.b&&(t.v2=this.b),this.c&&(t.v3=this.c),t},Ka.prototype.erase=function(){var e=this;return d(function n(){return E(n,function(n){switch(n.w){case 1:if(!e.a){n.W(2);break}return v(n,e.a.destroy(),2);case 2:if(!e.b){n.W(4);break}return v(n,e.b.destroy(),4);case 4:if(!e.c){n.W(6);break}return v(n,e.c.destroy(),6);case 6:return e.f&&e.f.close(),v(n,function(){var e=new X,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new J(2,9,9001,n.error)),t.preventDefault()},e}(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,v(n,e.init(),0)}})})},Ra.idb=function(){return t.indexedDB?new Ka:null},Qa.prototype.$=function(){return this.g},Qa.prototype.N=function(){return this.f},Qa.prototype.key=function(){return this.c},Qa.prototype.toString=function(){return this.b},(n=ro.prototype).configure=function(){},n.start=function(t){var e=Ja(t);if(this.a=e,null==e||"manifest"!=e.a)return Promise.reject(new J(2,1,9004,e));var n=new Ia;return ht([n],function(){return d(function t(){var i,r,a;return E(t,function(t){switch(t.w){case 1:return v(t,n.init(),2);case 2:return v(t,Ma(n,e.$(),e.N()),3);case 3:return v(t,t.I.getManifests([e.key()]),4);case 4:return i=t.I,r=i[0],a=new Za(e.$(),e.N()),t.return(to(a,r))}})})})},n.stop=function(){return Promise.resolve()},n.update=function(){},n.onExpirationUpdated=function(t,e){var n=this.a,i=new Ia;return ht([i],function(){return d(function r(){var a,o,s,u,c;return E(r,function(r){switch(r.w){case 1:return v(r,i.init(),2);case 2:return v(r,Ma(i,n.$(),n.N()),3);case 3:return v(r,(a=r.I).getManifests([n.key()]),4);case 4:if(o=r.I,s=o[0],u=0<=s.sessionIds.indexOf(t),c=void 0==s.expiration||s.expiration>e,u&&c)return v(r,a.updateManifestExpiration(n.key(),e),0);r.W(0)}})})}).catch(function(){})},Ui["application/x-offline-manifest"]=ro,x("shaka.offline.OfflineScheme",ao),ao.a=function(t){return nt(t={uri:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}})},ao.b=function(t,e){var n=new Ia;return it(ht([n],function(){return d(function t(){var i,r;return E(t,function(t){switch(t.w){case 1:return v(t,n.init(),2);case 2:return v(t,Ma(n,e.$(),e.N()),3);case 3:return v(t,t.I.getSegments([e.key()]),4);case 4:return i=t.I,r=i[0],t.return({uri:e,data:r.data,headers:{}})}})})}))},vt("offline",ao),x("shaka.text.SimpleTextDisplayer",oo),oo.prototype.remove=function(t,e){return!!this.a&&(co(this.a,function(n){return!(n.startTime>=e||n.endTime<=t)}),!0)},oo.prototype.remove=oo.prototype.remove,oo.prototype.append=function(e){var n=[];if(t.VTTRegion){var i=e.map(function(t){return t.region});i=i.filter(Ot);for(var r=0;r<i.length;r++){var a=uo(this,i[r]);n.push(a)}}var o=[];for(i=0;i<e.length;i++)(r=so(e[i],n))&&o.push(r);o.slice().sort(function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:o.indexOf(e)-o.indexOf(t)}).forEach(function(t){this.a.addCue(t)}.bind(this))},oo.prototype.append=oo.prototype.append,oo.prototype.destroy=function(){return this.a&&co(this.a,function(){return!0}),this.b=this.a=null,Promise.resolve()},oo.prototype.destroy=oo.prototype.destroy,oo.prototype.isTextVisible=function(){return"showing"==this.a.mode},oo.prototype.isTextVisible=oo.prototype.isTextVisible,oo.prototype.setTextVisibility=function(t){this.a.mode=t?"showing":"hidden"},oo.prototype.setTextVisibility=oo.prototype.setTextVisibility,C(lo,Dn),x("shaka.Player",lo),lo.prototype.destroy=function(){var t=this;return d(function e(){var n;return E(e,function(e){switch(e.w){case 1:return v(e,t.detach(),2);case 2:return t.ua=!0,n=Promise.all([t.o?t.o.destroy():null,t.s?t.s.destroy():null]),t.Ua=!1,t.o=null,t.h=null,t.s=null,t.c=null,v(e,n,0)}})})},lo.prototype.destroy=lo.prototype.destroy,lo.version="v2.4.4";var ho={};function fo(t){if(t.m&&t.m.configure(t.c.manifest),t.l&&t.l.configure(t.c.drm),t.a){t.a.configure(t.c.streaming);try{t.b.periods.forEach(t.rb.bind(t))}catch(e){t.Sa(e)}var e=Zr(t.a),n=ta(t.a),i=Qr(t.a);(e=ln(e,n,i.variants))&&e.allowedByApplication&&e.allowedByKeySystem||Eo(t,i)}t.h&&(t.h.configure(t.c.abr),t.c.abr.enabled&&!t.va?t.h.enable():t.h.disable())}function po(t){var e=[];return t.forEach(function(t){if(t){var n=t.language;t.roles.length?t.roles.forEach(function(t){e.push({language:n,role:t})}):e.push({language:n,role:""})}else e.push({language:"und",role:""})}),ot(e,function(t,e){return t.language==e.language&&t.role==e.role})}function mo(t,e,n){e.video&&go(t,e.video),e.audio&&go(t,e.audio);var i=Jr(t.a);e!=ln(Zr(t.a),ta(t.a),i?i.variants:[])&&t.j.switchHistory.push({timestamp:Date.now()/1e3,id:e.id,type:"variant",fromAdaptation:n,bandwidth:e.bandwidth})}function vo(t,e,n){go(t,e),t.j.switchHistory.push({timestamp:Date.now()/1e3,id:e.id,type:"text",fromAdaptation:n,bandwidth:null})}function go(t,e){var n=dn(t.b,e);t.J[n]||(t.J[n]={}),t.J[n][e.type]=e.id}function yo(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0)}}}function _o(t){var e=5e5,n=1/0;return navigator.connection&&navigator.connection.type&&(e=1e6*navigator.connection.downlink,navigator.connection.saveData&&(n=360)),{drm:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,dash:{customScheme:function(t){if(t)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10}},streaming:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:t.gd.bind(t),rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1},abrFactory:fn,textDisplayFactory:function(){return new oo(t.f)},abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:n,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0}}function bo(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function wo(t,e,n){t.va?(t.R=e,t.gc=n||!1):aa(t.a,e,n||!1)}function To(t){if(t.b){var e=Date.now()/1e3;t.nb?t.j.bufferingTime+=e-t.jb:t.j.playTime+=e-t.jb,t.jb=e}}function So(t,e){return e&&e.length?(t.h.setVariants(e),t.h.chooseVariant()):(t.Sa(new J(2,4,4012)),null)}function Eo(t,e){var n=an(e.variants,t.L,t.Ea,t.X),i=sn(e.textStreams,t.fa,t.Ta);(n=So(t,n))&&(mo(t,n,!0),wo(t,n,!0)),(i=i[0])&&(t.c.streaming.alwaysStreamText||t.Kb())&&(vo(t,i,!0),t.va?t.G=i:oa(t.a,i,!0)),ko(t)}function ko(t){Promise.resolve().then(function(){this.ua||this.dispatchEvent(new kt("adaptation"))}.bind(t))}function xo(t){Promise.resolve().then(function(){this.ua||this.dispatchEvent(new kt("trackschanged"))}.bind(t))}function Co(t){t.dispatchEvent(new kt("texttrackvisibility"))}function Ao(t,e){var n=eo(new Za(t.$(),t.N()),e.periods[0],new Fi(null,0)),i=e.appMetadata||{};return n=Je(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:i}}function Oo(t,e){var n=t.a[e];return null==n&&(n=0),n}function Po(t){if(!t||t.constructor!=lo)throw new J(2,9,9008);this.a=t,this.b=Lo(this),this.g=!1,this.c=null,this.f=[]}function Io(){return Da()}function Lo(t){return{trackSelectionCallback:function(e){return function(t,e){var n=[],i=$e(t),r=[0,qe,Ve],a=e.filter(function(t){return"variant"==t.type});r=r.map(function(t){return a.filter(function(e){return e=$e(e.language),He(t,i,e)})});for(var o,s=0;s<r.length;s++)if(r[s].length){o=r[s];break}o||(r=a.filter(function(t){return t.primary})).length&&(o=r),o||(o=a,a.map(function(t){return t.language}).filter(Ot));var u=o.filter(function(t){return t.height&&480>=t.height});return u.length&&(u.sort(function(t,e){return e.height-t.height}),o=u.filter(function(t){return t.height==u[0].height})),o.sort(function(t,e){return t.bandwidth-e.bandwidth}),o.length&&n.push(o[Math.floor(o.length/2)]),n.push.apply(n,e.filter(function(t){return"text"==t.type})),n}(t.a.getConfiguration().preferredAudioLanguage,e)},progressCallback:function(t,e){if(t||e)return null},usePersistentLicense:!0}}function Mo(t,e,n){n.forEach(function(n){return Do(t,e,n)})}function Do(t,e,n){var i=null;if(t.c){var r=t.c.filter(function(t){return"variant"==t.type})[0];r&&(i=en(n,r))}var a=r=null;i&&(i.audio&&(r=i.audio),i.video&&(a=i.video)),Ye(e,r,a,n),Ge(n,t.a.getConfiguration().restrictions,{width:1/0,height:1/0})}function Ro(t){if(!t.a)throw new J(2,9,7001)}function No(){if(!Da())throw new J(2,9,9e3)}function Uo(t,e){var n=t.a.getConfiguration().streaming.retryParameters;return n=gt(e.c(),n),0==e.b&&null==e.a||(n.headers.Range="bytes="+e.b+"-"+(null==e.a?"":e.a)),n}lo.registerSupportPlugin=function(t,e){ho[t]=e},lo.isBrowserSupported=function(){return!!(t.Promise&&t.Uint8Array&&Array.prototype.forEach&&t.MediaSource&&MediaSource.isTypeSupported&&t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration)},lo.probeSupport=function(){return(t=[],e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n=[{videoCapabilities:e,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:e}],i={},"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(e){var r=navigator.requestMediaKeySystemAccess(e,n).then(function(t){var n=t.getConfiguration().sessionTypes;return n=!!n&&0<=n.indexOf("persistent-license"),0<=navigator.userAgent.indexOf("Tizen 3")&&(n=!1),i[e]={persistentState:n},t.createMediaKeys()}).catch(function(){i[e]=null});t.push(r)}),Promise.all(t).then(function(){return i})).then(function(t){var e=function(){var t,e={};for(t in Ui)e[t]=!0;for(var n in ji)e[n]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(t){e[t]=!!Ui[t]}),["mpd","m3u8","ism"].forEach(function(t){e[t]=!!ji[t]}),e}(),n=function(){var t={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(e){t[e]=!!Ie[e]||MediaSource.isTypeSupported(e)||Ae(e);var n=e.split(";")[0];t[n]=t[n]||t[e]}),t}();for(var i in t={manifest:e,media:n,drm:t},ho)t[i]=ho[i]();return t});var t,e,n,i},lo.prototype.pb=function(t,e){var n=this;return d(function i(){return E(i,function(i){switch(i.w){case 1:if(void 0===e&&(e=!0),!n.f){i.W(2);break}return v(i,n.detach(),2);case 2:if(n.f=t,wt(n.o,n.f,"error",n.$d.bind(n)),e)return n.i=new Le(n.f),v(i,n.i.j,0);i.W(0)}})})},lo.prototype.attach=lo.prototype.pb,lo.prototype.detach=function(){var t=this;return d(function e(){return E(e,function(e){switch(e.w){case 1:return t.f?v(e,t.gb(!1),2):e.return();case 2:t.o.na(t.f,"error"),t.f=null,e.w=0}})})},lo.prototype.detach=lo.prototype.detach,lo.prototype.load=function(t,e,n){var i=this;return d(function r(){var a,o,s,u,c,l,h,f,p,m,_;return E(r,function(r){switch(r.w){case 1:if(!i.f)throw new J(2,7,7002);return o=new X,s=function(){return a=new J(2,7,7e3),o},i.dispatchEvent(new kt("loading")),u=Date.now(),g(r,2),c=i.gb(),i.Fa=s,v(r,c,4);case 4:if(i.j=bo(),wt(i.o,i.f,"playing",i.hb.bind(i)),wt(i.o,i.f,"pause",i.hb.bind(i)),wt(i.o,i.f,"ended",i.hb.bind(i)),l=i.c.abrFactory,i.h=new l,i.h.configure(i.c.abr),i.u=new i.c.textDisplayFactory,i.u.setTextVisibility(i.Ua),a)throw a;return h=i,v(r,function(t,e,n){return d(function i(){var r,a;return E(i,function(i){switch(i.w){case 1:return v(i,Bi(e,t.s,t.c.manifest.retryParameters,n),2);case 2:return r=i.I,t.m=new r,t.m.configure(t.c.manifest),a={networkingEngine:t.s,filterNewPeriod:t.rb.bind(t),filterAllPeriods:t.ac.bind(t),onTimelineRegionAdded:t.Zd.bind(t),onEvent:t.fb.bind(t),onError:t.Sa.bind(t)},i.return(t.m.start(e,a))}})})}(i,t,n),5);case 5:if(h.b=r.I,i.Ab=t,a)throw a;return function(t){if(t.b.periods.some(function(t){return t.variants.some(function(t){return t.video&&t.audio})})&&t.b.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return t.video&&t.audio})}),0==t.b.periods.length)throw new J(2,4,4014)}(i),i.l=new Qt({La:i.s,onError:i.Sa.bind(i),vb:i.Kd.bind(i),onExpirationUpdated:i.Hd.bind(i),onEvent:i.fb.bind(i)}),i.l.configure(i.c.drm),v(r,i.l.init(i.b,!1),6);case 6:if(a)throw a;return i.ac(i.b.periods),i.jb=Date.now()/1e3,i.L=i.c.preferredAudioLanguage,i.fa=i.c.preferredTextLanguage,i.X=i.c.preferredAudioChannelCount,function(t){var e=t.b.presentationTimeline.S(),n=t.c.playRangeEnd,i=t.c.playRangeStart;0<i&&(t.O()||t.b.presentationTimeline.Qc(i)),n<e&&(t.O()||t.b.presentationTimeline.ja(n))}(i),v(r,i.l.pb(i.f),7);case 7:if(a)throw a;return i.h.init(i.Ie.bind(i)),i.i||(i.i=new Le(i.f)),i.i.o=i.u,i.g=new Hr(i.f,i.b,i.c.streaming,void 0==e?null:e,i.Ge.bind(i),i.fb.bind(i)),i.A=new Wr(i.f,i.i,i.b,i.c.streaming,i.Rc.bind(i),i.fb.bind(i),i.Fe.bind(i)),i.a=new Kr(i.b,{Oa:i.g,K:i.i,La:i.s,wc:i.Ed.bind(i),vc:i.cd.bind(i),onError:i.Sa.bind(i),onEvent:i.fb.bind(i),Ld:i.Md.bind(i),$a:i.Wd.bind(i),filterNewPeriod:i.rb.bind(i),filterAllPeriods:i.ac.bind(i)}),i.a.configure(i.c.streaming),function(t){function e(t){return(t.video?t.video.codecs.split(".")[0]:"")+"-"+(t.audio?t.audio.codecs.split(".")[0]:"")}var n=t.b.periods.reduce(function(t,e){return t.concat(e.variants)},[]),i={};(n=on(n,t.c.preferredAudioChannelCount)).forEach(function(t){var n=e(t);n in i||(i[n]=[]),i[n].push(t)});var r=null,a=1/0;Rt(i,function(t,e){var n=0,i=0;e.forEach(function(t){n+=t.bandwidth||0,++i});var o=n/i;o<a&&(r=t,a=o)}),t.b.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return e(t)==r})})}(i),i.dispatchEvent(new kt("streaming")),v(r,i.a.init(),8);case 8:if(a)throw a;if(i.c.streaming.startAtSegmentBoundary&&(f=function(t,e){function n(t,e){if(!t)return null;var n=t.findSegmentPosition(e-a.startTime);return null==n?null:(n=t.getSegmentReference(n))?n.startTime+a.startTime:null}var i=Zr(t.a),r=ta(t.a),a=Qr(t.a);return i=n(i,e),null!=(r=n(r,e))&&null!=i?Math.max(r,i):null!=r?r:null!=i?i:e}(i,qr(i.g)),Br(i.g.a,f)),i.b.periods.forEach(i.rb.bind(i)),xo(i),ko(i),p=Qr(i.a),m=an(p.variants,i.L,i.Ea,i.X),i.h.setVariants(m),p.variants.some(function(t){return t.primary}),i.mb.forEach(i.A.o.bind(i.A)),i.mb=[],Tt(i.o,i.f,"loadeddata",function(){this.j.loadLatency=(Date.now()-u)/1e3}.bind(i)),a)throw a;i.Fa=null,function(t){t.w=0,t.f=0}(r);break;case 2:return _=y(r),o.resolve(),i.Fa==s&&(i.Fa=null,i.dispatchEvent(new kt("unloading"))),a?r.return(Promise.reject(a)):r.return(Promise.reject(_))}})})},lo.prototype.load=lo.prototype.load,lo.prototype.configure=function(t,e){if(2==arguments.length&&"string"==typeof t){for(var n=t,i={},r=i,a=0,o=0;!(0>(a=n.indexOf(".",a)));)0!=a&&"\\"==n[a-1]||(r[o=n.substring(o,a).replace(/\\\./g,".")]={},r=r[o],o=a+1),a+=1;r[n.substring(o).replace(/\\\./g,".")]=e,t=i}return n=ct(this.c,t,_o(this),yo(),""),fo(this),n},lo.prototype.configure=lo.prototype.configure,lo.prototype.getConfiguration=function(){var t=_o(this);return ct(t,this.c,_o(this),yo(),""),t},lo.prototype.getConfiguration=lo.prototype.getConfiguration,lo.prototype.te=function(){this.c=_o(this),fo(this)},lo.prototype.resetConfiguration=lo.prototype.te,lo.prototype.pd=function(){return this.f},lo.prototype.getMediaElement=lo.prototype.pd,lo.prototype.qc=function(){return this.s},lo.prototype.getNetworkingEngine=lo.prototype.qc,lo.prototype.Gb=function(){return this.Ab},lo.prototype.getManifestUri=lo.prototype.Gb,lo.prototype.O=function(){return!!this.b&&this.b.presentationTimeline.O()},lo.prototype.isLive=lo.prototype.O,lo.prototype.ya=function(){return!!this.b&&this.b.presentationTimeline.ya()},lo.prototype.isInProgress=lo.prototype.ya,lo.prototype.Ad=function(){if(!this.b||!this.b.periods.length)return!1;var t=this.b.periods[0].variants;return!!t.length&&!t[0].video},lo.prototype.isAudioOnly=lo.prototype.Ad,lo.prototype.ve=function(){var t=0,e=0;return this.b&&(t=(e=this.b.presentationTimeline).Ha(),e=e.la()),{start:t,end:e}},lo.prototype.seekRange=lo.prototype.ve,lo.prototype.keySystem=function(){return this.l?this.l.keySystem():""},lo.prototype.keySystem=lo.prototype.keySystem,lo.prototype.drmInfo=function(){return this.l?this.l.b:null},lo.prototype.drmInfo=lo.prototype.drmInfo,lo.prototype.tb=function(){return this.l?this.l.tb():1/0},lo.prototype.getExpiration=lo.prototype.tb,lo.prototype.tc=function(){return this.nb},lo.prototype.isBuffering=lo.prototype.tc,lo.prototype.gb=function(t){var e=this;return d(function n(){return E(n,function(n){switch(n.w){case 1:return e.ua?n.return():(void 0===t&&(t=!0),e.dispatchEvent(new kt("unloading")),v(n,function(t){if(!t.Fa)return Promise.resolve();var e=Promise.resolve();return t.m&&(e=t.m.stop(),t.m=null),Promise.all([e,t.Fa()])}(e),2));case 2:return e.ob||(e.ob=function(t){t.o&&(t.o.na(t.f,"loadeddata"),t.o.na(t.f,"playing"),t.o.na(t.f,"pause"),t.o.na(t.f,"ended"));var e=Promise.all([t.h?t.h.stop():null,t.i?t.i.destroy():null,t.l?t.l.destroy():null,t.g?t.g.destroy():null,t.A?t.A.destroy():null,t.a?t.a.destroy():null,t.m?t.m.stop():null,t.u?t.u.destroy():null]);return t.va=!0,t.l=null,t.i=null,t.g=null,t.A=null,t.a=null,t.m=null,t.u=null,t.b=null,t.Ab=null,t.mb=[],t.J={},t.j=bo(),e}(e).then(function(){e.Rc(!1),e.ob=null})),v(n,e.ob,3);case 3:if(t)return e.i=new Le(e.f),v(n,e.i.j,0);n.W(0)}})})},lo.prototype.unload=lo.prototype.gb,lo.prototype.Va=function(){return this.g?this.g.Va():0},lo.prototype.getPlaybackRate=lo.prototype.Va,lo.prototype.Re=function(t){this.g&&Fr(this.g.a,t),this.a&&ra(this.a,1!=t)},lo.prototype.trickPlay=lo.prototype.Re,lo.prototype.dd=function(){this.g&&Fr(this.g.a,1),this.a&&ra(this.a,!1)},lo.prototype.cancelTrickPlay=lo.prototype.dd,lo.prototype.xd=function(){if(!this.b||!this.g)return[];var t=hn(this.b,qr(this.g)),e=this.J[t]||{};return Ze(this.b.periods[t],e.audio,e.video)},lo.prototype.getVariantTracks=lo.prototype.xd,lo.prototype.wd=function(){if(!this.b||!this.g)return[];var t=hn(this.b,qr(this.g)),e=this.J[t]||{};if(!e.text){var n=sn(this.b.periods[t].textStreams,this.fa,this.Ta);n.length&&(e.text=n[0].id)}return tn(this.b.periods[t],e.text).filter(function(t){return 0>this.kb.indexOf(t.id)}.bind(this))},lo.prototype.getTextTracks=lo.prototype.wd,lo.prototype.ze=function(t){if(this.a){var e=Qr(this.a);t:{for(var n=0;n<e.textStreams.length;n++)if(e.textStreams[n].id==t.id){t=e.textStreams[n];break t}t=null}t&&(this.i.l=!1,vo(this,t,!1),e=t,this.va?this.G=e:oa(this.a,e,!0),this.fa=t.language)}},lo.prototype.selectTextTrack=lo.prototype.ze,lo.prototype.xe=function(){this.i.l=!0,ia(this.a)},lo.prototype.selectEmbeddedTextTrack=lo.prototype.xe,lo.prototype.We=function(){return!!this.i&&this.i.l},lo.prototype.usingEmbeddedTextTrack=lo.prototype.We,lo.prototype.Ae=function(t,e){if(this.a){this.c.abr.enabled&&L("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var n=Qr(this.a),i=en(n,t);i&&nn(i)&&(mo(this,i,!1),wo(this,i,e),this.L=i.language,i.audio&&i.audio.channelsCount&&(this.X=i.audio.channelsCount),n=an(n.variants,this.L,this.Ea,this.X),this.h.setVariants(n))}},lo.prototype.selectVariantTrack=lo.prototype.Ae,lo.prototype.ld=function(){if(!this.a)return[];var t=Qr(this.a);return po(t=rn(t.variants).map(function(t){return t.audio}).filter(Ot))},lo.prototype.getAudioLanguagesAndRoles=lo.prototype.ld,lo.prototype.vd=function(){return this.a?po(Qr(this.a).textStreams):[]},lo.prototype.getTextLanguagesAndRoles=lo.prototype.vd,lo.prototype.kd=function(){return this.a?rn(Qr(this.a).variants).map(function(t){return t.language}).filter(Ot):[]},lo.prototype.getAudioLanguages=lo.prototype.kd,lo.prototype.ud=function(){return this.a?Qr(this.a).textStreams.map(function(t){return t.language}).filter(Ot):[]},lo.prototype.getTextLanguages=lo.prototype.ud,lo.prototype.we=function(t,e){if(this.a){var n=Qr(this.a);this.L=t,this.Ea=e||"",Eo(this,n)}},lo.prototype.selectAudioLanguage=lo.prototype.we,lo.prototype.ye=function(t,e){if(this.a){var n=Qr(this.a);this.fa=t,this.Ta=e||"",Eo(this,n)}},lo.prototype.selectTextLanguage=lo.prototype.ye,lo.prototype.Kb=function(){return this.u?this.u.isTextVisible():this.Ua},lo.prototype.isTextTrackVisible=lo.prototype.Kb,lo.prototype.De=function(t){this.u&&this.u.setTextVisibility(t),this.Ua=t,Co(this),!this.c.streaming.alwaysStreamText&&this.a&&(t?(t=sn((t=Qr(this.a)).textStreams,this.fa,this.Ta)[0])&&na(this.a,t,!0):ia(this.a))},lo.prototype.setTextTrackVisibility=lo.prototype.De,lo.prototype.rd=function(){return this.b?new Date(1e3*this.b.presentationTimeline.f+1e3*this.f.currentTime):null},lo.prototype.getPlayheadTimeAsDate=lo.prototype.rd,lo.prototype.td=function(){return this.b?new Date(1e3*this.b.presentationTimeline.f):null},lo.prototype.getPresentationStartTimeAsDate=lo.prototype.td,lo.prototype.Eb=function(){return this.i?this.i.Eb():{total:[],audio:[],video:[],text:[]}},lo.prototype.getBufferedInfo=lo.prototype.Eb,lo.prototype.getStats=function(){To(this),this.hb();var t=null,e=null,n=this.f;if(n=n&&n.getVideoPlaybackQuality?n.getVideoPlaybackQuality():{},this.g&&this.b){var i=hn(this.b,qr(this.g)),r=this.b.periods[i];(i=this.J[i])&&(t=(e=function(t,e,n){function i(t,e){return null==t?null==e:e.id==t}for(var r=0;r<n.length;r++)if(i(t,n[r].audio)&&i(e,n[r].video))return n[r];return null}(i.audio,i.video,r.variants)).video||{})}return t||(t={}),e||(e={}),{width:t.width||0,height:t.height||0,streamBandwidth:e.bandwidth||0,decodedFrames:Number(n.totalVideoFrames),droppedFrames:Number(n.droppedVideoFrames),estimatedBandwidth:this.h?this.h.getBandwidthEstimate():NaN,loadLatency:this.j.loadLatency,playTime:this.j.playTime,bufferingTime:this.j.bufferingTime,switchHistory:lt(this.j.switchHistory),stateHistory:lt(this.j.stateHistory)}},lo.prototype.getStats=lo.prototype.getStats,lo.prototype.addTextTrack=function(t,e,n,i,r,a){if(!this.a)return Promise.reject();var o=Qr(this.a),s=this.b.periods.indexOf(o)+1,u=(s>=this.b.periods.length?this.b.presentationTimeline.S():this.b.periods[s].startTime)-o.startTime;if(1/0==u)return Promise.reject(new J(1,4,4033));var c={id:this.Zc++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1!=e?null:new li(1,0,u,function(){return[t]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:i,codecs:r||"",kind:n,encrypted:!1,keyId:null,language:e,label:a||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null};return this.kb.push(c.id),o.textStreams.push(c),na(this.a,c,this.Ua).then(function(){if(!this.ua){var t=this.b.periods.indexOf(o),i=ea(this.a,"text");return i&&(this.J[t].text=i.id),this.kb.splice(this.kb.indexOf(c.id),1),Eo(this,o),xo(this),{id:c.id,active:!1,type:"text",bandwidth:0,language:e,label:a||null,kind:n,width:null,height:null}}}.bind(this))},lo.prototype.addTextTrack=lo.prototype.addTextTrack,lo.prototype.Zb=function(t,e){this.lb.width=t,this.lb.height=e},lo.prototype.setMaxHardwareResolution=lo.prototype.Zb,lo.prototype.Kc=function(){if(this.a){var t=this.a;if(t.f)t=!1;else if(t.l)t=!1;else{for(var e in t.c){var n=t.c[e];n.Ya&&(n.Ya=!1,ga(t,n,.1))}t=!0}}else t=!1;return t},lo.prototype.retryStreaming=lo.prototype.Kc,lo.prototype.od=function(){return this.b},lo.prototype.getManifest=lo.prototype.od,(n=lo.prototype).gd=function(t){this.O()&&0<=[1001,1002,1003].indexOf(t.code)&&(t.severity=1,this.Kc())},n.ac=function(t){t.forEach(Ye.bind(null,this.l,this.a?Zr(this.a):null,this.a?ta(this.a):null));var e=function(t,e){var n=0;return t.forEach(function(t){n+=e(t)?1:0}),n}(t,function(t){return t.variants.some(nn)});if(0==e)throw new J(2,4,4032);if(e<t.length)throw new J(2,4,4011);t.forEach(function(t){if(Ge(t,this.c.restrictions,this.lb)&&this.a&&Qr(this.a)==t&&xo(this),!t.variants.some(nn))throw new J(2,4,4012)}.bind(this))},n.rb=function(t){Ye(this.l,this.a?Zr(this.a):null,this.a?ta(this.a):null,t);var e=t.variants,n=e.some(nn);if(Ge(t,this.c.restrictions,this.lb)&&this.a&&Qr(this.a)==t&&xo(this),t=e.some(nn),!n)throw new J(2,4,4011);if(!t)throw new J(2,4,4012)},n.He=function(t,e){this.h&&this.h.segmentDownloaded(t,e)},n.Rc=function(t){if(To(this),this.nb=t,this.hb(),this.g){var e=this.g.a;t!=e.g&&(e.g=t,Fr(e,e.f))}this.dispatchEvent(new kt("buffering",{buffering:t}))},n.Fe=function(){xo(this)},n.hb=function(){if(!this.ua){var t=this.nb?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",e=Date.now()/1e3;if(this.j.stateHistory.length){var n=this.j.stateHistory[this.j.stateHistory.length-1];if(n.duration=e-n.timestamp,t==n.state)return}this.j.stateHistory.push({timestamp:e,state:t,duration:0})}},n.Ge=function(){if(this.A){var t=this.A;t.c.forEach(t.m.bind(t,!0))}this.a&&function(t){var e=qr(t.a.Oa),n=t.g.smallGapLimit;Object.keys(t.c).every(function(t){var i=this.a.K;return"text"==t?(t=i.a,t=e>=t.a&&e<t.b):t=ue(t=Re(i,t),e,n),t}.bind(t))||sa(t)}(this.a)},n.Ed=function(t){this.va=!0,this.h.disable();var e={audio:!1,text:!1},n=an(t.variants,this.L,this.Ea,this.X,e),i=sn(t.textStreams,this.fa,this.Ta,e);if(n=So(this,n),i=i[0]||null,this.R){t:{for(var r=this.b,a=0;a<r.periods.length;++a)for(var o=r.periods[a],s=0;s<o.variants.length;++s)if(o.variants[s]==this.R){r=a;break t}r=-1}this.b.periods[r]==t&&(n=this.R),this.R=null}return this.G&&(this.b.periods[dn(this.b,this.G)]==t&&(i=this.G),this.G=null),n&&mo(this,n,!0),i&&(vo(this,i,!0),!Jr(this.a)&&n&&n.audio&&e.text&&i.language!=n.audio.language&&(this.u.setTextVisibility(!0),Co(this))),this.c.streaming.alwaysStreamText||this.Kb()?{variant:n,text:i}:{variant:n,text:null}},n.cd=function(){this.va=!1,this.c.abr.enabled&&this.h.enable(),this.R&&(aa(this.a,this.R,this.gc),this.R=null),this.G&&(oa(this.a,this.G,!0),this.G=null)},n.Md=function(){this.m&&this.m.update&&this.m.update()},n.Wd=function(){this.g&&this.g.$a()},n.Ie=function(t,e){mo(this,t,!0),this.a&&(aa(this.a,t,e||!1),ko(this))},n.Sa=function(t){if(!this.ua){var e=new kt("error",{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}},n.Zd=function(t){this.A?this.A.o(t):this.mb.push(t)},n.fb=function(t){this.dispatchEvent(t)},n.$d=function(){if(this.f.error){var t=this.f.error.code;if(1!=t){var e=this.f.error.msExtendedCode;e&&(0>e&&(e+=Math.pow(2,32)),e=e.toString(16)),this.Sa(new J(2,3,3016,t,e,this.f.error.message))}}},n.Kd=function(t){var e=["output-restricted","internal-error"],n=Qr(this.a),i=!1,r=Object.keys(t),a=1==r.length&&"00"==r[0];r.length&&n.variants.forEach(function(n){var r=[];n.audio&&r.push(n.audio),n.video&&r.push(n.video),r.forEach(function(r){var o=n.allowedByKeySystem;r.keyId&&(r=t[a?"00":r.keyId],n.allowedByKeySystem=!!r&&0>e.indexOf(r)),o!=n.allowedByKeySystem&&(i=!0)})}),(r=ln(Zr(this.a),ta(this.a),n.variants))&&!r.allowedByKeySystem&&Eo(this,n),i&&(xo(this),n=an(n.variants,this.L,this.Ea,this.X),this.h.setVariants(n))},n.Hd=function(t,e){this.m&&this.m.onExpirationUpdated&&this.m.onExpirationUpdated(t,e),this.dispatchEvent(new kt("expirationupdated"))},x("shaka.offline.Storage",Po),Po.support=Io,Po.prototype.destroy=function(){return this.a=this.b=null,Promise.resolve()},Po.prototype.destroy=Po.prototype.destroy,Po.prototype.configure=function(t){ct(this.b,t,Lo(this),{},"")},Po.prototype.configure=Po.prototype.configure,Po.prototype.store=function(t,e,n){var i=this;return d(function r(){var a,o,s,u;return E(r,function(r){switch(r.w){case 1:return No(),i.g?r.return(Promise.reject(new J(2,9,9006))):(i.g=!0,a=e||{},o=null,v(r,function(t,e,n,i){function r(){}var a,o,s,u=t.a.s,c=t.a.getConfiguration();return Bi(e,u,c.manifest.retryParameters,i).then(function(t){var i=this;Ro(this),(o=new Qt({La:u,onError:n,vb:r,onExpirationUpdated:function(){},onEvent:function(){}})).configure(c.drm);var a={networkingEngine:u,filterAllPeriods:function(t){Mo(i,o,t)},filterNewPeriod:function(t){Do(i,o,t)},onTimelineRegionAdded:function(){},onEvent:function(){},onError:n};return(s=new t).configure(c.manifest),s.start(e,a)}.bind(t)).then(function(t){return Ro(this),a=t,o.init(a,this.b.usePersistentLicense)}.bind(t)).then(function(){return Ro(this),e=(t=a).periods.map(function(t){return t.variants}).reduce(xt,[]).map(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e}).reduce(xt,[]).filter(Ot),t=t.periods.map(function(t){return t.textStreams}).reduce(xt,[]),e.push.apply(e,t),Promise.all(e.map(function(t){return t.createSegmentIndex()}));var t,e}.bind(t)).then(function(){return Ro(this),Zt(o)}.bind(t)).then(function(){return Ro(this),s.stop()}.bind(t)).then(function(){return Ro(this),{manifest:a,Cb:o}}.bind(t)).catch(function(t){if(s)return s.stop().then(function(){throw t});throw t})}(i,t,function(t){o=o||t},n),2));case 2:if(s=r.I,!(!s.manifest.presentationTimeline.O()&&!s.manifest.presentationTimeline.ya()))throw new J(2,9,9005,t);if(Ro(i),o)throw o;return u=new Ia,r.return(ht([u,s.Cb],function(){return d(function e(){var n,r,c,l,h,d,f;return E(e,function(e){switch(e.w){case 1:return function(t){t.f=0,t.b=2}(e),v(e,u.init(),4);case 4:return Ro(i),Mo(i,s.Cb,s.manifest.periods),v(e,function(t){var e=null;if(Rt(t.a,function(t,n){Rt(n.getCells(),function(n,i){i.hasFixedKeySpace()||e||(e={path:{$:t,N:n},N:i})})}),e)return e;throw new J(2,9,9013,"Could not find a cell that supports add-operations")}(u),5);case 5:return n=e.I,Ro(i),g(e,6),v(e,function(t,e,n,i,r,a){var o,s=function(t,e,n){var i=void 0==e.expiration?1/0:e.expiration;return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.S(),size:0,expiration:i,tracks:e=Je(e.periods[0]),appMetadata:n}}(r,i,a),u=new Sa(function(e,n){s.size=n,t.b.progressCallback(s,e)});return ht([u],function(){return o=function(t,e,n,i,r,a,o){var s=new function(){this.a={}},u=r.periods.map(function(a){return function(t,e,n,i,r,a,o){var s=Ze(o,null,null),u=tn(o,null);s=t.b.trackSelectionCallback(s.concat(u)),null==t.c&&(t.c=s,Mo(t,r,a.periods)),function(t){t.some(function(e){return t.some(function(t){return e!=t&&e.type==t.type&&e.kind==t.kind&&e.language==t.language})})}(s),a.periods.forEach(function(t){t.variants.forEach(function(t){var e=t.audio,n=t.video;if(e&&!n&&(i.a[e.id]=e.bandwidth||t.bandwidth),!e&&n&&(i.a[n.id]=n.bandwidth||t.bandwidth),e&&n){var r=e.bandwidth||393216,a=n.bandwidth||t.bandwidth-r;0>=a&&(a=t.bandwidth),i.a[e.id]=r,i.a[n.id]=a}}),t.textStreams.forEach(function(t){i.a[t.id]=52})});var c={};s.forEach(function(t){"variant"==t.type&&null!=t.audioId&&(c[t.audioId]=!0),"variant"==t.type&&null!=t.videoId&&(c[t.videoId]=!0),"text"==t.type&&(c[t.id]=!0)});var l={};return function(t){var e={};return t.periods.forEach(function(t){t.textStreams.forEach(function(t){e[t.id]=t}),t.variants.forEach(function(t){t.audio&&(e[t.audio.id]=t.audio),t.video&&(e[t.video.id]=t.video)})}),Dt(e)}(a).filter(function(t){return!!c[t.id]}).forEach(function(r){l[r.id]=function(t,e,n,i,r,a){var o={id:a.id,primary:a.primary,presentationTimeOffset:a.presentationTimeOffset||0,contentType:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,initSegmentKey:null,encrypted:a.encrypted,keyId:a.keyId,segments:[],variantIds:[]};r=r.presentationTimeline.Xa();var s=a.id;return function(t,e,n){for(var i=null==(e=t.findSegmentPosition(e))?null:t.getSegmentReference(e);i;)n(i),i=t.getSegmentReference(++e)}(a,r,function(r){Ea(e,s,Uo(t,r),function(t,e,n){return n=n.endTime-n.startTime,Oo(t,e)*n}(i,a.id,r),function(e){return n.addSegments([{data:e}]).then(function(e){t.f.push(e[0]),o.segments.push({startTime:r.startTime,endTime:r.endTime,dataKey:e[0]})})})}),(r=a.initSegmentReference)&&Ea(e,s,Uo(t,r),.5*Oo(i,a.id),function(e){return n.addSegments([{data:e}]).then(function(e){t.f.push(e[0]),o.initSegmentKey=e[0]})}),o}(t,e,n,i,a,r)}),s.forEach(function(t){"variant"==t.type&&null!=t.audioId&&l[t.audioId].variantIds.push(t.id),"variant"==t.type&&null!=t.videoId&&l[t.videoId].variantIds.push(t.id)}),{startTime:o.startTime,streams:Dt(l)}}(t,e,n,s,i,r,a)}),c=i.b,l=function(t){return t.a.map(function(t){return t.ia.sessionId})}(i);if(c&&t.b.usePersistentLicense){if(!l.length)throw new J(2,9,9007,a);c.initData=[]}return{originalManifestUri:a,duration:r.presentationTimeline.S(),size:0,expiration:i.tb(),periods:u,sessionIds:t.b.usePersistentLicense?l:[],drmInfo:c,appMetadata:o}}(t,u,e,n,i,r,a),ka(u,t.a.s)}).then(function(){return o.size=s.size,o})}(i,n.N,s.Cb,s.manifest,t,a||{}),8);case 8:return r=e.I,Ro(i),v(e,n.N.addManifests([r]),9);case 9:return c=e.I,Ro(i),l=new Qa("manifest",n.path.$,n.path.N,c[0]),e.return(Ao(l,r));case 6:return h=y(e),d=i.f,f=function(){},v(e,n.N.removeSegments(d,f),10);case 10:throw o||h;case 2:_(e),i.g=!1,i.c=null,i.f=[],b(e,0)}})})}))}})})},Po.prototype.store=Po.prototype.store,Po.prototype.remove=function(t){var e=this;No();var n=Ja(t);if(null==n||"manifest"!=n.a)return Promise.reject(new J(2,9,9004,t));var i=new Ia;return ht([i],function(){return d(function t(){var r,a,o;return E(t,function(t){switch(t.w){case 1:return v(t,i.init(),2);case 2:return v(t,Ma(i,n.$(),n.N()),3);case 3:return v(t,(r=t.I).getManifests([n.key()]),4);case 4:return a=t.I,o=a[0],v(t,Promise.all([function(t,e,n){var i,r=new Qt({La:t.a.s,onError:function(t){6013!=t.code&&(i=t)},vb:function(){},onExpirationUpdated:function(){},onEvent:function(){}});r.configure(t.a.getConfiguration().drm);var a=to(new Za(e.$(),e.N()),n);return ht([r],function(){return d(function e(){return E(e,function(e){switch(e.w){case 1:return v(e,r.init(a,t.b.usePersistentLicense),2);case 2:return v(e,Jt(r,n.sessionIds),0)}})})}).then(function(){if(i)throw i})}(e,n,o),function(t,e,n,i){function r(){s+=1,t.b.progressCallback(u,s/o)}var a=function(t){var e=[];return t.periods.forEach(function(t){t.streams.forEach(function(t){null!=t.initSegmentKey&&e.push(t.initSegmentKey),t.segments.forEach(function(t){e.push(t.dataKey)})})}),e}(i),o=a.length+1,s=0,u=Ao(n,i);return Promise.all([e.removeSegments(a,r),e.removeManifests([n.key()],r)])}(e,r,n,o)]),0)}})})})},Po.prototype.remove=Po.prototype.remove,Po.prototype.list=function(){function t(t,n){return d(function i(){return E(i,function(i){switch(i.w){case 1:return v(i,n.getAllManifests(),2);case 2:Rt(i.I,function(n,i){var r=Ao(new Qa("manifest",t.$,t.N,n),i);e.push(r)}),i.w=0}})})}No();var e=[],n=new Ia;return ht([n],function(){return d(function e(){var i;return E(e,function(e){switch(e.w){case 1:return v(e,n.init(),2);case 2:return i=Promise.resolve(),La(n,function(e,n){i=i.then(function(){return t(e,n)})}),v(e,i,0)}})})}).then(function(){return e})},Po.prototype.list=Po.prototype.list,Po.deleteAll=function(t){var e=t.s,n=t.getConfiguration().drm,i=new Ia;return ht([i],function(){return d(function t(){var r,a;return E(t,function(t){switch(t.w){case 1:return v(t,i.init(),2);case 2:return v(t,function(t){var e=[],n=[];return La(t,function(t,i){var r=new Za(t.$,t.N);n.push(i.getAllManifests().then(function(t){Dt(t).forEach(function(t){e.push(to(r,t))})}))}),Promise.all(n).then(function(){return e})}(i),3);case 3:return r=t.I,a=Promise.resolve(),r.forEach(function(t){a=a.then(function(){return function(t,e,n){var i=new Qt({La:t,onError:function(){},vb:function(){},onExpirationUpdated:function(){},onEvent:function(){}});return i.configure(e),ht([i],function(){return d(function t(){return E(t,function(t){switch(t.w){case 1:return v(t,i.init(n,!0),2);case 2:return v(t,Jt(i,n.offlineSessionIds),0)}})})})}(e,n,t)})}),v(t,a,4);case 4:return v(t,function(t){return t=Dt(t.a).map(function(t){return t.erase()}),Promise.all(t)}(i),0)}})})})},ho.offline=Io,x("shaka.polyfill.installAll",function(){for(var t=0;t<Fo.length;++t)Fo[t].ad()});var jo,Bo,Fo=[];function Ho(t,e){for(var n={priority:e=e||0,ad:t},i=0;i<Fo.length;i++)if(Fo[i].priority<e)return void Fo.splice(i,0,n);Fo.push(n)}function qo(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(e,t);else(n=document.createEvent("Event")).initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(n)}function Vo(t,e,n){if("input"==t)switch(this.type){case"range":t="change"}jo.call(this,t,e,n)}function $o(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=t.apply(this,arguments);return e.abort=function(){},e}}function zo(t){var e=t.target,n=e.mediaSource_;if(n.rc){for(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.mc=!0,t=0;t<n.sourceBuffers.length;++t)if(0==n.sourceBuffers[t].mc)return;n.rc=!1}}function Wo(t){t=t.target;for(var e=0;e<t.sourceBuffers.length;++e)t.sourceBuffers[e].removeEventListener("updateend",zo,!1);t.removeEventListener("sourceclose",Wo,!1)}function Go(t){this.f=[],this.b=[],this.a=[],(new mi).Y("pssh",this.c.bind(this)).parse(t.buffer)}function Yo(t,e){try{var n=new Xo(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Xo(t,e){this.keySystem=t;for(var n=!1,i=0;i<e.length;++i){var r=e[i],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label},o=!1;if(r.audioCapabilities)for(var s=0;s<r.audioCapabilities.length;++s){var u=r.audioCapabilities[s];if(u.contentType){o=!0;var c=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,c)&&(a.audioCapabilities.push(u),n=!0)}}if(r.videoCapabilities)for(s=0;s<r.videoCapabilities.length;++s)(u=r.videoCapabilities[s]).contentType&&(o=!0,c=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,c)&&(a.videoCapabilities.push(u),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==r.persistentState&&(n=!1),n)return void(this.a=a)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ko(t){var e=this.mediaKeys;return e&&e!=t&&Jo(e,null),delete this.mediaKeys,(this.mediaKeys=t)?Jo(t,this):Promise.resolve()}function Qo(t){this.a=new MSMediaKeys(t),this.b=new bt}function Jo(t,e){if(St(t.b),!e)return Promise.resolve();wt(t.b,e,"msneedkey",ts);var n=t;try{return 1<=e.readyState?e.msSetMediaKeys(t.a):e.addEventListener("loadedmetadata",function t(){e.msSetMediaKeys(n.a),e.removeEventListener("loadedmetadata",t)}),Promise.resolve()}catch(t){return Promise.reject(t)}}function Zo(t){Dn.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new bt,this.sessionId="",this.expiration=NaN,this.closed=new X,this.keyStatuses=new is}function ts(t){var e=document.createEvent("CustomEvent");if(e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc",t=t.initData){var n=new Go(t);if(!(1>=n.a.length)){for(var i=[],r=0;r<n.a.length;r++)i.push(t.subarray(n.a[r].start,n.a[r].end+1));for(t=ot(i,es),i=n=0;i<t.length;i++)n+=t[i].length;for(n=new Uint8Array(n),r=i=0;r<t.length;r++)n.set(t[r],i),i+=t[r].length;t=n}}e.initData=t,this.dispatchEvent(e)}function es(t,e){return Xt(t,e)}function ns(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.a=e,t.dispatchEvent(new kt("keystatuseschange"))}function is(){this.size=0,this.a=void 0}function rs(){return Promise.reject(Error("The key system specified is not supported."))}function as(t){return null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function os(){throw new TypeError("Illegal constructor.")}function ss(){throw new TypeError("Illegal constructor.")}x("shaka.polyfill.register",Ho),Ho(function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",qo),document.addEventListener("webkitfullscreenerror",qo),document.addEventListener("mozfullscreenchange",qo),document.addEventListener("mozfullscreenerror",qo),document.addEventListener("MSFullscreenChange",qo),document.addEventListener("MSFullscreenError",qo)}}),Ho(function(){var e=navigator.userAgent;e&&0<=e.indexOf("CrKey")&&delete t.indexedDB}),Ho(function(){0>navigator.userAgent.indexOf("Trident/")||HTMLInputElement.prototype.addEventListener==Vo||(jo=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Vo)}),Ho(function(){}),Ho(function(){if(t.MediaSource)if(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType)!function(){var t=MediaSource.isTypeSupported,e=/^dv(?:he|av)\./;MediaSource.isTypeSupported=function(n){for(var i=n.split(/ *; */),r=i[0],a={},o=1;o<i.length;++o){var s=i[o].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),a[u]=s}if(!(i=a.codecs))return t(n);var c=!1,l=!1;for(var h in n=i.split(",").filter(function(t){return e.test(t)?(l=!0,!1):(/^(hev|hvc)1\.2/.test(t)&&(c=!0),!0)}),l&&(c=!1),a.codecs=n.join(","),c&&(a.eotf="smpte2084"),a)r+="; "+h+'="'+a[h]+'"';return cast.__platform__.canDisplayType(r)}}();else if(navigator.vendor&&0<=navigator.vendor.indexOf("Apple")){var e=navigator.appVersion;!function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1]&&t(e)}}(),0<=e.indexOf("Version/8")?t.MediaSource=null:0<=e.indexOf("Version/9")?$o():0<=e.indexOf("Version/10")?($o(),function(){var t=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var e=0,n=0;n<this.sourceBuffers.length;++n){var i=this.sourceBuffers[n];i=i.buffered.end(i.buffered.length-1),e=Math.max(e,i)}if(!isNaN(this.duration)&&e<this.duration)for(this.rc=!0,e=0;e<this.sourceBuffers.length;++e)this.sourceBuffers[e].mc=!1;return t.apply(this,arguments)};var e=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=n.apply(this,arguments);return t.mediaSource_=this,t.addEventListener("updateend",zo,!1),e||(this.addEventListener("sourceclose",Wo,!1),e=!0),t}}()):0<=e.indexOf("Version/11")&&($o(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}())}}),Go.prototype.c=function(t){if(!(1<t.version)){var e=Yt(t.reader.Ba(16)),n=[];if(0<t.version)for(var i=t.reader.B(),r=0;r<i;++r){var a=Yt(t.reader.Ba(16));n.push(a)}i=t.reader.B(),t.reader.F(i),this.b.push.apply(this.b,n),this.f.push(e),this.a.push({start:t.start,end:t.start+t.size-1})}},Xo.prototype.createMediaKeys=function(){var t=new Qo(this.keySystem);return Promise.resolve(t)},Xo.prototype.getConfiguration=function(){return this.a},Qo.prototype.createSession=function(t){var e=t||"temporary";if("temporary"!=e)throw new TypeError("Session type "+t+" is unsupported on this platform.");return new Zo(this.a,e)},Qo.prototype.setServerCertificate=function(){return Promise.resolve(!1)},C(Zo,Dn),(n=Zo.prototype).generateRequest=function(t,e){this.a=new X;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e),null),wt(this.f,this.c,"mskeymessage",this.Qd.bind(this)),wt(this.f,this.c,"mskeyadded",this.Od.bind(this)),wt(this.f,this.c,"mskeyerror",this.Pd.bind(this)),ns(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},n.update=function(t){this.b=new X;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},n.close=function(){try{this.c.close(),this.closed.resolve(),St(this.f)}catch(t){this.closed.reject(t)}return this.closed},n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},n.Qd=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new kt("message",{messageType:void 0==this.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message.buffer}))},n.Od=function(){this.a?(ns(this,"usable"),this.a.resolve(),this.a=null):this.b&&(ns(this,"usable"),this.b.resolve(),this.b=null)},n.Pd=function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:ns(this,"output-not-allowed");break;default:ns(this,"internal-error")}},(n=is.prototype).forEach=function(t){this.a&&t(this.a,Bo)},n.get=function(t){if(this.has(t))return this.a},n.has=function(t){var e=Bo;return!(!this.a||!Xt(new Uint8Array(t),new Uint8Array(e)))},n.entries=function(){},n.keys=function(){},n.values=function(){},Ho(function(){!t.HTMLVideoElement||!t.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(Bo=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ko,t.MediaKeys=Qo,t.MediaKeySystemAccess=Xo,navigator.requestMediaKeySystemAccess=Yo)}),os.prototype.createSession=function(){},os.prototype.setServerCertificate=function(){},ss.prototype.getConfiguration=function(){},ss.prototype.createMediaKeys=function(){},Ho(function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=rs,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=as,t.MediaKeys=os,t.MediaKeySystemAccess=ss)},-10);var us,cs="";function ls(t){return cs?cs+t.charAt(0).toUpperCase()+t.slice(1):t}function hs(t,e){try{var n=new fs(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function ds(t){var e=this.mediaKeys;return e&&e!=t&&ms(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&ms(t,this),Promise.resolve()}function fs(t,e){this.a=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.a="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video");for(var a=0;a<e.length;++a){var o=e[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var c=0;c<o.audioCapabilities.length;++c){var l=o.audioCapabilities[c];if(l.contentType){u=!0;var h=l.contentType.split(";")[0];r.canPlayType(h,this.a)&&(s.audioCapabilities.push(l),i=!0)}}if(o.videoCapabilities)for(c=0;c<o.videoCapabilities.length;++c)(l=o.videoCapabilities[c]).contentType&&(u=!0,r.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),i=!0));if(u||(i=r.canPlayType("video/mp4",this.a)||r.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):i=!1),i)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function ps(t){this.g=t,this.b=null,this.a=new bt,this.c=[],this.f={}}function ms(t,e){t.b=e,St(t.a);var n=cs;e&&(wt(t.a,e,n+"needkey",t.de.bind(t)),wt(t.a,e,n+"keymessage",t.ce.bind(t)),wt(t.a,e,n+"keyadded",t.ae.bind(t)),wt(t.a,e,n+"keyerror",t.be.bind(t)))}function vs(t,e){var n=t.f[e];return n||((n=t.c.shift())?(n.sessionId=e,t.f[e]=n):null)}function gs(t,e,n){Dn.call(this),this.f=t,this.h=!1,this.a=this.b=null,this.c=e,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new X,this.keyStatuses=new bs}function ys(t,e,n){if(t.h)return Promise.reject(Error("The session is already initialized."));t.h=!0;try{if("persistent-license"==t.g)if(n)var i=new Uint8Array(Ht("LOAD_SESSION|"+n));else{var r=Ht("PERSISTENT|"),a=new Uint8Array(r.byteLength+e.byteLength);a.set(new Uint8Array(r),0),a.set(new Uint8Array(e),r.byteLength),i=a}else i=new Uint8Array(e)}catch(t){return Promise.reject(t)}t.b=new X;var o=ls("generateKeyRequest");try{t.f[o](t.c,i)}catch(e){if("InvalidStateError"!=e.name)return t.b=null,Promise.reject(e);setTimeout(function(){try{this.f[o](this.c,i)}catch(t){this.b.reject(t),this.b=null}}.bind(t),10)}return t.b}function _s(t,e){var n=t.keyStatuses;n.size=void 0==e?0:1,n.a=e,t.dispatchEvent(new kt("keystatuseschange"))}function bs(){this.size=0,this.a=void 0}function ws(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Ts(e,n,i){return new t.TextTrackCue(e,n,i)}function Ss(e,n,i){return new t.TextTrackCue(e+"-"+n+"-"+i,e,n,i)}function Es(){}fs.prototype.createMediaKeys=function(){var t=new ps(this.a);return Promise.resolve(t)},fs.prototype.getConfiguration=function(){return this.b},(n=ps.prototype).createSession=function(t){var e=t||"temporary";if("temporary"!=e&&"persistent-license"!=e)throw new TypeError("Session type "+t+" is unsupported on this platform.");return(t=this.b||document.createElement("video")).src||(t.src="about:blank"),e=new gs(t,this.g,e),this.c.push(e),e},n.setServerCertificate=function(){return Promise.resolve(!1)},n.de=function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="webm",e.initData=t.initData,this.b.dispatchEvent(e)},n.ce=function(t){var e=vs(this,t.sessionId);e&&(t=new kt("message",{messageType:void 0==e.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t))},n.ae=function(t){(t=vs(this,t.sessionId))&&(_s(t,"usable"),t.a&&t.a.resolve(),t.a=null)},n.be=function(t){var e=vs(this,t.sessionId);if(e){var n=Error("EME v0.1b key error");n.errorCode=t.errorCode,n.errorCode.systemCode=t.systemCode,!t.sessionId&&e.b?(n.method="generateRequest",45==t.systemCode&&(n.message="Unsupported session type."),e.b.reject(n),e.b=null):t.sessionId&&e.a?(n.method="update",e.a.reject(n),e.a=null):(n=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?_s(e,"output-restricted"):_s(e,1==n?"expired":"internal-error"))}},C(gs,Dn),(n=gs.prototype).bc=function(t,e){if(this.a)this.a.then(this.bc.bind(this,t,e)).catch(this.bc.bind(this,t,e));else{if(this.a=t,"webkit-org.w3.clearkey"==this.c){var n=jt(e),i=JSON.parse(n);"oct"!=i.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=Wt(i.keys[0].k),i=Wt(i.keys[0].kid)}else n=new Uint8Array(e),i=null;var r=ls("addKey");try{this.f[r](this.c,n,i,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},n.generateRequest=function(t,e){return ys(this,e,null)},n.load=function(t){return"persistent-license"==this.g?ys(this,null,t):Promise.reject(Error("Not a persistent session."))},n.update=function(t){var e=new X;return this.bc(e,t),e},n.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=ls("cancelKeyRequest");try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},n.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(n=bs.prototype).forEach=function(t){this.a&&t(this.a,us)},n.get=function(t){if(this.has(t))return this.a},n.has=function(t){var e=us;return!(!this.a||!Xt(new Uint8Array(t),new Uint8Array(e)))},n.entries=function(){},n.keys=function(){},n.values=function(){},Ho(function(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)cs="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;us=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=hs,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ds,t.MediaKeys=ps,t.MediaKeySystemAccess=fs}}),Ho(function(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this,arguments);return t&&t.catch(function(){}),t}}}),Ho(function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=ws)}}),Ho(function(){if(!t.VTTCue&&t.TextTrackCue){var e=TextTrackCue.length;if(3==e)t.VTTCue=Ts;else if(6==e)t.VTTCue=Ss;else{try{var n=!!Ts(1,2,"")}catch(t){n=!1}n&&(t.VTTCue=Ts)}}}),Es.prototype.parseInit=function(){},Es.prototype.parseMedia=function(t,e){var n=jt(t),i=[],r=new DOMParser,a=null;try{a=r.parseFromString(n,"text/xml")}catch(t){throw new J(2,2,2005)}if(a){if(!(r=a.getElementsByTagName("tt")[0]))throw new J(2,2,2005);a=r.getAttribute("ttp:frameRate");var o=r.getAttribute("ttp:subFrameRate"),s=r.getAttribute("ttp:frameRateMultiplier"),u=r.getAttribute("ttp:tickRate");if("default"!=(n=r.getAttribute("xml:space")||"default")&&"preserve"!=n)throw new J(2,2,2005);n="default"==n,a=new function(t,e,n,i){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(i),0==this.a&&(this.a=t?this.frameRate*this.b:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=t[1]/t[2])}(a,o,s,u),o=Ns(r.getElementsByTagName("styling")[0]),s=Ns(r.getElementsByTagName("layout")[0]),u=[];for(var c=0;c<s.length;c++){var l,h=s[c],d=o,f=new Ee,p=h.getAttribute("xml:id");if(p)f.id=p,(l=Fs(h,d,"tts:extent"))&&(null!=(l=(p=ks.exec(l))||Cs.exec(l))&&(f.width=Number(l[1]),f.height=Number(l[2]),f.widthUnits=p?ke:0,f.heightUnits=p?ke:0)),(h=Fs(h,d,"tts:origin"))&&(null!=(l=(p=ks.exec(h))||Cs.exec(h))&&(f.viewportAnchorX=Number(l[1]),f.viewportAnchorY=Number(l[2]),f.viewportAnchorUnits=p?ke:0));else f=null;f&&u.push(f)}for(r=Ns(r.getElementsByTagName("body")[0]),c=0;c<r.length;c++)(f=Us(r[c],e.periodStart,a,o,s,u,n))&&i.push(f)}return i};var ks=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,xs=/^(\d+px|\d+em)$/,Cs=/^(\d+)px (\d+)px$/,As=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Os=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Ps=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Is=/^(\d*(?:\.\d*)?)f$/,Ls=/^(\d*(?:\.\d*)?)t$/,Ms=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Ds={left:"start",center:_e,right:"end",start:"start",end:"end"},Rs={left:"line-left",center:"center",right:"line-right"};function Ns(t){var e=[];if(!t)return e;for(var n=t.childNodes,i=0;i<n.length;i++){var r="span"==n[i].nodeName&&"p"==t.nodeName;n[i].nodeType!=Node.ELEMENT_NODE||"br"==n[i].nodeName||r||(r=Ns(n[i]),e=e.concat(r))}return e.length||e.push(t),e}function Us(t,e,n,i,r,a,o){if(!t.hasAttribute("begin")&&!t.hasAttribute("end")&&/^\s*$/.test(t.textContent))return null;!function t(e,n){for(var i=e.childNodes,r=0;r<i.length;r++)if("br"==i[r].nodeName&&0<r)i[r-1].textContent+="\n";else if(0<i[r].childNodes.length)t(i[r],n);else if(n){var a=i[r].textContent.trim();a=a.replace(/\s+/g," "),i[r].textContent=a}}(t,o),o=Vs(t.getAttribute("begin"),n);var s=Vs(t.getAttribute("end"),n);n=Vs(t.getAttribute("dur"),n);var u=t.textContent;if(null==s&&null!=n&&(s=o+n),null==o||null==s)throw new J(2,2,2001);if(e=new he(o+e,s+e,u),(r=qs(t,"region",r))&&r.getAttribute("xml:id")){var c=r.getAttribute("xml:id");a=a.filter(function(t){return t.id==c}),e.region=a[0]}return function(t,e,n,i){"rtl"==Bs(e,n,i,"tts:direction")&&(t.writingDirection=1);var r=Bs(e,n,i,"tts:writingMode");"tb"==r||"tblr"==r?t.writingDirection=2:"tbrl"==r?t.writingDirection=3:"rltb"==r||"rl"==r?t.writingDirection=1:r&&(t.writingDirection=ge),(r=Bs(e,n,i,"tts:textAlign"))&&(t.positionAlign=Rs[r],t.lineAlign=Ds[r],t.textAlign=pe[r.toUpperCase()]);(r=Bs(e,n,i,"tts:displayAlign"))&&(t.displayAlign=ve[r.toUpperCase()]);(r=Bs(e,n,i,"tts:color"))&&(t.color=r);(r=Bs(e,n,i,"tts:backgroundColor"))&&(t.backgroundColor=r);(r=Bs(e,n,i,"tts:fontFamily"))&&(t.fontFamily=r);(r=Bs(e,n,i,"tts:fontWeight"))&&"bold"==r&&(t.fontWeight=700),(r=Bs(e,n,i,"tts:wrapOption"))&&"noWrap"==r&&(t.wrapLine=!1),(r=Bs(e,n,i,"tts:lineHeight"))&&r.match(xs)&&(t.lineHeight=r),(r=Bs(e,n,i,"tts:fontSize"))&&r.match(xs)&&(t.fontSize=r),(r=Bs(e,n,i,"tts:fontStyle"))&&(t.fontStyle=Se[r.toUpperCase()]);(n=Fs(n,i,"tts:textDecoration"))&&js(t,n),(e=Hs(e,i,"tts:textDecoration"))&&js(t,e)}(e,t,r,i),e}function js(t,e){for(var n=e.split(" "),i=0;i<n.length;i++)switch(n[i]){case"underline":0>t.textDecoration.indexOf("underline")&&t.textDecoration.push("underline");break;case"noUnderline":0<=t.textDecoration.indexOf("underline")&&ut(t.textDecoration,"underline");break;case"lineThrough":0>t.textDecoration.indexOf("lineThrough")&&t.textDecoration.push("lineThrough");break;case"noLineThrough":0<=t.textDecoration.indexOf("lineThrough")&&ut(t.textDecoration,"lineThrough");break;case"overline":0>t.textDecoration.indexOf("overline")&&t.textDecoration.push("overline");break;case"noOverline":0<=t.textDecoration.indexOf("overline")&&ut(t.textDecoration,"overline")}}function Bs(t,e,n,i){return(t=Hs(t,n,i))?t:Fs(e,n,i)}function Fs(t,e,n){for(var i=Ns(t),r=0;r<i.length;r++){var a=i[r].getAttribute(n);if(a)return a}return(t=qs(t,"style",e))?t.getAttribute(n):null}function Hs(t,e,n){return(t=qs(t,"style",e))?t.getAttribute(n):null}function qs(t,e,n){if(!t||1>n.length)return null;var i=null,r=t;for(t=null;r&&!(t=r.getAttribute(e))&&(r=r.parentNode)instanceof Element;);if(e=t)for(t=0;t<n.length;t++)if(n[t].getAttribute("xml:id")==e){i=n[t];break}return i}function Vs(t,e){var n=null;if(As.test(t)){n=As.exec(t);var i=Number(n[1]),r=Number(n[2]),a=Number(n[3]),o=Number(n[4]);n=(a+=(o+=(Number(n[5])||0)/e.b)/e.frameRate)+60*r+3600*i}else Os.test(t)?n=$s(Os,t):Ps.test(t)?n=$s(Ps,t):Is.test(t)?(n=Is.exec(t),n=Number(n[1])/e.frameRate):Ls.test(t)?(n=Ls.exec(t),n=Number(n[1])/e.a):Ms.test(t)&&(n=$s(Ms,t));return n}function $s(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function zs(){this.a=new Es}function Ws(){}function Gs(t,e,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=i[1],t.textAlign="middle"==e?fe:pe[e.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(e))?t.writingDirection="lr"==i[1]?2:3:(i=/^size:([\d.]+)%$/.exec(e))?t.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(i[1]),i[2]&&(e=i[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center")):(i=/^region:(.*)$/.exec(e))?(e=function(t,e){var n=t.filter(function(t){return t.id==e});return n.length?n[0]:null}(n,i[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=be[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=ye,t.line=Number(n[1]),n[2]&&(t.lineAlign=be[n[2].toUpperCase()]))}function Ys(t){if(null==(t=or(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function Xs(){this.a=null}function Ks(t,e,n){var i,r,a;return(new mi).C("payl",yi(function(t){i=jt(t)})).C("iden",yi(function(t){r=jt(t)})).C("sttg",yi(function(t){a=jt(t)})).parse(t),i?function(t,e,n,i,r){if(t=new he(i,r,t),e&&(t.id=e),n)for(e=new rr(n),n=sr(e);n;)Gs(t,n,[]),ar(e),n=sr(e);return t}(i,r,a,e,n):null}Ie["application/ttml+xml"]=Es,zs.prototype.parseInit=function(t){var e=!1;if((new mi).C("moov",vi).C("trak",vi).C("mdia",vi).C("minf",vi).C("stbl",vi).Y("stsd",gi).C("stpp",function(t){e=!0,t.parser.stop()}).parse(t),!e)throw new J(2,2,2007)},zs.prototype.parseMedia=function(t,e){var n=!1,i=[];if((new mi).C("mdat",yi(function(t){n=!0,i=i.concat(this.a.parseMedia(t,e))}.bind(this))).parse(t),!n)throw new J(2,2,2007);return i},Ie['application/mp4; codecs="stpp"']=zs,Ie['application/mp4; codecs="stpp.TTML.im1t"']=zs,Ws.prototype.parseInit=function(){},Ws.prototype.parseMedia=function(t,e){var n=jt(t);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new J(2,2,2e3);var i=e.segmentStart;if(null==i&&(i=0,0<=n[0].indexOf("X-TIMESTAMP-MAP"))){var r=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);r&&a&&(i=Ys(new rr(r[1])),i=e.periodStart+(Number(a[1])/9e4-i))}a=[];var o=n[0].split("\n");for(r=1;r<o.length;r++)if(/^Region:/.test(o[r])){var s=new rr(o[r]),u=new Ee;sr(s),ar(s);for(var c=sr(s);c;){var l=u,h=c;(c=/^id=(.*)$/.exec(h))?l.id=c[1]:(c=/^width=(\d{1,2}|100)%$/.exec(h))?l.width=Number(c[1]):(c=/^lines=(\d+)$/.exec(h))?(l.height=Number(c[1]),l.heightUnits=2):(c=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(h))?(l.regionAnchorX=Number(c[1]),l.regionAnchorY=Number(c[2])):(c=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(h))?(l.viewportAnchorX=Number(c[1]),l.viewportAnchorY=Number(c[2])):/^scroll=up$/.exec(h)&&(l.scroll="up"),ar(s),c=sr(s)}a.push(u)}for(r=[],s=1;s<n.length;s++){if(c=o=n[s].split("\n"),h=i,o=a,1==c.length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0])o=null;else{u=null,0>c[0].indexOf("--\x3e")&&(u=c[0],c.splice(0,1));var d=Ys(l=new rr(c[0])),f=or(l,/[ \t]+--\x3e[ \t]+/g),p=Ys(l);if(null==d||null==f||null==p)throw new J(2,2,2001);for(c=new he(d+h,p+h,c.slice(1).join("\n").trim()),ar(l),h=sr(l);h;)Gs(c,h,o),ar(l),h=sr(l);null!=u&&(c.id=u),o=c}o&&r.push(o)}return r},Ie["text/vtt"]=Ws,Ie['text/vtt; codecs="vtt"']=Ws,Xs.prototype.parseInit=function(t){var e=!1;if((new mi).C("moov",vi).C("trak",vi).C("mdia",vi).Y("mdhd",function(t){0==t.version?(t.reader.F(4),t.reader.F(4),this.a=t.reader.B(),t.reader.F(4)):(t.reader.F(8),t.reader.F(8),this.a=t.reader.B(),t.reader.F(8)),t.reader.F(4)}.bind(this)).C("minf",vi).C("stbl",vi).Y("stsd",gi).C("wvtt",function(){e=!0}).parse(t),!this.a)throw new J(2,2,2008);if(!e)throw new J(2,2,2008)},Xs.prototype.parseMedia=function(t,e){var n=this;if(!this.a)throw new J(2,2,2008);var i,r=0,a=[],o=[],s=!1,u=!1,c=!1,l=null;if((new mi).C("moof",vi).C("traf",vi).Y("tfdt",function(t){s=!0,r=0==t.version?t.reader.B():t.reader.Qa()}).Y("tfhd",function(t){var e=t.flags;(t=t.reader).F(4),1&e&&t.F(8),2&e&&t.F(4),l=8&e?t.B():null}).Y("trun",function(t){u=!0;var e=t.version,n=t.flags,i=(t=t.reader).B();1&n&&t.F(4),4&n&&t.F(4);for(var r=[],o=0;o<i;o++){var s={duration:null,sampleSize:null,cc:null};256&n&&(s.duration=t.B()),512&n&&(s.sampleSize=t.B()),1024&n&&t.F(4),2048&n&&(s.cc=0==e?t.B():t.Hc()),r.push(s)}a=r}).C("mdat",yi(function(t){c=!0,i=t})).parse(t),!c&&!s&&!u)throw new J(2,2,2008);var h=r,d=new hi(new DataView(i.buffer,i.byteOffset,i.byteLength),0);return a.forEach(function(t){var i=t.duration||l,a=t.cc?r+t.cc:h;h=a+(i||0);var s=0;do{var u=d.B();s+=u;var c=null;"vttc"==bi(d.B())?8<u&&(c=d.Ba(u-8)):d.F(u-8),i&&c&&o.push(Ks(c,e.periodStart+a/n.a,e.periodStart+h/n.a))}while(t.sampleSize&&s<t.sampleSize)}),o.filter(At)},Ie['application/mp4; codecs="wvtt"']=Xs}.call(i,n,n),i.shaka)e[r]=i.shaka[r]}()}).call(e,n(5))},function(t,e,n){var i;i=function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=16)}([function(t,e){function n(t,e){var n=T(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&s(t)}(t)&&v.call(t,"callee")&&(!y.call(t,"callee")||g.call(t)==h)}(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,a=!!i;for(var o in t)!e&&!v.call(t,o)||a&&("length"==o||r(o,i))||n.push(o);return n}function i(t,e,n){var i=t[e];v.call(t,e)&&o(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function r(t,e){return!!(e=null==e?l:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}function a(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||m)}function o(t,e){return t===e||t!=t&&e!=e}function s(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}(t.length)&&!function(t){var e=u(t)?g.call(t):"";return e==d||e==f}(t)}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return s(t)?n(t):function(t){if(!a(t))return _(t);var e=[];for(var n in Object(t))v.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var l=9007199254740991,h="[object Arguments]",d="[object Function]",f="[object GeneratorFunction]",p=/^(?:0|[1-9]\d*)$/,m=Object.prototype,v=m.hasOwnProperty,g=m.toString,y=m.propertyIsEnumerable,_=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),b=Math.max,w=!y.call({valueOf:1},"valueOf"),T=Array.isArray,S=function(t){return function(t,e){return e=b(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,r=b(n.length-e,0),a=Array(r);++i<r;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=a,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,o)}}(function(e,n){var i=-1,a=n.length,c=a>1?n[a-1]:void 0,l=a>2?n[2]:void 0;for(c=t.length>3&&"function"==typeof c?(a--,c):void 0,l&&function(t,e,n){if(!u(n))return!1;var i=typeof e;return!!("number"==i?s(n)&&r(e,n.length):"string"==i&&e in n)&&o(n[e],t)}(n[0],n[1],l)&&(c=a<3?void 0:c,a=1),e=Object(e);++i<a;){var h=n[i];h&&t(e,h)}return e})}(function(t,e){if(w||a(e)||s(e))!function(t,e,n,r){n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=r?r(n[s],t[s],s,n,t):void 0;i(n,s,void 0===u?t[s]:u)}}(e,c(e),t);else for(var n in e)v.call(e,n)&&i(t,n,e[n])});t.exports=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){n=void 0===n?1:n,t[e]=t[e]||0,t[e]+=n}},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,n(5))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=r.default.methodFactory;r.default.methodFactory=function(t,e,n){var i=a(t,e,n);return function(){for(var t=["[mux]"],e=0;e<arguments.length;e++)t.push(arguments[e]);i.apply(void 0,t)}},r.default.setLevel(r.default.getLevel()),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractHostnameAndDomain=void 0;var i=n(7),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.extractHostnameAndDomain=function(t){var e=r.default.createElement("a");e.href=t;var n=e.hostname,i=n.match(/[^\.]+\.[^\.]+$/),a=void 0;return i&&i.length&&(a=i[0]),[n,a]}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},e.generateShortID=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)}},function(t,e,n){(function(e){var i,r=void 0!==e?e:"undefined"!=typeof window?window:{},a=n(20);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=a),t.exports=i}).call(e,n(5))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=(t=t||"").match(/[^\r\n]+/g)||[];for(var e={},n=0;n<t.length;n++){var i=t[n].split(/\s*:\s*(.+)/);3===i.length&&(e[i[0]]=i[1])}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findMediaElement=e.getMuxPlayerId=void 0;var i=n(6),r=function(t){return t&&void 0!==t.nodeName?(t.muxId||(t.muxId=t.id||(0,i.generateShortID)()),t.muxId):t};e.getMuxPlayerId=r,e.findMediaElement=function(t){var e=void 0;return t&&void 0!==t.nodeName?t=r(e=t):e=document.querySelector(t),[e,t,e&&e.nodeName?e.nodeName.toLowerCase():""]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return"1"===(r.default.doNotTrack||r.default.navigator.doNotTrack||r.default.navigator.msDoNotTrack)};var i=n(2),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var i=n(40),r=n(41),a=n(14);t.exports={formats:a,parse:r,stringify:i}},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(n[i]=t[i]);return n},e.merge=function(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(r.plainObjects||r.allowPrototypes||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var a=t;return Array.isArray(t)&&!Array.isArray(n)&&(a=e.arrayToObject(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,a){i.call(t,a)?t[a]&&"object"==typeof t[a]?t[a]=e.merge(t[a],n,r):t.push(n):t[a]=n}),t):Object.keys(n).reduce(function(t,a){var o=n[a];return i.call(t,a)?t[a]=e.merge(t[a],o,r):t[a]=o,t},a)},e.assign=function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",i=0;i<e.length;++i){var a=e.charCodeAt(i);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=e.charAt(i):a<128?n+=r[a]:a<2048?n+=r[192|a>>6]+r[128|63&a]:a<55296||a>=57344?n+=r[224|a>>12]+r[128|a>>6&63]+r[128|63&a]:(i+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(i)),n+=r[240|a>>18]+r[128|a>>12&63]+r[128|a>>6&63]+r[128|63&a])}return n},e.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],i=0;i<e.length;++i)for(var r=e[i],a=r.obj[r.prop],o=Object.keys(a),s=0;s<o.length;++s){var u=o[s],c=a[u];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(e.push({obj:a,prop:u}),n.push(c))}return function(t){for(var e;t.length;){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var i=[],r=0;r<e.length;++r)void 0!==e[r]&&i.push(e[r]);n.obj[n.prop]=i}}return e}(e)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},function(t,e,n){"use strict";var i=String.prototype.replace,r=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,r,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={},n={};return Object.keys(t).forEach(function(i){var r=!1;if(t.hasOwnProperty(i)&&void 0!==t[i]){var a=i.split("_"),s=a[0],u=c[s];u||(o.default.info("Data key word `"+a[0]+"` not expected in "+i),u=s+"_"),a.splice(1).forEach(function(t){"url"===t&&(r=!0),l[t]?u+=l[t]:(o.default.info("Data key word `"+t+"` not expected in "+i),u+="_"+t+"_")}),r?n[u]=t[i]:e[u]=t[i]}}),(0,u.default)(e,n)};var a=n(3),o=i(a),s=n(0),u=i(s),c=r({a:"env",b:"beacon",d:"ad",e:"event",f:"experiment",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),l=r({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",cn:"config",co:"count",ce:"counter",cp:"complete",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"})},function(t,e,n){"use strict";t.exports=n(17).default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(2),o=i(a),s=n(9),u=n(3),c=i(u),l=n(10),h=i(l),d=n(19),f=i(d),p=n(48),m=i(p),v=n(49),g=i(v),y={},_=function t(e){var n=arguments;"string"==typeof e?t.hasOwnProperty(e)?o.default.setTimeout(function(){n=Array.prototype.splice.call(n,1),t[e].apply(null,n)},0):c.default.warn("`"+e+"` is an unknown task"):"function"==typeof e?o.default.setTimeout(function(){e(t)},0):c.default.warn("`"+e+"` is invalid.")};_.loaded=Date.now(),_.VERSION="2.5.0",_.API_VERSION="2.0",_.PLAYER_TRACKED=!1,_.monitor=function(t,e){return(0,m.default)(_,t,e)},_.destroyMonitor=function(t){var e=(0,s.findMediaElement)(t),n=r(e,1),i=n[0];i&&i.mux&&"function"==typeof i.mux.destroy?i.mux.destroy():c.default.error("A video element monitor for `"+t+"` has not been initialized via `mux.monitor`.")},_.addHLSJS=function(t,e){var n=(0,s.getMuxPlayerId)(t);y[n]?y[n].addHLSJS(e):c.default.error("A monitor for `"+n+"` has not been initialized.")},_.addDashJS=function(t,e){var n=(0,s.getMuxPlayerId)(t);y[n]?y[n].addDashJS(e):c.default.error("A monitor for `"+n+"` has not been initialized.")},_.removeHLSJS=function(t){var e=(0,s.getMuxPlayerId)(t);y[e]?y[e].removeHLSJS():c.default.error("A monitor for `"+e+"` has not been initialized.")},_.removeDashJS=function(t,e){var n=(0,s.getMuxPlayerId)(t);y[n]?y[n].removeDashJS(e):c.default.error("A monitor for `"+n+"` has not been initialized.")},_.init=function(t,e){var n=(0,s.getMuxPlayerId)(t);y[n]=new f.default(_,n,e)},_.emit=function(t,e,n){var i=(0,s.getMuxPlayerId)(t);y[i]?(y[i].emit(e,n),"destroy"===e&&delete y[i]):c.default.error("A monitor for `"+i+"` has not been initialized.")},(0,h.default)()&&c.default.info("The browser's Do Not Track flag is enabled - Mux beaconing may be disabled."),o.default.addEventListener("unload",function(){_.WINDOW_UNLOADING=!0},!1),_.checkDoNotTrack=h.default,_.log=c.default,_.utils=g.default,e.default=_},function(t,e,n){var i,r;!function(a,o){"use strict";void 0!==(r="function"==typeof(i=function(){function t(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function e(e){return"debug"===e&&(e="log"),typeof console!==s&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):o)}function n(t,e){for(var n=0;n<u.length;n++){var i=u[n];this[i]=n<t?o:this.methodFactory(i,t,e)}this.log=this.debug}function i(t,e,i){return function(){typeof console!==s&&(n.call(this,e,i),this[t].apply(this,arguments))}}function r(t,n,r){return e(t)||i.apply(this,arguments)}function a(t,e,i){function a(){var t;if(typeof window!==s){try{t=window.localStorage[l]}catch(t){}if(typeof t===s)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(l)+"=");n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===c.levels[t]&&(t=void 0),t}}var o,c=this,l="loglevel";t&&(l+=":"+t),c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=i||r,c.getLevel=function(){return o},c.setLevel=function(e,i){if("string"==typeof e&&void 0!==c.levels[e.toUpperCase()]&&(e=c.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(o=e,!1!==i&&function(t){var e=(u[t]||"silent").toUpperCase();if(typeof window!==s){try{return void(window.localStorage[l]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(l)+"="+e+";"}catch(t){}}}(e),n.call(c,e,t),typeof console===s&&e<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(t){a()||c.setLevel(t,!1)},c.enableAll=function(t){c.setLevel(c.levels.TRACE,t)},c.disableAll=function(t){c.setLevel(c.levels.SILENT,t)};var h=a();null==h&&(h=null==e?"WARN":e),c.setLevel(h,!1)}var o=function(){},s="undefined",u=["trace","debug","info","warn","error"],c=new a,l={};c.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=l[t];return e||(e=l[t]=new a(t,c.getLevel(),c.methodFactory)),e};var h=typeof window!==s?window.log:void 0;return c.noConflict=function(){return typeof window!==s&&window.log===c&&(window.log=h),c},c})?i.call(e,n,e,t):i)&&(t.exports=r)}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(3),o=i(a),s=n(0),u=i(s),c=n(6),l=n(4),h=n(2),d=i(h),f=n(1),p=i(f),m=n(21),v=i(m),g=n(23),y=n(24),_=n(25),b=i(_),w=n(26),T=i(w),S=n(27),E=i(S),k=n(28),x=i(k),C=n(29),A=i(C),O=n(30),P=i(O),I=n(31),L=i(I),M=n(32),D=i(M),R=n(33),N=i(R),U=n(34),j=i(U),B=n(35),F=i(B),H=n(36),q=i(H),V=n(37),$=i(V),z=n(38),W=i(z),G=n(47),Y=i(G),X=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled"],K=function(t,e,n){var i=this;this.DOM_CONTENT_LOADED_EVENT_END=d.default.performance&&d.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=d.default.performance&&d.default.performance.timing.navigationStart,this.mux=t,this.id=e,(n=(0,u.default)({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,sampleRate:1,beaconDomain:"litix.io",disableCookies:!1,respectDoNotTrack:!0},n)).data=n.data||{},n.data.property_key&&(n.data.env_key=n.data.property_key,delete n.data.property_key),o.default.setLevel(n.debug?"debug":"warn"),this.getPlayheadTime=n.getPlayheadTime,this.getStateData=n.getStateData||function(){},this.getAdData=n.getAdData||function(){},this.minimumRebufferDuration=n.minimumRebufferDuration,this.sustainedRebufferThreshold=n.sustainedRebufferThreshold,this.playbackHeartbeatTime=n.playbackHeartbeatTime,this.playbackEventDispatcher=new W.default(t,n.data.env_key,n),this.data={player_instance_id:(0,c.generateShortID)(),mux_sample_rate:n.sampleRate,beacon_domain:n.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(t,e){e=(0,u.default)({viewer_time:Date.now()},e),this.oldEmit(t,e)},this.on("viewinit",function(t,e){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,u.default)(this.data,e),this._initializeViewData();var n=function(){void 0===this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.one("play",n),this.one("adbreakstart",n)}),this.on("videochange",function(t,e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}),this.on("destroy",this.destroy);var r=this.destroy.bind(this);d.default.addEventListener("unload",r,!1),this.on("destroy",function(){d.default.removeEventListener("unload",r)}),this.on("playerready",function(t,e){(0,u.default)(this.data,e)}),X.forEach(function(t){i.on(t,function(e,n){0!==t.indexOf("ad")&&this._updateStateData(),(0,u.default)(this.data,n),this._sanitizeData()}),i.on("after"+t,function(){this.send(t)})}),this.on("viewend",function(t,e){(0,u.default)(i.data,e)}),this.one("playerready",function(t){var e=Date.now();this.data.player_init_time&&(this.data.player_startup_time=e-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),E.default.apply(this),$.default.apply(this),j.default.apply(this),P.default.apply(this),T.default.apply(this),N.default.apply(this),x.default.apply(this),A.default.apply(this),F.default.apply(this),L.default.apply(this),D.default.apply(this),q.default.apply(this),Y.default.apply(this),n.hlsjs&&this.addHLSJS(n),n.dashjs&&this.addDashJS(n),this.emit("viewinit",n.data)};(0,u.default)(K.prototype,b.default.prototype),(0,u.default)(K.prototype,P.default.prototype),(0,u.default)(K.prototype,j.default.prototype),(0,u.default)(K.prototype,T.default.prototype),(0,u.default)(K.prototype,x.default.prototype),(0,u.default)(K.prototype,A.default.prototype),(0,u.default)(K.prototype,F.default.prototype),(0,u.default)(K.prototype,L.default.prototype),(0,u.default)(K.prototype,D.default.prototype),K.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),d.default.clearTimeout(this._heartBeatTimeout))},K.prototype.send=function(t){var e=(0,u.default)({},this.data);if(1===e.player_error_code&&(delete e.player_error_code,delete e.player_error_message),e.player_source_duration===1/0||e.video_source_duration===1/0?e.video_source_is_live=!0:(e.player_source_duration>0||e.video_source_duration>0)&&(e.video_source_is_live=!1),e.video_source_url=e.video_source_url||e.player_source_url,e.video_source_url){var n=(0,l.extractHostnameAndDomain)(e.video_source_url),i=r(n,2),a=i[0],o=i[1];e.video_source_domain=o,e.video_source_hostname=a}delete e.ad_request_id,this.playbackEventDispatcher.send(t,e),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},K.prototype._updateStateData=function(){(0,u.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},K.prototype._sanitizeData=function(){var t=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time"].forEach(function(e){var n=parseInt(t.data[e],10);t.data[e]=isNaN(n)?void 0:n})},K.prototype._resetVideoData=function(t,e){var n=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("video_")&&delete n.data[t]})},K.prototype._resetViewData=function(){var t=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("view_")&&delete t.data[e]}),this.data.view_sequence_number=1},K.prototype._resetErrorData=function(t,e){delete this.data.player_error_code,delete this.data.player_error_message},K.prototype._initializeViewData=function(){var t=this,e=this.data.view_id=(0,c.generateUUID)();this.data.video_id||(this.data.video_id=(0,v.default)(this.data.player_source_url));var n=function(){e===t.data.view_id&&(0,p.default)(t.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",n):n()},K.prototype._restartHeartBeat=function(){var t=this;d.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=d.default.setTimeout(function(){t.data.player_is_paused||t.emit("hb")},1e4))},K.prototype.addHLSJS=function(t){return t.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=t.hlsjs,void(0,g.monitorHLSJS)(this.mux,this.id,t.hlsjs,{},t.Hls||d.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},K.prototype.removeHLSJS=function(){this.hlsjs&&((0,g.stopMonitoringHLSJS)(this.id,this.hlsjs),this.hlsjs=void 0)},K.prototype.addDashJS=function(t){return t.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=t.dashjs,void(0,y.monitorDashJS)(this.mux,this.id,t.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},K.prototype.removeDashJS=function(){this.dashjs&&((0,y.stopMonitoringDashJS)(this.id,this.dashjs),this.dashjs=void 0)},e.default=K},function(t,e){},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=a.default.createElement("a");e.href=t;var n=e.pathname.replace(/\.[^\/.]+$/,"");return s.default.encode(e.host+n).split("=")[0]};var r=n(7),a=i(r),o=n(22),s=i(o)},function(t,e,n){(function(t,i){var r;!function(i){var a=("object"==typeof t&&t&&t.exports,function(t){this.message=t});a.prototype=new Error,a.prototype.name="InvalidCharacterError";var o=function(t){throw new a(t)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,c={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&o("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,i,r,a=t.length%3,u="",c=-1,l=t.length-a;++c<l;)e=t.charCodeAt(c)<<16,n=t.charCodeAt(++c)<<8,i=t.charCodeAt(++c),u+=s.charAt((r=e+n+i)>>18&63)+s.charAt(r>>12&63)+s.charAt(r>>6&63)+s.charAt(63&r);return 2==a?(e=t.charCodeAt(c)<<8,n=t.charCodeAt(++c),u+=s.charAt((r=e+n)>>10)+s.charAt(r>>4&63)+s.charAt(r<<2&63)+"="):1==a&&(r=t.charCodeAt(c),u+=s.charAt(r>>2)+s.charAt(r<<4&63)+"=="),u},decode:function(t){var e=(t=String(t).replace(u,"")).length;e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9\/]/.test(t))&&o("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,r=0,a="",c=-1;++c<e;)i=s.indexOf(t.charAt(c)),n=r%4?64*n+i:i,r++%4&&(a+=String.fromCharCode(255&n>>(-2*r&6)));return a},version:"0.1.0"};void 0!==(r=function(){return c}.call(e,n,e,t))&&(t.exports=r)}()}).call(e,n(11)(t),n(5))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.stopMonitoringHLSJS=e.monitorHLSJS=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(2),o=i(a),s=n(8),u=i(s),c=n(4);e.monitorHLSJS=function(t,e,n){function i(i,a){try{var s=void 0,y=void 0,_=void 0,b=void 0,w=void 0,T=void 0,S=void 0,E=void 0,k=void 0,x=void 0,C=void 0,A=void 0,O=null,P=void 0;if(i!==l.Events.FRAG_BUFFERED&&a.networkDetails&&a.networkDetails.getAllResponseHeaders){m=a.networkDetails.getAllResponseHeaders(),k=a.networkDetails.responseURL;var I=(0,c.extractHostnameAndDomain)(k);A=r(I,1)[0]}else i===l.Events.FRAG_BUFFERED&&(m=v[a.frag.loadIdx][0],A=v[a.frag.loadIdx][1],delete v[a.frag.loadIdx]);if(i===l.Events.FRAG_LOADED)return void(v[a.frag.loadIdx]=[m,A]);d=n.currentLevel,S=n.levels,i===l.Events.MANIFEST_LOADED||i===l.Events.LEVEL_LOADED?(x="manifest",w=0,C=-1):(x="media",w=a.frag.duration,C=a.frag.startPTS),d>=0&&(E=S[d],f=void 0!==E.width?E.width:0,p=void 0!==E.height?E.height:0),i===l.Events.MANIFEST_LOADED&&(O={},S.forEach(function(t,e){O[e]={},O[e].width=void 0!==t.width?t.width:0,O[e].height=void 0!==t.height?t.height:0,O[e].bitrate=t.bitrate,O[e].attrs=t.attrs}),g.media=O),T=o.default.performance.timing.navigationStart,b=a.stats.total,s=T+a.stats.trequest,y=T+a.stats.tfirst,_=T+a.stats.tload,P={request_event_type:i,request_start:s,request_response_start:y,request_response_end:_,request_bytes_loaded:b,request_type:x,request_response_headers:(0,u.default)(m),request_hostname:A},"audio"!==x&&"video"!==x&&"media"!==x||(P.request_media_duration=w),-1!==d&&(P.request_current_level=d),-1!==C&&(P.request_media_start_time=C),"video"!==x&&"media"!==x||(P.request_video_width=f,P.request_video_height=p),null!==O&&(P.request_rendition_lists=g),t.emit(e,"requestcompleted",P)}catch(t){h.warn("hlsjs-monitor.js onHLSRequestLoaded() Exception",t)}}function a(n,i){var r=i.details;if(r===l.ErrorDetails.MANIFEST_LOAD_ERROR||r===l.ErrorDetails.MANIFEST_LOAD_TIMEOUT||r===l.ErrorDetails.FRAG_LOAD_ERROR||r===l.ErrorDetails.FRAG_LOAD_TIMEOUT||r===l.ErrorDetails.LEVEL_LOAD_ERROR||r===l.ErrorDetails.LEVEL_LOAD_TIMEOUT)try{var a=void 0,o=void 0,s="",u=0,c="";switch(r){case l.ErrorDetails.MANIFEST_LOAD_ERROR:u=i.response.code,c=i.response.text,s=i.context.url;break;case l.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s=i.context.url;break;case l.ErrorDetails.LEVEL_LOAD_ERROR:u=i.response.code,c=i.response.text,s=i.context.url;break;case l.ErrorDetails.LEVEL_LOAD_TIMEOUT:s=i.context.url;break;case l.ErrorDetails.FRAG_LOAD_ERROR:u=i.response.code,c=i.response.text,s=i.frag.url;break;case l.ErrorDetails.FRAG_LOAD_TIMEOUT:s=i.frag.url}a=s.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),o=a&&a[3],t.emit(e,"requestfailed",{request_error:r,request_url:s,request_hostname:o,request_type:"media",request_error_code:u,request_error_text:c})}catch(t){h.warn("hlsjs-monitor.js onHLSRequestError() Exception",t)}}function s(n,i){try{var r=void 0,a=void 0,o=i.frag._url;r=o.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),a=r&&r[3],t.emit(e,"requestcanceled",{request_cancel:n,request_url:o,request_hostname:a,request_type:"media"})}catch(t){h.warn("hlsjs-monitor.js onHLSRequestCancel() Exception",t)}}var l=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments[4]),h=t.log;if(o.default.performance&&o.default.performance.timing){var d=-1,f=0,p=0,m="",v={},g={video:{},audio:{},media:{}};n._muxPluginData=n._muxPluginData||{},n._muxPluginData[e]={},n.on(l.Events.FRAG_LOADED,i),n.on(l.Events.FRAG_BUFFERED,i),n.on(l.Events.MANIFEST_LOADED,i),n.on(l.Events.LEVEL_LOADED,i),n.on(l.Events.ERROR,a),n.on(l.Events.FRAG_LOAD_EMERGENCY_ABORTED,s),n._muxPluginData[e].stopMonitoring=function(){n.off(l.Events.FRAG_LOADED,i),n.off(l.Events.FRAG_BUFFERED,i),n.off(l.Events.MANIFEST_LOADED,i),n.off(l.Events.LEVEL_LOADED,i),n.off(l.Events.ERROR,a),n.off(l.Events.FRAG_LOAD_EMERGENCY_ABORTED,s)}}else h.warn("window.performance.timing not supported. Not tracking HLS.js.")},e.stopMonitoringHLSJS=function(t,e){e&&e._muxPluginData&&e._muxPluginData[t]&&e._muxPluginData[t].stopMonitoring()}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.stopMonitoringDashJS=e.monitorDashJS=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(2),o=i(a),s=n(8),u=i(s),c=n(4);e.monitorDashJS=function(t,e,n){function i(i){try{var a=void 0,o=void 0,y=void 0,_=void 0,b=void 0,w=void 0,T=void 0,S=void 0,E=void 0,k=void 0,x=void 0,C=void 0,A=void 0,O=void 0,P=void 0,I=void 0,L=void 0,M=void 0,D=void 0,R=null;"manifestLoaded"===(D=i.type)?(R={},M="",I=NaN):(R=i.chunk.mediaInfo.bitrateList,M=i.chunk.mediaInfo.type,I=i.chunk.start),l="video"===M?n.getQualityFor("video"):n.getQualityFor("audio"),"manifestLoaded"===D||g&&v||(p={},R.forEach(function(t,e){p[e]={},p[e].width=void 0!==t.width?t.width:0,p[e].height=void 0!==t.height?t.height:0,p[e].bitrate=t.bandwidth,p[e].attrs={}}),"video"===M?(m.video=p,g=!0):(m.audio=p,v=!0)),"initFragmentLoaded"===D?"video"===M?(P="video_init",O=R[l]):"audio"===M?(P="audio_init",O=R[0]):(P="media",O=R[l]):"mediaFragmentLoaded"===D?"video"===M?(P="video",O=R[l]):"audio"===M?(P="audio",O=R[0]):(P="media",O=R[l]):"manifestLoaded"===D&&(P="manifest",O={}),h=O.width,d=O.height,f=O.bandwidth,"manifestLoaded"===D?(T=i.data.url,_=0,a=0,o=0,y=0,S=0,C=""):(b=i.fragmentModel.getRequests({state:"executed"}),w=b[b.length-1],T=w.url,E=w.mediaType,_=w.bytesLoaded,a=new Date(w.requestStartDate).getTime(),o=new Date(w.firstByteDate).getTime(),y=new Date(w.requestEndDate).getTime(),S=Number.isNaN(w.duration)?0:w.duration,k=n.getMetricsFor(E).HttpList,x=k[k.length-1],C=x._responseHeaders);var N=(0,c.extractHostnameAndDomain)(T);L=r(N,1)[0],"manifestLoaded"!==D&&"initFragmentLoaded"!==D||(_=-1),A={request_event_type:D,request_start:a,request_response_start:o,request_response_end:y,request_bytes_loaded:_,request_type:P,request_response_headers:(0,u.default)(C),request_hostname:L},"audio"!==P&&"video"!==P&&"media"!==P||(A.request_media_duration=S),isNaN(I)||(A.request_media_start_time=I),void 0!==f&&(A.request_labeled_bitrate=f),-1!==l&&(A.request_current_level=l),"video"!==P&&"media"!==P||(A.request_video_width=h,A.request_video_height=d),null!==p&&(A.request_rendition_lists=m),t.emit(e,"requestcompleted",A)}catch(t){s.warn("dashjs-monitor.js onDASHRequestLoaded() Exception: ",t)}}function a(n){var i=o.default.event;try{var r=void 0,a=void 0,u=n.error+"_"+n.event.id+"_"+n.event.request.type,c=n.event.url,l=n.event.request.mediaType,h=i.currentTarget.status,d=i.currentTarget.statusText;r=c.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),a=r&&r[3],t.emit(e,"requestfailed",{request_error:u,request_url:c,request_hostname:a,request_type:l,request_error_code:h,request_error_text:d})}catch(t){s.warn("dashjs-monitor.js onDASHRequestError() Exception: ",t)}}var s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],t.log);if(n&&n.on){var l=-1,h=0,d=0,f=0,p=null,m={video:{},audio:{},media:{}},v=!1,g=!1;n._muxPluginData=n._muxPluginData||{},n._muxPluginData[e]={},n.on("mediaFragmentLoaded",i),n.on("initFragmentLoaded",i),n.on("manifestLoaded",i),n.on("error",a),n._muxPluginData[e].stopMonitoring=function(){n.off("mediaFragmentLoaded",i),n.off("initFragmentLoaded",i),n.off("manifestLoaded",i),n.off("error",a)}}else s.warn("Invalid dash.js player reference. Monitoring blocked.")},e.stopMonitoringDashJS=function(t,e){e&&e._muxPluginData&&e._muxPluginData[t]&&e._muxPluginData[t].stopMonitoring()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){},r=0;i.prototype.on=function(t,e,n){return e._eventEmitterGuid=e._eventEmitterGuid||++r,this._listeners=this._listeners||{},this._listeners[t]=this._listeners[t]||[],n&&(e=e.bind(n)),this._listeners[t].push(e),e},i.prototype.off=function(t,e){var n=this._listeners&&this._listeners[t];n&&n.forEach(function(t,i){t._eventEmitterGuid===e._eventEmitterGuid&&n.splice(i,1)})},i.prototype.one=function(t,e,n){var i=this;e._eventEmitterGuid=e._eventEmitterGuid||++r;var a=function r(){i.off(t,r),e.apply(n||this,arguments)};a._eventEmitterGuid=e._eventEmitterGuid,this.on(t,a)},i.prototype.emit=function(t,e){var n=this;if(this._listeners){e=e||{};var i=this._listeners["before*"]||[],r=this._listeners[t]||[],a=this._listeners["after"+t]||[],o=function(e,i){(e=e.slice()).forEach(function(e){e.call(n,{type:t},i)})};o(i,e),o(r,e),o(a,e)}},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",function(){this._playheadShouldBeProgressing=!0}),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()}),this.on("timeupdate",function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")}),this.on("devicesleep",function(t,e){null!==this._playbackHeartbeatInterval&&(r.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:e.viewer_time}),this._playbackHeartbeatInterval=null)})};a.prototype._startPlaybackHeartbeatInterval=function(){var t=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=r.default.setInterval(function(){t.emit("playbackheartbeat")},this.playbackHeartbeatTime))},a.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(r.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this;this.on("viewinit",function(){t.viewErrored=!1}),this.on("error",function(){t.viewErrored=!0})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};a.prototype._updateWatchTime=function(t,e){var n=e.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=n),(0,r.default)(this.data,"view_watch_time",n-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=n},a.prototype._clearWatchTimeState=function(t,e){this._updateWatchTime(t,e),this._watchTimeTrackerLastCheckedTime=null},e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};a.prototype._updatePlaybackTime=function(){var t=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&t>this._playbackTimeTrackerLastPlayheadPosition){var e=t-this._playbackTimeTrackerLastPlayheadPosition;e<=1e3&&(0,r.default)(this.data,"view_content_playback_time",e)}this._playbackTimeTrackerLastPlayheadPosition=t},a.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",function(){this.off("timeupdate",this._updatePlayheadTime)})};i.prototype._updatePlayheadTime=function(t,e){if(e.player_playhead_time)this.data.player_playhead_time=e.player_playhead_time;else if(this.getPlayheadTime){var n=this.getPlayheadTime();void 0!==n&&(this.data.player_playhead_time=n)}},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})})};a.prototype._checkIfRebuffering=function(t,e){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)this._cleanupRebufferTracker(t,e);else{if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(e.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime===this.data.player_playhead_time){var n=e.viewer_time-this._lastPlayheadTimeUpdatedTime;n>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(e.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,r.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(n),this.emit("rebufferstart"))),this._lastCheckedTime=e.viewer_time}else this._cleanupRebufferTracker(t,e,!0)}},a.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},a.prototype._prepareRebufferTrackerState=function(t){this._lastCheckedTime=t,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=t},a.prototype._cleanupRebufferTracker=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(e.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:e.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var i=this.data.player_playhead_time-this._lastPlayheadTime,a=e.viewer_time-this._lastPlayheadTimeUpdatedTime;i>0&&a-i>this.minimumRebufferDuration?((0,r.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(a-i),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+a-i})):this._updateRebufferMetrics()}n?this._prepareRebufferTrackerState(e.viewer_time):this._clearRebufferTrackerState()},a.prototype._updateRebufferMetrics=function(t){t>0&&(0,r.default)(this.data,"view_rebuffer_duration",t),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){this.on("viewinit",function(){var t=this.data,e=t.view_id,n=function(t,n){var i=n.viewer_time;"playing"===t.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(i||Date.now(),e):"adplaying"!==t.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(i||Date.now(),e)};this.one("playing",n),this.one("adplaying",n),this.one("viewend",function(){this.off("playing",n),this.off("adplaying",n)})})};i.prototype.calculateTimeToFirstFrame=function(t,e){e===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:t}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this;this.on("viewinit",function(){this._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(e){t.on(e,function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var t=this.data.player_playhead_time-this._lastPlayheadPosition;if(t<0)return void(this._lastPlayheadPosition=-1);var e=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),n=Math.max(0,e-1),i=Math.max(0,1-e);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,n),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,i),(0,r.default)(this.data,"view_total_content_playback_time",t),(0,r.default)(this.data,"view_total_upscaling",n*t),(0,r.default)(this.data,"view_total_downscaling",i*t)}this._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(e){t.on(e,function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height})})};var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.isSeeking=!1,this.on("seeking",function(t,e){(0,s.default)(this.data,e),this._lastSeekingTime=Date.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))}),this.on("seeked",function(){this.isSeeking=!1;var t=this._lastSeekingTime||Date.now(),e=Date.now()-t;(0,a.default)(this.data,"view_seek_count",1),(0,a.default)(this.data,"view_seek_duration",e);var n=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(n,e)}),this.on("viewend",function(){this.isSeeking=!1})};var r=n(1),a=i(r),o=n(0),s=i(o)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(1),o=i(a),s=n(4),u=n(0),c=i(u),l=function(t,e){t.push(e),t.sort(function(t,e){return t.viewer_time-e.viewer_time})},h=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],d=function(){var t=this;this.on("viewinit",function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0}),h.forEach(function(e){return t.on(e,t._updateAdData)});var e=function(){t.isAdBreak=!1};this.on("adbreakstart",function(){this.isAdBreak=!0}),this.on("play",e),this.on("playing",e),this.on("viewend",e),this.on("adrequest",function(t,e){e=(0,c.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},e),l(this._adRequests,e),(0,o.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,o.default)(this.data,"view_preroll_request_count"))}),this.on("adresponse",function(t,e){e=(0,c.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},e),l(this._adResponses,e);var n=this.findAdRequest(e.ad_request_id);n&&(0,o.default)(this.data,"view_ad_request_time",Math.max(0,e.viewer_time-n.viewer_time))}),this.on("adplay",function(t,e){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,o.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,e.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,e.viewer_time-this.data.view_start)),this._prerollPlayTime=e.viewer_time)}),this.on("adplaying",function(t,e){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=e.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=e.viewer_time-this._prerollPlayTime)}),this.on("adended",function(){this._wouldBeNewAdPlay=!0}),this.on("aderror",function(){this._wouldBeNewAdPlay=!0})};d.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},d.prototype.findAdRequest=function(t){for(var e=0;e<this._adRequests.length;e++)if(this._adRequests[e].ad_request_id===t)return this._adRequests[e]},d.prototype._updateAdData=function(t,e){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&e.ad_tag_url){var n=(0,s.extractHostnameAndDomain)(e.ad_tag_url),i=r(n,2),a=i[0],o=i[1];this.data.view_preroll_ad_tag_domain=o,this.data.view_preroll_ad_tag_hostname=a}if(!this.data.view_preroll_ad_asset_hostname&&e.ad_asset_url){var u=(0,s.extractHostnameAndDomain)(e.ad_asset_url),c=r(u,2),l=c[0],h=c[1];this.data.view_preroll_ad_asset_domain=h,this.data.view_preroll_ad_asset_hostname=l}}},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this,e=void 0,n=void 0,i=function(){e&&((0,r.default)(t.data,"view_waiting_rebuffer_duration",Date.now()-e),e=!1,window.clearInterval(n))},a=!1,o=function(){a=!1,i()};this.on("waiting",function(){a&&((0,r.default)(t.data,"view_waiting_rebuffer_count",1),e=Date.now(),n=window.setInterval(function(){if(e){var n=Date.now();(0,r.default)(t.data,"view_waiting_rebuffer_duration",n-e),e=n}},250))}),this.on("playing",function(){i(),a=!0}),this.on("pause",o),this.on("seeking",o)};var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this;this.one("playbackheartbeat",a),this.on("playbackheartbeatend",function(){t.off("before*",o),t.one("playbackheartbeat",a)})};var i=n(0),r=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){this.lastWallClockTime=Date.now(),this.on("before*",o)},o=function(t){var e=Date.now(),n=this.lastWallClockTime;this.lastWallClockTime=e,e-n>3e4&&(this.emit("devicesleep",{viewer_time:n}),(0,r.default)(this.data,{viewer_time:n}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:e}),(0,r.default)(this.data,{viewer_time:e}),this.send("devicewake"))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(39),o=n(3),s=i(o),u=n(43),c=i(u),l=n(10),h=i(l),d=n(15),f=i(d),p=n(44),m=i(p),v=n(46),g=i(v),y=n(0),_=i(y),b=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id"],w=["viewstart","error","ended","viewend"],T=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.mux=t,this.envKey=e,this.eventQueue=new m.default((0,c.default)(e,n.beaconDomain)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=n.sampleRate,this.disableCookies=n.disableCookies,this.respectDoNotTrack=n.respectDoNotTrack,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed_version:this.mux.VERSION,page_url:window.location.href,viewer_application_name:g.default.name,viewer_application_version:g.default.version,viewer_application_engine:g.default.layout,viewer_device_name:g.default.product,viewer_device_category:"",viewer_device_manufacturer:g.default.manufacturer,viewer_os_family:g.default.os&&g.default.os.family,viewer_os_architecture:g.default.os&&g.default.os.architecture,viewer_os_version:g.default.os&&g.default.os.version},this.viewerData=this.disableCookies?{}:(0,a.getAndUpdateViewerData)()};T.prototype.send=function(t,e){if(t){if(this.respectDoNotTrack&&(0,h.default)())return s.default.info("Not sending `"+t+"` because Do Not Track is enabled in your browser");if(!e||"object"!==(void 0===e?"undefined":r(e)))return s.default.error("A data object was expected in send() but was not provided");var n=this.disableCookies?{}:(0,a.getAndUpdateSessionData)(),i={};(0,_.default)(i,this.pageLevelData),(0,_.default)(i,e),(0,_.default)(i,n),(0,_.default)(i,this.viewerData),i.event=t,i.env_key=this.envKey,i.user_id&&(i.viewer_user_id=i.user_id,delete i.user_id);var o=i.mux_sample_number>=this.sampleRate,u=this._deduplicateBeaconData(t,i),c=(0,f.default)(u);if(this.lastEventTime=Date.now(),o)return s.default.info("Not sending event due to sample rate restriction",t,i,c);if(!this.envKey)return s.default.info("Not sending event due to missing environment key",t,i,c);if(!this.rateLimited)if(s.default.info("Sending event",t,i,c),this.rateLimited=!this.eventQueue.queueEvent(t,c),this.mux.WINDOW_UNLOADING&&"viewend"===t)this.eventQueue.destroy(!0);else if(w.indexOf(t)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return i.event="eventrateexceeded",c=(0,f.default)(i),this.eventQueue.queueEvent(i.event,c),s.default.error("Beaconing disabled due to rate limit.")}},T.prototype.destroy=function(){this.eventQueue.destroy(!1)};var S=function(t,e,n,i){return!(!t||0!==e.indexOf("request_")||"request_response_headers"!==e&&"object"===(void 0===n?"undefined":r(n))&&"object"===(void 0===i?"undefined":r(i))&&Object.keys(n||{}).length===Object.keys(i||{}).length)};T.prototype._deduplicateBeaconData=function(t,e){var n=this,i={},r=e.view_id;if(!r||"viewstart"===t||"viewend"===t||!this.previousBeaconData||Date.now()-this.lastEventTime>=6e5)i=(0,_.default)({},e),r&&(this.previousBeaconData=i),r&&"viewend"===t&&(this.previousBeaconData=null);else{var a=0===t.indexOf("request");Object.keys(e).forEach(function(t){var r=e[t];(r!==n.previousBeaconData[t]||b.indexOf(t)>-1||S(a,t,r,n.previousBeaconData[t]))&&(i[t]=r,n.previousBeaconData[t]=r)})}return i},e.default=T},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getAndUpdateSessionData=e.getAndUpdateViewerData=void 0;var r=n(12),a=i(r),o=n(42),s=i(o),u=n(6),c=function(){var t=void 0;try{t=a.default.parse(s.default.get("muxData")||"")}catch(e){t={}}return t},l=function(t){s.default.set("muxData",a.default.stringify(t),{expires:7300})};e.getAndUpdateViewerData=function(){var t=c();return t.mux_viewer_id=t.mux_viewer_id||(0,u.generateUUID)(),t.msn=t.msn||Math.random(),l(t),{mux_viewer_id:t.mux_viewer_id,mux_sample_number:t.msn}},e.getAndUpdateSessionData=function(){var t=c(),e=Date.now();return t.session_start&&(t.sst=t.session_start,delete t.session_start),t.session_id&&(t.sid=t.session_id,delete t.session_id),t.session_expires&&(t.sex=t.session_expires,delete t.session_expires),(!t.sex||t.sex<e)&&(t.sid=(0,u.generateUUID)(),t.sst=e),t.sex=e+15e5,l(t),{session_id:t.sid,session_start:t.sst,session_expires:t.sex}}},function(t,e,n){"use strict";var i=n(13),r=n(14),a={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},o=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(t){return o.call(t)},skipNulls:!1,strictNullHandling:!1},u=function t(e,n,r,a,o,u,c,l,h,d,f,p){var m=e;if("function"==typeof c)m=c(n,m);else if(m instanceof Date)m=d(m);else if(null===m){if(a)return u&&!p?u(n,s.encoder):n;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||i.isBuffer(m))return u?[f(p?n:u(n,s.encoder))+"="+f(u(m,s.encoder))]:[f(n)+"="+f(String(m))];var v,g=[];if(void 0===m)return g;if(Array.isArray(c))v=c;else{var y=Object.keys(m);v=l?y.sort(l):y}for(var _=0;_<v.length;++_){var b=v[_];o&&null===m[b]||(g=Array.isArray(m)?g.concat(t(m[b],r(n,b),r,a,o,u,c,l,h,d,f,p)):g.concat(t(m[b],n+(h?"."+b:"["+b+"]"),r,a,o,u,c,l,h,d,f,p)))}return g};t.exports=function(t,e){var n=t,o=e?i.assign({},e):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===o.delimiter?s.delimiter:o.delimiter,l="boolean"==typeof o.strictNullHandling?o.strictNullHandling:s.strictNullHandling,h="boolean"==typeof o.skipNulls?o.skipNulls:s.skipNulls,d="boolean"==typeof o.encode?o.encode:s.encode,f="function"==typeof o.encoder?o.encoder:s.encoder,p="function"==typeof o.sort?o.sort:null,m=void 0!==o.allowDots&&o.allowDots,v="function"==typeof o.serializeDate?o.serializeDate:s.serializeDate,g="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:s.encodeValuesOnly;if(void 0===o.format)o.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,o.format))throw new TypeError("Unknown format option provided.");var y,_,b=r.formatters[o.format];"function"==typeof o.filter?(_=o.filter,n=_("",n)):Array.isArray(o.filter)&&(_=o.filter,y=_);var w,T=[];if("object"!=typeof n||null===n)return"";w=o.arrayFormat in a?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var S=a[w];y||(y=Object.keys(n)),p&&y.sort(p);for(var E=0;E<y.length;++E){var k=y[E];h&&null===n[k]||(T=T.concat(u(n[k],k,S,l,h,d?f:null,_,p,m,v,b,g)))}var x=T.join(c),C=!0===o.addQueryPrefix?"?":"";return x.length>0?C+x:""}},function(t,e,n){"use strict";var i=n(13),r=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(t,e){for(var n={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,s=i.split(e.delimiter,o),u=0;u<s.length;++u){var c,l,h=s[u],d=h.indexOf("]="),f=-1===d?h.indexOf("="):d+1;-1===f?(c=e.decoder(h,a.decoder),l=e.strictNullHandling?null:""):(c=e.decoder(h.slice(0,f),a.decoder),l=e.decoder(h.slice(f+1),a.decoder)),r.call(n,c)?n[c]=[].concat(n[c]).concat(l):n[c]=l}return n},s=function(t,e,n){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(i),s=o?i.slice(0,o.index):i,u=[];if(s){if(!n.plainObjects&&r.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}for(var c=0;null!==(o=a.exec(i))&&c<n.depth;){if(c+=1,!n.plainObjects&&r.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(o[1])}return o&&u.push("["+i.slice(o.index)+"]"),function(t,e,n){for(var i=e,r=t.length-1;r>=0;--r){var a,o=t[r];if("[]"===o)a=(a=[]).concat(i);else{a=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,u=parseInt(s,10);!isNaN(u)&&o!==s&&String(u)===s&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[])[u]=i:a[s]=i}i=a}return i}(u,e,n)}};t.exports=function(t,e){var n=e?i.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:a.delimiter,n.depth="number"==typeof n.depth?n.depth:a.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:a.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:a.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:a.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:a.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:a.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:a.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:a.strictNullHandling,""===t||null===t||void 0===t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?o(t,n):t,u=n.plainObjects?Object.create(null):{},c=Object.keys(r),l=0;l<c.length;++l){var h=c[l],d=s(h,r[h],n);u=i.merge(u,d,n)}return i.compact(u)}},function(t,e,n){"use strict";var i,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o){var s=!1;if(void 0!==(r="function"==typeof(i=o)?i.call(e,n,e,t):i)&&(t.exports=r),s=!0,"object"===a(e)&&(t.exports=o(),s=!0),!s){var u=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=u,c}}}(function(){var t=function(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e};return function e(n){function i(e,r,a){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(a=t({path:"/"},i.defaults,a)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(e){}return r=n.write?n.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",r,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}e||(o={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,l=0;l<u.length;l++){var h=u[l].split("="),d=h.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var f=h[0].replace(c,decodeURIComponent);if(d=n.read?n.read(d,f):n(d,f)||d.replace(c,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(e){}if(e===f){o=d;break}e||(o[f]=d)}catch(e){}}return o}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}(function(){})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t=t||"",e=e||"litix.io",t.match(/^[a-z0-9]+$/)?"https://"+t+"."+e:"https://img.litix.io/a.gif"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=i(r),o=n(3),s=i(o),u=n(45),c=i(u),l=n(0),h=i(l),d=n(15),f=i(d),p=!!a.default.XMLHttpRequest&&"withCredentials"in new a.default.XMLHttpRequest,m={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:5e3},v=function(t,e){this._beaconUrl=t||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,h.default)({},m,e)};v.prototype.queueEvent=function(t,e){var n=(0,h.default)({},e);return p?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===t)&&(this._eventQueue.push(n),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(c.default.send(this._beaconUrl,n),!0)},v.prototype.flushEvents=function(){p&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},v.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,t?this._clearBeaconQueue():this.flushEvents(),a.default.clearTimeout(this._sendTimeout)},v.prototype._clearBeaconQueue=function(){var t=a.default.navigator,e=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,n=this._eventQueue.slice(e);if(e>0&&(0,h.default)(n[n.length-1],(0,f.default)({mux_view_message:"event queue truncated"})),t.sendBeacon)t.sendBeacon(this._beaconUrl,JSON.stringify({events:n}));else if(a.default.XMLHttpRequest){var i=new a.default.XMLHttpRequest;i.open("POST",this._beaconUrl),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify({events:n}))}else c.default.send(this._beaconUrl,n[n.length-1])},v.prototype._sendBeaconQueue=function(){var t=this;if(a.default.XMLHttpRequest&&!this._postInFlight){var e=new a.default.XMLHttpRequest,n=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,e.onreadystatechange=function(){4===e.readyState&&(200!==e.status?(t._eventQueue=n.concat(t._eventQueue),t._failureCount+=1,s.default.info("Error sending beacon: "+e.status),s.default.info(e.responseText)):t._failureCount=0,t._postInFlight=!1)},e.open("POST",this._beaconUrl),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({events:n}))}},v.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var t=Math.pow(2,this._failureCount-1);return(1+(t*=Math.random()))*this._options.baseTimeBetweenBeacons},v.prototype._startBeaconSending=function(){var t=this;a.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=a.default.setTimeout(function(){t._eventQueue.length&&t._sendBeaconQueue(),t._startBeaconSending()},this._getNextBeaconTime()))},e.default=v},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),a=i(r),o=n(2),s=i(o),u={send:function(t,e){function n(){i.src=o+(r?"&rc="+r:"")}var i=new Image,r=0,o=t+"?"+a.default.stringify(e);return i.addEventListener("error",function(){r>3||s.default.setTimeout(function(){r++,n()},5e3*r)}),n(),i}};e.default=u},function(t,e,n){(function(t,i){var r;(function(){"use strict";function a(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1)}function o(t){return t=d(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:a(t)}function s(t,e){for(var n in t)S.call(t,n)&&e(t[n],n,t)}function u(t){return null==t?a(t):E.call(t).slice(8,-1)}function c(t,e){var n=null!=t?typeof t[e]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!t[e])}function l(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function h(t,e){var n=null;return function(t,e){var n=-1,i=t?t.length:0;if("number"==typeof i&&i>-1&&i<=_)for(;++n<i;)e(t[n],n,t);else s(t,e)}(t,function(i,r){n=e(n,i,r,t)}),n}function d(t){return String(t).replace(/^ +| +$/g,"")}var f={function:!0,object:!0},p=f[typeof window]&&window||this,m=p,v=f[typeof e]&&e,g=f[typeof t]&&t&&!t.nodeType&&t,y=v&&g&&"object"==typeof i&&i;!y||y.global!==y&&y.window!==y&&y.self!==y||(p=y);var _=Math.pow(2,53)-1,b=/\bOpera/,w=this,T=Object.prototype,S=T.hasOwnProperty,E=T.toString,k=function t(e){function n(t){return h(t,function(t,n){var i=n.pattern||l(n);return!t&&(t=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(i,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=o(t[0].replace(RegExp(i,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}var i=p,r=e&&"object"==typeof e&&"String"!=u(e);r&&(i=e,e=null);var a=i.navigator||{},f=a.userAgent||"";e||(e=f);var v,g,y=r||w==m,_=r?!!a.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(E.toString()),T=r?"Object":"ScriptBridgingProxyObject",S=r?"Object":"Environment",k=r&&i.java?"JavaPackage":u(i.java),x=r?"Object":"RuntimeObject",C=/\bJava/.test(k)&&i.java,A=C&&u(i.environment)==S,O=C?"a":"α",P=C?"b":"β",I=i.document||{},L=i.operamini||i.opera,M=b.test(M=r&&L?L["[[Class]]"]:u(L))?M:L=null,D=e,R=[],N=null,U=e==f,j=U&&L&&"function"==typeof L.version&&L.version(),B=h([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)}),F=h(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)}),H=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),q=h({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(t,n,i){return t||(n[H]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(H)]||RegExp("\\b"+l(i)+"(?:\\b|\\w*\\d)","i").exec(e))&&i}),V=h(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(t,n){var i=n.pattern||l(n);return!t&&(t=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function(t,e,n){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&n&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(i=i[/[\d.]+$/.exec(t)])&&(t="Windows "+i),t=String(t),e&&n&&(t=t.replace(RegExp(e,"i"),n)),t=o(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,i,n.label||n)),t});if(B&&(B=[B]),q&&!H&&(H=n([q])),(v=/\bGoogle TV\b/.exec(H))&&(H=v[0]),/\bSimulator\b/i.test(e)&&(H=(H?H+" ":"")+"Simulator"),"Opera Mini"==F&&/\bOPiOS\b/.test(e)&&R.push("running in Turbo/Uncompressed mode"),"IE"==F&&/\blike iPhone OS\b/.test(e)?(v=t(e.replace(/like iPhone OS/,"")),q=v.manufacturer,H=v.product):/^iP/.test(H)?(F||(F="Safari"),V="iOS"+((v=/ OS ([\d_]+)/i.exec(e))?" "+v[1].replace(/_/g,"."):"")):"Konqueror"!=F||/buntu/i.test(V)?q&&"Google"!=q&&(/Chrome/.test(F)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(H))||/\bAndroid\b/.test(V)&&/^Chrome/.test(F)&&/\bVersion\//i.test(e)?(F="Android Browser",V=/\bAndroid\b/.test(V)?V:"Android"):"Silk"==F?(/\bMobi/i.test(e)||(V="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&R.unshift("accelerated")):"PaleMoon"==F&&(v=/\bFirefox\/([\d.]+)\b/.exec(e))?R.push("identifying as Firefox "+v[1]):"Firefox"==F&&(v=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(V||(V="Firefox OS"),H||(H=v[1])):!F||(v=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(F))?(F&&!H&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(v+"/")+8))&&(F=null),(v=H||q||V)&&(H||q||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(V))&&(F=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(V)?V:v)+" Browser")):"Electron"==F&&(v=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&R.push("Chromium "+v):V="Kubuntu",j||(j=function(t){return h(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",l(F),"(?:Firefox|Minefield|NetFront)"])),(v=("iCab"==B&&parseFloat(j)>3?"WebKit":/\bOpera\b/.test(F)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(B)&&"WebKit"||!B&&/\bMSIE\b/i.test(e)&&("Mac OS"==V?"Tasman":"Trident")||"WebKit"==B&&/\bPlayStation\b(?! Vita\b)/i.test(F)&&"NetFront")&&(B=[v]),"IE"==F&&(v=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(F+=" Mobile",V="Windows Phone "+(/\+$/.test(v)?v:v+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(F="IE Mobile",V="Windows Phone 8.x",R.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=F&&"Trident"==B&&(v=/\brv:([\d.]+)/.exec(e))&&(F&&R.push("identifying as "+F+(j?" "+j:"")),F="IE",j=v[1]),U){if(c(i,"global"))if(C&&(v=C.lang.System,D=v.getProperty("os.arch"),V=V||v.getProperty("os.name")+" "+v.getProperty("os.version")),y&&c(i,"system")&&(v=[i.system])[0]){V||(V=v[0].os||null);try{v[1]=i.require("ringo/engine").version,j=v[1].join("."),F="RingoJS"}catch(e){v[0].global.system==i.system&&(F="Narwhal")}}else"object"==typeof i.process&&!i.process.browser&&(v=i.process)?"object"==typeof v.versions?"string"==typeof v.versions.electron?(R.push("Node "+v.versions.node),F="Electron",j=v.versions.electron):"string"==typeof v.versions.nw&&(R.push("Chromium "+j,"Node "+v.versions.node),F="NW.js",j=v.versions.nw):(F="Node.js",D=v.arch,V=v.platform,j=(j=/[\d.]+/.exec(v.version))?j[0]:"unknown"):A&&(F="Rhino");else u(v=i.runtime)==T?(F="Adobe AIR",V=v.flash.system.Capabilities.os):u(v=i.phantom)==x?(F="PhantomJS",j=(v=v.version||null)&&v.major+"."+v.minor+"."+v.patch):"number"==typeof I.documentMode&&(v=/\bTrident\/(\d+)/i.exec(e))?(j=[j,I.documentMode],(v=+v[1]+4)!=j[1]&&(R.push("IE "+j[1]+" mode"),B&&(B[1]=""),j[1]=v),j="IE"==F?String(j[1].toFixed(1)):j[0]):"number"==typeof I.documentMode&&/^(?:Chrome|Firefox)\b/.test(F)&&(R.push("masking as "+F+" "+j),F="IE",j="11.0",B=["Trident"],V="Windows");V=V&&o(V)}if(j&&(v=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(U&&a.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(N=/b/i.test(v)?"beta":"alpha",j=j.replace(RegExp(v+"\\+?$"),"")+("beta"==N?P:O)+(/\d+\+?/.exec(v)||"")),"Fennec"==F||"Firefox"==F&&/\b(?:Android|Firefox OS)\b/.test(V))F="Firefox Mobile";else if("Maxthon"==F&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(H))"Xbox 360"==H&&(V=null),"Xbox 360"==H&&/\bIEMobile\b/.test(e)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(F)&&(!F||H||/Browser|Mobi/.test(F))||"Windows CE"!=V&&!/Mobi/i.test(e))if("IE"==F&&U)try{null===i.external&&R.unshift("platform preview")}catch(e){R.unshift("embedded")}else(/\bBlackBerry\b/.test(H)||/\bBB10\b/.test(e))&&(v=(RegExp(H.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||j)?(v=[v,/BB10/.test(e)],V=(v[1]?(H=null,q="BlackBerry"):"Device Software")+" "+v[0],j=null):this!=s&&"Wii"!=H&&(U&&L||/Opera/.test(F)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==F&&/\bOS X (?:\d+\.){2,}/.test(V)||"IE"==F&&(V&&!/^Win/.test(V)&&j>5.5||/\bWindows XP\b/.test(V)&&j>8||8==j&&!/\bTrident\b/.test(e)))&&!b.test(v=t.call(s,e.replace(b,"")+";"))&&v.name&&(v="ing as "+v.name+((v=v.version)?" "+v:""),b.test(F)?(/\bIE\b/.test(v)&&"Mac OS"==V&&(V=null),v="identify"+v):(v="mask"+v,F=M?o(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(v)&&(V=null),U||(j=null)),B=["Presto"],R.push(v));else F+=" Mobile";(v=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(v=[parseFloat(v.replace(/\.(\d)$/,".0$1")),v],"Safari"==F&&"+"==v[1].slice(-1)?(F="WebKit Nightly",N="alpha",j=v[1].slice(0,-1)):j!=v[1]&&j!=(v[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(j=null),v[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==v[0]&&537.36==v[2]&&parseFloat(v[1])>=28&&"WebKit"==B&&(B=["Blink"]),U&&(_||v[1])?(B&&(B[1]="like Chrome"),v=v[1]||((v=v[0])<530?1:v<532?2:v<532.05?3:v<533?4:v<534.03?5:v<534.07?6:v<534.1?7:v<534.13?8:v<534.16?9:v<534.24?10:v<534.3?11:v<535.01?12:v<535.02?"13+":v<535.07?15:v<535.11?16:v<535.19?17:v<536.05?18:v<536.1?19:v<537.01?20:v<537.11?"21+":v<537.13?23:v<537.18?24:v<537.24?25:v<537.36?26:"Blink"!=B?"27":"28")):(B&&(B[1]="like Safari"),v=(v=v[0])<400?1:v<500?2:v<526?3:v<533?4:v<534?"4+":v<535?5:v<537?6:v<538?7:v<601?8:"8"),B&&(B[1]+=" "+(v+="number"==typeof v?".x":/[.+]/.test(v)?"":"+")),"Safari"==F&&(!j||parseInt(j)>45)&&(j=v)),"Opera"==F&&(v=/\bzbov|zvav$/.exec(V))?(F+=" ",R.unshift("desktop mode"),"zvav"==v?(F+="Mini",j=null):F+="Mobile",V=V.replace(RegExp(" *"+v+"$"),"")):"Safari"==F&&/\bChrome\b/.exec(B&&B[1])&&(R.unshift("desktop mode"),F="Chrome Mobile",j=null,/\bOS X\b/.test(V)?(q="Apple",V="iOS 4.3+"):V=null),j&&0==j.indexOf(v=/[\d.]+$/.exec(V))&&e.indexOf("/"+v+"-")>-1&&(V=d(V.replace(v,""))),B&&!/\b(?:Avant|Nook)\b/.test(F)&&(/Browser|Lunascape|Maxthon/.test(F)||"Safari"!=F&&/^iOS/.test(V)&&/\bSafari\b/.test(B[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(F)&&B[1])&&(v=B[B.length-1])&&R.push(v),R.length&&(R=["("+R.join("; ")+")"]),q&&H&&H.indexOf(q)<0&&R.push("on "+q),H&&R.push((/^on /.test(R[R.length-1])?"":"on ")+H),V&&(v=/ ([\d.+]+)$/.exec(V),g=v&&"/"==V.charAt(V.length-v[0].length-1),V={architecture:32,family:v&&!g?V.replace(v[0],""):V,version:v?v[1]:null,toString:function(){var t=this.version;return this.family+(t&&!g?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(v=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(D))&&!/\bi686\b/i.test(D)?(V&&(V.architecture=64,V.family=V.family.replace(RegExp(" *"+v),"")),F&&(/\bWOW64\b/i.test(e)||U&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(e))&&R.unshift("32-bit")):V&&/^OS X/.test(V.family)&&"Chrome"==F&&parseFloat(j)>=39&&(V.architecture=64),e||(e=null);var $={};return $.description=e,$.layout=B&&B[0],$.manufacturer=q,$.name=F,$.prerelease=N,$.product=H,$.ua=e,$.version=F&&j,$.os=V||{architecture:null,family:null,version:null,toString:function(){return"null"}},$.parse=t,$.toString=function(){return this.description||""},$.version&&R.unshift(j),$.name&&R.unshift(F),V&&F&&(V!=String(V).split(" ")[0]||V!=F.split(" ")[0]&&!H)&&R.push(H?"("+V+")":"on "+V),R.length&&($.description=R.join(" ")),$}();p.platform=k,void 0!==(r=function(){return k}.call(e,n,e,t))&&(t.exports=r)}).call(this)}).call(e,n(11)(t),n(5))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=0,e=0,n=0,i=0;this.on("requestcompleted",function(r,a){var o=a.request_start,s=a.request_response_start,u=a.request_response_end,c=a.request_bytes_loaded,l=s-o,h=u-s;if(l>0&&h>0&&c>0){var d=c/h*8e3;i++,t+=l,e+=c,n+=h,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,d),this.data.view_average_request_throughput=e/n*8e3,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,l),this.data.view_average_request_latency=t/i}}),this.on("requestfailed",function(t,e){}),this.on("requestcanceled",function(t,e){})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.default=function(t,e,n){var r=(0,o.findMediaElement)(e),c=i(r,3),l=c[0],h=c[1],d=c[2],f=t.log,p=t.utils.getComputedStyle,m=t.utils.secondsToMs;return l?"video"!==d&&"audio"!==d?f.error("The element of `"+h+"` was not a media element."):((n=n||{}).data=(0,a.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.5.0"},n.data),n.getPlayheadTime=function(){return m(l.currentTime)},n.getStateData=function(){return{player_is_paused:l.paused,player_playhead_time:m(l.currentTime),player_width:parseInt(p(l,"width")),player_height:parseInt(p(l,"height")),player_autoplay_on:l.autoplay,player_preload_on:l.preload,video_poster_url:l.poster,video_source_url:l.currentSrc,video_source_duration:m(l.duration),video_source_height:l.videoHeight,video_source_width:l.videoWidth}},l.mux=l.mux||{},l.mux.destroy=function(){Object.keys(l.mux.listeners).forEach(function(t){l.removeEventListener(t,l.mux.listeners[t],!1)}),delete l.mux.listeners,t.emit(h,"destroy")},l.mux.swapElement=function(e){var n=(0,o.findMediaElement)(e),r=i(n,3),s=r[0],u=r[1],c=r[2];return s?"video"!==c&&"audio"!==c?t.log.error("The element of `"+u+"` was not a media element."):(s.muxId=l.muxId,delete l.muxId,s.mux=s.mux||{},s.mux.listeners=(0,a.default)({},l.mux.listeners),delete l.mux.listeners,Object.keys(s.mux.listeners).forEach(function(t){l.removeEventListener(t,s.mux.listeners[t],!1),s.addEventListener(t,s.mux.listeners[t],!1)}),s.mux.swapElement=l.mux.swapElement,s.mux.destroy=l.mux.destroy,delete l.mux,void(l=s)):t.log.error("No element was found with the `"+u+"` query selector.")},l.mux.addHLSJS=function(e){t.addHLSJS(h,e)},l.mux.addDashJS=function(e){t.addDashJS(h,e)},l.mux.removeHLSJS=function(){t.removeHLSJS(h)},l.mux.removeDashJS=function(){t.removeDashJS(h)},t.init(h,n),t.emit(h,"playerready"),l.paused||(t.emit(h,"play"),l.readyState>2&&t.emit(h,"playing")),l.mux.listeners={},void s.forEach(function(e){l.mux.listeners[e]=function(){var n={};"error"===e&&(n.player_error_code=l.error&&l.error.code,n.player_error_message=l.error&&u[l.error.code]),t.emit(h,e,n)},l.addEventListener(e,l.mux.listeners[e],!1)})):f.error("No element was found with the `"+h+"` query selector.")};var r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=n(9),s=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],u={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(50),a=i(r),o=n(1),s=i(o),u=n(51),c=i(u),l=n(52),h=i(l),d=n(0),f=i(d),p=n(8),m=i(p),v=n(4),g={};g.safeCall=a.default,g.safeIncrement=s.default,g.getComputedStyle=c.default,g.secondsToMs=h.default,g.assign=f.default,g.headersStringToObject=m.default,g.extractHostnameAndDomain=v.extractHostnameAndDomain,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){var a=i;if(t&&"function"==typeof t[e])try{a=t[e].apply(t,n)}catch(t){r.default.info("safeCall error",t)}return a};var i=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(r.default.defaultView&&r.default.defaultView.getComputedStyle)return r.default.defaultView.getComputedStyle(t,null).getPropertyValue(e)};var i=n(7),r=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Math.floor(1e3*t)}}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}},o=!1;t.on("adstart",function(){o=!0}),t.on("adend",function(){o=!1}),t.on("adserror",function(){o=!1});var s=function(){var r=i(e.currentTime()),s=function n(){var s=Date.now(),u=i(e.currentTime());if(o){if(u>r){var c=a();c.viewer_time=s-Math.max(0,u-r),e.off("timeupdate",n),t.mux.emit("adplaying",c)}}else e.off("timeupdate",n)};e.on("timeupdate",s);var u=function t(){e.off("timeupdate",s),n.forEach(function(n){e.off(n,t)})};n.forEach(function(t){e.on(t,u)})};r.forEach(function(t){e.on(t,s)})};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(0)).default.utils.secondsToMs},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),a=i(n(0)),o=i(n(4)),s=i(n(6)),u=i(n(7)),c=i(n(8)),l=i(n(9)),h=i(n(10)),d=a.default.log,f=a.default.utils.assign,p=a.default.utils.safeCall,m=a.default.utils.getComputedStyle,v=a.default.utils.secondsToMs,g=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"];(r.default.registerPlugin||r.default.plugin||function(){a.default.log.error("No valid method to register videojs plugin available.")})("mux",function(t){if(r.default.IS_IE8)return!1;var e=this,n=e.id();(t=t||{}).data=f({player_software_name:"Video.js",player_software_version:r.default.VERSION||"< 4.11",player_mux_plugin_name:"videojs-mux",player_mux_plugin_version:"2.4.2"},t.data),t.getPlayheadTime=function(){return v(e.currentTime())},t.getStateData=function(){var t=p(e,"videoHeight"),n=p(e,"videoWidth");if(void 0===n||void 0===t){var i=e.el().firstChild;i&&"VIDEO"===i.nodeName.toUpperCase()&&(t=i.videoHeight,n=i.videoWidth)}return{player_is_paused:p(e,"paused"),player_is_fullscreen:p(e,"isFullscreen"),player_autoplay_on:!!p(e,"autoplay"),player_preload_on:p(e,"preload"),player_width:m(e.el(),"width"),player_height:m(e.el(),"height"),player_language_code:p(e,"language"),video_poster_url:p(e,"poster"),video_source_url:p(e,"currentSrc"),video_source_mime_type:p(e,"currentType"),video_source_duration:v(p(e,"duration")||0),video_source_height:t,video_source_width:n}},e.mux=function(){d.error("[videojs-mux] The plugin was initialized more than once.")},e.mux.emit=function(t,e){a.default.emit(n,t,e)},e.mux.log=d,e.mux.utils=a.default.utils,a.default.init(n,t);var i=!1,h=function(){i||e.mux.emit("playerready"),i=!0};e.ready(function(){e.addClass("vjs-mux"),o.default.setTimeout(h,0)});var y=!1;e.one("play",h),g.forEach(function(t){e.on(t,function(){if(!y){var n={};if("error"===t){var i=p(e,"error");n.player_error_code=i&&i.code,n.player_error_message=i&&i.message}e.mux.emit(t,n)}})});var _=!1;e.on("play",function(){_=!0}),e.on("pause",function(){_=!1}),e.on("adstart",function(){y=!0,_&&e.mux.emit("pause"),e.mux.emit("adbreakstart")}),e.on("adend",function(){e.mux.emit("adbreakend"),y=!1,p(e,"paused")||(e.mux.emit("play"),_=!0,e.onceux&&e.mux.emit("playing"))}),e.ima&&(0,s.default)(e),e.onceux&&(0,l.default)(e),e.ima3&&"function"==typeof e.ima3.ready&&(0,u.default)(e),e.FreeWheelPlugin&&e.FreeWheelPlugin.VERSION&&(0,c.default)(e),e.on("dispose",function(){e.mux.emit("destroy")})}),(0,h.default)(r.default),e.default={}},function(e,n){e.exports=t},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,n(5))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=function(e){var n="function"==typeof(e=e||{}).getAdData?e.getAdData():{},i="function"==typeof e.getAd?e.getAd():{},r="function"==typeof i.getMediaUrl?i.getMediaUrl():n.mediaUrl,a=t.ima.settings||{},o={};return r&&(o.ad_asset_url=r),a.adTagUrl&&(o.ad_tag_url=a.adTagUrl),o},n=void 0,i=void 0,r=void 0,a=void 0,o=void 0,s=void 0;try{var u=window.google.ima.AdEvent.Type;n=u.LOADED,i=u.STARTED,r=u.COMPLETE,a=u.PAUSED,o=u.RESUMED,s=u.SKIPPED}catch(t){n="loaded",i="start",r="complete",a="pause",o="resume",s="skip"}var c=0;t.mux.triggerAdRequest=function(){c++,t.mux.emit("adrequest",e())},t.on("adsready",function(){var u=t.ima.addEventListener||function(){};u(n,function(n){var i=e(n);c>0&&(c--,t.mux.emit("adresponse",i)),t.mux.emit("adplay",i)}),u(i,function(n){var i=e(n);t.mux.emit("adplaying",i)}),u(o,function(n){var i=e(n);t.mux.emit("adplay",i),t.mux.emit("adplaying",i)}),u(a,function(n){var i=e(n);t.mux.emit("adpause",i)}),u(r,function(n){var i=e(n);t.mux.emit("adended",i)}),u(s,function(n){var i=e(n);t.mux.emit("adended",i)}),t.on("adserror",function(){c>0&&(c--,t.mux.emit("adresponse")),t.mux.emit("aderror")})})}},function(t,e,n){"use strict";function i(t){if("string"!=typeof t)return!1;var e=t.split(".").map(function(t){return parseInt(t)}),n=e[0],i=e[1];return n>2||2===n&&i>=3}Object.defineProperty(e,"__esModule",{value:!0}),e.brightcoveImaAdsEventsSupported=i,e.default=function(t){var e=function(){var e=t.ima3.currentAd,n=t.ima3.settings,i={};return e&&(i.ad_asset_url=e.mediaUrl),n&&(i.ad_tag_url=n.serverUrl),i};if(i(t.ima3.version)){var n=0,a=function(){n>0&&(n--,t.mux.emit("adresponse",e()))};t.on("ads-request",function(){n++,t.mux.emit("adrequest",e())}),t.on("ads-load",function(){a(),t.mux.emit("adplay",e())}),t.on("adserror",function(){a(),t.mux.emit("aderror")}),t.on("ads-play",function(){t.mux.emit("adplay",e())}),t.on("ads-pause",function(){t.mux.emit("adpause",e())}),t.on("ads-ad-ended",function(){t.mux.emit("adended",e())})}t.ima3.ready(function(){t.ima3.adPlayer?(i(t.ima3.version)||(t.ima3.adPlayer.on("play",function(){t.mux.emit("adplay")}),t.ima3.adPlayer.on("pause",function(){t.mux.emit("adpause")}),t.ima3.adPlayer.on("ended",function(){t.mux.emit("adended")})),(0,r.default)(t,t.ima3.adPlayer,["pause","ended","adserror"],["play"],e)):(t.mux.log("Legacy IMA3 plugin found, ad events may not track correctly."),t.on("ads-ad-started",function(){t.mux.emit("adplaying",e())}),t.on("ads-play",function(){t.mux.emit("adplaying",e())}))})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=function(e){var n=t.FreeWheelPlugin,i={};switch(e){case"adplay":case"adplaying":case"adpause":i.ad_asset_url=t.currentSrc()}return n&&(i.ad_tag_url="html5"===n.tech.toLowerCase()?n.settings.Html5.serverUrl:n.settings.Flash.serverUrl),i};t.on("ads-request",function(){t.mux.emit("adrequest",e("adrequest"))}),t.on("ads-load",function(){t.mux.emit("adresponse",e("adresponse"))}),t.on("adserror",function(){t.mux.emit("aderror")}),t.on("ads-ad-started",function(){t.mux.emit("adplay",e("adplay")),t.mux.emit("adplaying",e("adplaying"))}),t.on("ads-play",function(){t.mux.emit("adplay",e("adplay")),t.mux.emit("adplaying",e("adplaying"))}),t.on("ads-pause",function(){t.mux.emit("adpause",e("adpause"))}),t.on("ads-ad-ended",function(){t.mux.emit("adended",e("adended"))}),t.on("adend",function(){t.mux.emit("play")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(t,t,["onceux-linearad-pause","onceux-linearad-skipped","onceux-linearad-complete","adserror"],["adstart","onceux-linearad-resume"]),t.on("adstart",function(){t.mux.emit("adplay")}),t.on("onceux-linearad-start",function(e){e.linearAd&&e.linearAd.index>0&&(t.mux.emit("adplay"),t.mux.emit("adplaying"))}),t.on("onceux-linearad-resume",function(){t.mux.emit("adplay")}),t.on("onceux-linearad-pause",function(){t.mux.emit("adpause")}),t.on("onceux-linearad-complete",function(){t.mux.emit("adended")}),t.on("onceux-linearad-skipped",function(){t.mux.emit("adended")})};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!r&&"function"==typeof t.getTech){for(var e=(t.getTech("Html5")||{}).sourceHandlers,n=0;n<e.length;n++)!function(n){var r=e[n],a=r.handleSource;r.handleSource=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a(e,n,r);if(o&&"function"==typeof o.xhr)try{(0,i.default)(t(o.player_.el_.parentNode.id),o.xhr)}catch(t){}return o}}(n);r=!0}};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(11)),r=!1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=function(e,n,r){var a=(0,i.default)(t,e,n);return function(){try{a()}catch(t){}try{r()}catch(t){}}},r=function(t){return function(e){var i=Date.now();try{t(e)}catch(t){}try{e.onreadystatechange=n(e,i,e.onreadystatechange||function(){})}catch(t){}}};e.beforeRequest=function(t){return function(e){var n=t(e);return n.beforeSend=r(n.beforeSend||function(){}),n}}(e.beforeRequest||function(t){return t})};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(12))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.default=function(t,e,n){var r=t.mux.utils.extractHostnameAndDomain,a=t.mux.utils.headersStringToObject,o=0;return function(){var s=e.readyState;if(s>=2){if(o=o||Date.now(),4!==s)return;if(e.status>=200&&e.status<300){var u=Date.now(),c="arraybuffer"===e.responseType?e.response.byteLength:e.responseText.length,l=r(e.responseURL),h=i(l,1)[0],d=a(e.getAllResponseHeaders?e.getAllResponseHeaders():""),f=function(t){var e=t["content-type"];return e?e.match(/^audio\/mpegurl/i)?"manifest":e.match(/^audio.*/i)?"audio":e.match(/^video.*/)?"video":e.match(/^application\/x-mpegurl/i)?"manifest":e.match(/^application\/vnd.apple.mpegurl/i)?"manifest":e.match(/^application\/dash+xml/i)?"manifest":"unknown":"unknown"}(d),p={request_start:n,request_response_start:o,request_response_end:u,request_bytes_loaded:c,request_hostname:h,request_response_headers:d,request_type:f};t.mux.emit("requestcompleted",p)}else t.mux.emit("requestfailed")}}}}])},t.exports=i(n(72))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(73),r=n.n(i),a=n(74),o=n.n(a),s=n(78),u=n.n(s),c=n(79),l=n.n(c),h=n(86),d=n.n(h),f=n(10),p=n.n(f),m=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},y=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},_=function(){function t(){m(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t],n=void 0,i=void 0,r=void 0;if(e)if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=e.length,n=0;n<i;++n)e[n].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),b=function(t){function e(){m(this,e);var n=y(this,t.call(this));return n.buffer="",n}return g(e,t),e.prototype.push=function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(_),w=function(t){for(var e=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=e.length,r=void 0;i--;)""!==e[i]&&((r=/([^=]*)=(.*)/.exec(e[i]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n},T=function(t){function e(){m(this,e);var n=y(this,t.call(this));return n.customParsers=[],n}return g(e,t),e.prototype.push=function(t){var e=void 0,n=void 0;if(0!==(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===t[0]){for(var i=0;i<this.customParsers.length;i++)if(this.customParsers[i].call(this,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var r=w(e[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var a=r.BYTERANGE.split("@"),o=a[0],s=a[1];n.byterange={},o&&(n.byterange.length=parseInt(o,10)),s&&(n.byterange.offset=parseInt(s,10))}}this.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=w(e[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),c={};u[0]&&(c.width=parseInt(u[0],10)),u[1]&&(c.height=parseInt(u[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=w(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))this.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=w(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=w(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:t.slice(4)})}}}else this.trigger("data",{type:"comment",text:t.slice(1)})}else this.trigger("data",{type:"uri",uri:t})},e.prototype.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,a=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:a}),!0})},e}(_),S=function(t){function e(){m(this,e);var n=y(this,t.call(this));n.lineStream=new b,n.parseStream=new T,n.lineStream.pipe(n.parseStream);var i=n,r=[],a={},o=void 0,s=void 0,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},n.parseStream.on("data",function(t){var e=void 0,n=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(a.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(s.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):s=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){o={},t.uri&&(o.uri=t.uri),t.byterange&&(o.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes?(a.attributes||(a.attributes={}),v(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var i=this.manifest.mediaGroups[t.attributes.TYPE];i[t.attributes["GROUP-ID"]]=i[t.attributes["GROUP-ID"]]||{},e=i[t.attributes["GROUP-ID"]],(n={default:/yes/i.test(t.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(n.language=t.attributes.LANGUAGE),t.attributes.URI&&(n.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(n.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(n.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(n.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}})[t.tagType]||function(){}).call(i)},uri:function(){a.uri=t.uri,r.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),s&&(a.key=s),a.timeline=c,o&&(a.map=o),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(i)}),n}return g(e,t),e.prototype.push=function(t){this.lineStream.push(t)},e.prototype.end=function(){this.lineStream.push("\n")},e.prototype.addParser=function(t){this.parseStream.addParser(t)},e}(_),E=n(87),k=n.n(E),x=n(89),C=n(11),A=n.n(C),O=n(91),P=n(105),I=n.n(P);var L=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),D=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},R=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,o=void 0,s=void 0,u=[],c=[],l=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(a=0;a<256;a++)c[(u[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!i[o];o^=l||1,s=c[s]||1)for(d=(d=s^s<<1^s<<2^s<<3^s<<4)>>8^255&d^99,i[o]=d,r[d]=o,p=16843009*u[h=u[l=u[o]]]^65537*h^257*l^16843008*o,f=257*u[d]^16843008*d,a=0;a<4;a++)e[a][o]=f=f<<24^f>>>8,n[a][d]=p=p<<24^p>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t},N=null,U=function(){function t(e){L(this,t),N||(N=R()),this._tables=[[N[0][0].slice(),N[0][1].slice(),N[0][2].slice(),N[0][3].slice(),N[0][4].slice()],[N[1][0].slice(),N[1][1].slice(),N[1][2].slice(),N[1][3].slice(),N[1][4].slice()]];var n=void 0,i=void 0,r=void 0,a=void 0,o=void 0,s=this._tables[0][4],u=this._tables[1],c=e.length,l=1;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size");for(a=e.slice(0),o=[],this._key=[a,o],n=c;n<4*c+28;n++)r=a[n-1],(n%c==0||8===c&&n%c==4)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],n%c==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),a[n]=a[n-c]^r;for(i=0;n;i++,n--)r=a[3&i?n:n-4],o[i]=n<=4||i<4?r:u[0][s[r>>>24]]^u[1][s[r>>16&255]]^u[2][s[r>>8&255]]^u[3][s[255&r]]}return t.prototype.decrypt=function(t,e,n,i,r,a){var o=this._key[1],s=t^o[0],u=i^o[1],c=n^o[2],l=e^o[3],h=void 0,d=void 0,f=void 0,p=o.length/4-2,m=void 0,v=4,g=this._tables[1],y=g[0],_=g[1],b=g[2],w=g[3],T=g[4];for(m=0;m<p;m++)h=y[s>>>24]^_[u>>16&255]^b[c>>8&255]^w[255&l]^o[v],d=y[u>>>24]^_[c>>16&255]^b[l>>8&255]^w[255&s]^o[v+1],f=y[c>>>24]^_[l>>16&255]^b[s>>8&255]^w[255&u]^o[v+2],l=y[l>>>24]^_[s>>16&255]^b[u>>8&255]^w[255&c]^o[v+3],v+=4,s=h,u=d,c=f;for(m=0;m<4;m++)r[(3&-m)+a]=T[s>>>24]<<24^T[u>>16&255]<<16^T[c>>8&255]<<8^T[255&l]^o[v++],h=s,s=u,u=c,c=l,l=h},t}(),j=function(){function t(){L(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,o=0;o<a;++o)e[o].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),B=function(t){function e(){L(this,e);var n=D(this,t.call(this,j));return n.jobs=[],n.delay=1,n.timeout_=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(j),F=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},H=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new U(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),o=new Int32Array(a.buffer),s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0;for(s=n[0],u=n[1],c=n[2],l=n[3],m=0;m<i.length;m+=4)h=F(i[m]),d=F(i[m+1]),f=F(i[m+2]),p=F(i[m+3]),r.decrypt(h,d,f,p,o,m),o[m]=F(o[m]^s),o[m+1]=F(o[m+1]^u),o[m+2]=F(o[m+2]^c),o[m+3]=F(o[m+3]^l),s=h,u=d,c=f,l=p;return a},q=function(){function t(e,n,i,r){L(this,t);var a=t.STEP,o=new Int32Array(e.buffer),s=new Uint8Array(e.byteLength),u=0;for(this.asyncStream_=new B,this.asyncStream_.push(this.decryptChunk_(o.subarray(u,u+a),n,i,s)),u=a;u<o.length;u+=a)i=new Uint32Array([F(o[u-4]),F(o[u-3]),F(o[u-2]),F(o[u-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(u,u+a),n,i,s));this.asyncStream_.push(function(){var t;r(null,(t=s).subarray(0,t.byteLength-t[t.byteLength-1]))})}return t.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=H(t,e,n);i.set(r,t.byteOffset)}},M(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}(),V="7.4.1";function $(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t,e,n){return(W=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&z(r,n.prototype),r}).apply(null,arguments)}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t,e){return e||(e=t.slice(0)),t.raw=e,t}var X=[],K=function(t,e){return function(n,i,r){var a=e.levels[i],o=new RegExp("^("+a+")$");if("log"!==n&&r.unshift(n.toUpperCase()+":"),r.unshift(t+":"),X&&X.push([].concat(r)),p.a.console){var s=p.a.console[n];s||"debug"!==n||(s=p.a.console.info||p.a.console.log),s&&a&&o.test(n)&&s[Array.isArray(r)?"apply":"call"](p.a.console,r)}}};var Q=function t(e){var n,i="info",r=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n("log",i,e)};return n=K(e,r),r.createLogger=function(n){return t(e+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},r.level=function(t){if("string"==typeof t){if(!r.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');i=t}return i},(r.history=function(){return X?[].concat(X):[]}).filter=function(t){return(X||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},r.history.clear=function(){X&&(X.length=0)},r.history.disable=function(){null!==X&&(X.length=0,X=null)},r.history.enable=function(){null===X&&(X=[])},r.error=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n("error",i,e)},r.warn=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n("warn",i,e)},r.debug=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n("debug",i,e)},r}("VIDEOJS"),J=Q.createLogger,Z=Object.prototype.toString,tt=function(t){return it(t)?Object.keys(t):[]};function et(t,e){tt(t).forEach(function(n){return e(t[n],n)})}function nt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach(function(e){e&&et(e,function(e,n){t[n]=e})}),t)}function it(t){return!!t&&"object"==typeof t}function rt(t){return it(t)&&"[object Object]"===Z.call(t)&&t.constructor===Object}function at(t,e){if(!t||!e)return"";if("function"==typeof p.a.getComputedStyle){var n=p.a.getComputedStyle(t);return n?n[e]:""}return""}function ot(){var t=Y(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return ot=function(){return t},t}function st(t){return"string"==typeof t&&/\S/.test(t)}function ut(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function ct(){return k.a===p.a.document}function lt(t){return it(t)&&1===t.nodeType}function ht(){try{return p.a.parent!==p.a.self}catch(t){return!0}}function dt(t){return function(e,n){if(!st(e))return k.a[t](null);st(n)&&(n=k.a.querySelector(n));var i=lt(n)?n:k.a;return i[t]&&i[t](e)}}function ft(t,e,n,i){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===n&&(n={});var r=k.a.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(Q.warn(u()(ot(),t,n)),r.setAttribute(t,n)):"textContent"===t?pt(r,n):r[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){r.setAttribute(t,n[t])}),i&&Mt(r,i),r}function pt(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function mt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function vt(t,e){return ut(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function gt(t,e){return t.classList?t.classList.add(e):vt(t,e)||(t.className=(t.className+" "+e).trim()),t}function yt(t,e){return t.classList?t.classList.remove(e):(ut(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function _t(t,e,n){var i=vt(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?gt(t,e):yt(t,e),t}function bt(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];null===i||void 0===i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)})}function wt(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var a=i[r].name,o=i[r].value;"boolean"!=typeof t[a]&&-1===n.indexOf(","+a+",")||(o=null!==o),e[a]=o}return e}function Tt(t,e){return t.getAttribute(e)}function St(t,e,n){t.setAttribute(e,n)}function Et(t,e){t.removeAttribute(e)}function kt(){k.a.body.focus(),k.a.onselectstart=function(){return!1}}function xt(){k.a.onselectstart=function(){return!0}}function Ct(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(at(t,"height"))),n.width||(n.width=parseFloat(at(t,"width"))),n}}function At(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=k.a.documentElement,i=k.a.body,r=n.clientLeft||i.clientLeft||0,a=p.a.pageXOffset||i.scrollLeft,o=e.left+a-r,s=n.clientTop||i.clientTop||0,u=p.a.pageYOffset||i.scrollTop,c=e.top+u-s;return{left:Math.round(o),top:Math.round(c)}}function Ot(t,e){var n={},i=At(t),r=t.offsetWidth,a=t.offsetHeight,o=i.top,s=i.left,u=e.pageY,c=e.pageX;return e.changedTouches&&(c=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-u+a)/a)),n.x=Math.max(0,Math.min(1,(c-s)/r)),n}function Pt(t){return it(t)&&3===t.nodeType}function It(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Lt(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),lt(t)||Pt(t)?t:"string"==typeof t&&/\S/.test(t)?k.a.createTextNode(t):void 0}).filter(function(t){return t})}function Mt(t,e){return Lt(e).forEach(function(e){return t.appendChild(e)}),t}function Dt(t,e){return Mt(It(t),e)}function Rt(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||0===t.button&&1===t.buttons)}var Nt=dt("querySelector"),Ut=dt("querySelectorAll"),jt=Object.freeze({isReal:ct,isEl:lt,isInFrame:ht,createEl:ft,textContent:pt,prependTo:mt,hasClass:vt,addClass:gt,removeClass:yt,toggleClass:_t,setAttributes:bt,getAttributes:wt,getAttribute:Tt,setAttribute:St,removeAttribute:Et,blockTextSelection:kt,unblockTextSelection:xt,getBoundingClientRect:Ct,findPosition:At,getPointerPosition:Ot,isTextNode:Pt,emptyEl:It,normalizeContent:Lt,appendContent:Mt,insertContent:Dt,isSingleLeftClick:Rt,$:Nt,$$:Ut}),Bt=1;function Ft(){return Bt++}var Ht={},qt="vdata"+(new Date).getTime();function Vt(t){var e=t[qt];return e||(e=t[qt]=Ft()),Ht[e]||(Ht[e]={}),Ht[e]}function $t(t){var e=t[qt];return!!e&&!!Object.getOwnPropertyNames(Ht[e]).length}function zt(t){var e=t[qt];if(e){delete Ht[e];try{delete t[qt]}catch(e){t.removeAttribute?t.removeAttribute(qt):t[qt]=null}}}function Wt(t,e){var n=Vt(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&zt(t)}function Gt(t,e,n,i){n.forEach(function(n){t(e,n,i)})}function Yt(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||p.a.event;for(var r in t={},i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||k.a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var a=k.a.documentElement,o=k.a.body;t.pageX=t.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Xt=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){Xt=!0}});p.a.addEventListener("test",null,t),p.a.removeEventListener("test",null,t)}catch(t){}}();var Kt=["touchstart","touchmove"];function Qt(t,e,n){if(Array.isArray(e))return Gt(Qt,t,e,n);var i=Vt(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Ft()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=Yt(e);var r=i.handlers[e.type];if(r)for(var a=r.slice(0),o=0,s=a.length;o<s&&!e.isImmediatePropagationStopped();o++)try{a[o].call(t,e,n)}catch(t){Q.error(t)}}}),1===i.handlers[e].length)if(t.addEventListener){var r=!1;Xt&&Kt.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Jt(t,e,n){if($t(t)){var i=Vt(t);if(i.handlers){if(Array.isArray(e))return Gt(Jt,t,e,n);var r=function(t,e){i.handlers[e]=[],Wt(t,e)};if(void 0!==e){var a=i.handlers[e];if(a)if(n){if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);Wt(t,e)}else r(t,e)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(t,s)}}}function Zt(t,e,n){var i=$t(t)?Vt(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Yt(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)Zt.call(null,r,e,n);else if(!r&&!e.defaultPrevented){var a=Vt(e.target);e.target[e.type]&&(a.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function te(t,e,n){if(Array.isArray(e))return Gt(te,t,e,n);var i=function i(){Jt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Ft(),Qt(t,e,i)}var ee,ne=Object.freeze({fixEvent:Yt,on:Qt,off:Jt,trigger:Zt,one:te}),ie=!1,re=function(){if(ct()&&!1!==ee.options.autoSetup){var t=Array.prototype.slice.call(k.a.getElementsByTagName("video")),e=Array.prototype.slice.call(k.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(k.a.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&i.length>0)for(var r=0,a=i.length;r<a;r++){var o=i[r];if(!o||!o.getAttribute){ae(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&ee(o)}else ie||ae(1)}};function ae(t,e){e&&(ee=e),p.a.setTimeout(re,t)}ct()&&"complete"===k.a.readyState?ie=!0:te(p.a,"load",function(){ie=!0});var oe,se=function(t){var e=k.a.createElement("style");return e.className=t,e},ue=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},ce=function(t,e,n){e.guid||(e.guid=Ft());var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},le=function(t,e){var n=Date.now();return function(){var i=Date.now();i-n>=e&&(t.apply(void 0,arguments),n=i)}},he=function(t,e,n,i){var r;void 0===i&&(i=p.a);var a=function(){var a=this,o=arguments,s=function(){r=null,s=null,n||t.apply(a,o)};!r&&n&&t.apply(a,o),i.clearTimeout(r),r=i.setTimeout(s,e)};return a.cancel=function(){i.clearTimeout(r),r=null},a},de=function(){};de.prototype.allowedEvents_={},de.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Qt(this,t,e),this.addEventListener=n},de.prototype.addEventListener=de.prototype.on,de.prototype.off=function(t,e){Jt(this,t,e)},de.prototype.removeEventListener=de.prototype.off,de.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},te(this,t,e),this.addEventListener=n},de.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=Yt(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Zt(this,t)},de.prototype.dispatchEvent=de.prototype.trigger,de.prototype.queueTrigger=function(t){var e=this;oe||(oe=new Map);var n=t.type||t,i=oe.get(this);i||(i=new Map,oe.set(this,i));var r=i.get(n);i.delete(n),p.a.clearTimeout(r);var a=p.a.setTimeout(function(){0===i.size&&(i=null,oe.delete(e)),e.trigger(t)},0);i.set(n,a)};var fe=function(t){return t instanceof de||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},pe=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},me=function(t){if(!t.nodeName&&!fe(t))throw new Error("Invalid target; must be a DOM node or evented object.")},ve=function(t){if(!pe(t))throw new Error("Invalid event type; must be a non-empty string or array.")},ge=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},ye=function(t,e){var n,i,r,a=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return a?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],r=e[1]):(n=e[0],i=e[1],r=e[2]),me(n),ve(i),ge(r),{isTargetingSelf:a,target:n,type:i,listener:r=ce(t,r)}},_e=function(t,e,n,i){me(t),t.nodeName?ne[e](t,n,i):t[e](n,i)},be={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=ye(this,n),a=r.isTargetingSelf,o=r.target,s=r.type,u=r.listener;if(_e(o,"on",s,u),!a){var c=function(){return t.off(o,s,u)};c.guid=u.guid;var l=function(){return t.off("dispose",c)};l.guid=u.guid,_e(this,"on","dispose",c),_e(o,"on","dispose",l)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=ye(this,n),a=r.isTargetingSelf,o=r.target,s=r.type,u=r.listener;if(a)_e(o,"one",s,u);else{var c=function e(){t.off(o,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};c.guid=u.guid,_e(o,"one",s,c)}},off:function(t,e,n){if(!t||pe(t))Jt(this.eventBusEl_,t,e);else{var i=t,r=e;me(i),ve(r),ge(n),n=ce(this,n),this.off("dispose",n),i.nodeName?(Jt(i,r,n),Jt(i,"dispose",n)):fe(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return Zt(this.eventBusEl_,t,e)}};function we(t,e){void 0===e&&(e={});var n=e.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=ft("span",{className:"vjs-event-bus"});return nt(t,be),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(t){t()}),t.on("dispose",function(){t.off(),p.a.setTimeout(function(){t.eventBusEl_=null},0)}),t}var Te={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),et(t,function(t,i){n.state[i]!==t&&((e=e||{})[i]={from:n.state[i],to:t}),n.state[i]=t}),e&&fe(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Se(t,e){return nt(t,Te),t.state=nt({},t.state,e),"function"==typeof t.handleStateChanged&&fe(t)&&t.on("statechanged",t.handleStateChanged),t}function Ee(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function ke(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){e&&et(e,function(e,n){rt(e)?(rt(t[n])||(t[n]={}),t[n]=ke(t[n],e)):t[n]=e})}),t}var xe=function(){function t(t,e,n){if(!t&&this.play?this.player_=t=this:this.player_=t,this.options_=ke({},this.options_),e=this.options_=ke(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+Ft()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&we(this,{eventBusKey:this.el_?"el_":null}),Se(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),zt(this.el_),this.el_=null),this.player_=null},e.player=function(){return this.player_},e.options=function(t){return Q.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=ke(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,n){return ft(t,e,n)},e.localize=function(t,e,n){void 0===n&&(n=t);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[i],o=i&&i.split("-")[0],s=r&&r[o],u=n;return a&&a[t]?u=a[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,function(t,n){var i=e[n-1],r=i;return void 0===i&&(r=t),r})),u},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return t=Ee(t),this.childNameIndex_[t]},e.addChild=function(e,n,i){var r,a;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof e){a=Ee(e);var o=n.componentClass||a;n.name=a;var s=t.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=e;if(this.children_.splice(i,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(a=a||r.name&&Ee(r.name()))&&(this.childNameIndex_[a]=r),"function"==typeof r.el&&r.el()){var u=this.contentEl().children[i]||null;this.contentEl().insertBefore(r.el(),u)}return r},e.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,n=this.options_.children;if(n){var i,r=this.options_,a=t.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(t){return!i.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var i,r;return"string"==typeof t?r=n[i=t]||e.options_[i]||{}:(i=t.name,r=t),{name:i,opts:r}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||Ee(e.name));return n&&!a.isTech(n)}).forEach(function(t){var n=t.name,i=t.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var a=e.addChild(n,i);a&&(e[n]=a)}})}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(t,e){return Nt(t,e||this.contentEl())},e.$$=function(t,e){return Ut(t,e||this.contentEl())},e.hasClass=function(t){return vt(this.el_,t)},e.addClass=function(t){gt(this.el_,t)},e.removeClass=function(t){yt(this.el_,t)},e.toggleClass=function(t,e){_t(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return Tt(this.el_,t)},e.setAttribute=function(t,e){St(this.el_,t,e)},e.removeAttribute=function(t){Et(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+Ee(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof p.a.getComputedStyle){var n=p.a.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(0===(e=parseFloat(e))){var i="offset"+Ee(t);e=this.el_[i]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.emitTapEvents=function(){var t,e=0,n=null;this.on("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},e=(new Date).getTime(),t=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)t=!1;else if(n){var i=e.touches[0].pageX-n.pageX,r=e.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(t=!1)}});var i=function(){t=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){(n=null,!0===t)&&((new Date).getTime()-e<200&&(i.preventDefault(),this.trigger("tap")))})},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=ce(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.setTimeout=function(t,e){var n,i,r=this;return t=ce(this,t),n=p.a.setTimeout(function(){r.off("dispose",i),t()},e),(i=function(){return r.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",i),n},e.clearTimeout=function(t){p.a.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},e.setInterval=function(t,e){var n=this;t=ce(this,t);var i=p.a.setInterval(t,e),r=function(){return n.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},e.clearInterval=function(t){p.a.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},e.requestAnimationFrame=function(t){var e,n,i=this;return this.supportsRaf_?(t=ce(this,t),e=p.a.requestAnimationFrame(function(){i.off("dispose",n),t()}),(n=function(){return i.cancelAnimationFrame(e)}).guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},e.cancelAnimationFrame=function(t){if(this.supportsRaf_){p.a.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i,r=t.getComponent("Tech"),a=r&&r.isTech(n),o=t===n||t.prototype.isPrototypeOf(n.prototype);if(a||!o)throw i=a?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+i+".");e=Ee(e),t.components_||(t.components_={});var s=t.getComponent("Player");if("Player"===e&&s&&s.players){var u=s.players,c=Object.keys(u);if(u&&c.length>0&&c.map(function(t){return u[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,n},t.getComponent=function(e){if(e)return e=Ee(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();xe.prototype.supportsRaf_="function"==typeof p.a.requestAnimationFrame&&"function"==typeof p.a.cancelAnimationFrame,xe.registerComponent("Component",xe);var Ce,Ae=p.a.navigator&&p.a.navigator.userAgent||"",Oe=/AppleWebKit\/([\d.]+)/i.exec(Ae),Pe=Oe?parseFloat(Oe.pop()):null,Ie=/iPad/i.test(Ae),Le=/iPhone/i.test(Ae)&&!Ie,Me=/iPod/i.test(Ae),De=Le||Ie||Me,Re=(Ce=Ae.match(/OS (\d+)_/i))&&Ce[1]?Ce[1]:null,Ne=/Android/i.test(Ae),Ue=function(){var t=Ae.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),je=Ne&&Ue<5&&Pe<537,Be=/Firefox/i.test(Ae),Fe=/Edge/i.test(Ae),He=!Fe&&(/Chrome/i.test(Ae)||/CriOS/i.test(Ae)),qe=function(){var t=Ae.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Ve=function(){var t=/MSIE\s(\d+)\.\d/.exec(Ae),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Ae)&&/rv:11.0/.test(Ae)&&(e=11),e}(),$e=/Safari/i.test(Ae)&&!He&&!Ne&&!Fe,ze=($e||De)&&!He,We=ct()&&("ontouchstart"in p.a||p.a.navigator.maxTouchPoints||p.a.DocumentTouch&&p.a.document instanceof p.a.DocumentTouch),Ge=Object.freeze({IS_IPAD:Ie,IS_IPHONE:Le,IS_IPOD:Me,IS_IOS:De,IOS_VERSION:Re,IS_ANDROID:Ne,ANDROID_VERSION:Ue,IS_NATIVE_ANDROID:je,IS_FIREFOX:Be,IS_EDGE:Fe,IS_CHROME:He,CHROME_VERSION:qe,IE_VERSION:Ve,IS_SAFARI:$e,IS_ANY_SAFARI:ze,TOUCH_ENABLED:We});function Ye(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function Xe(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Ye.bind(null,"start",0,t),end:Ye.bind(null,"end",1,t)}}function Ke(t,e){return Array.isArray(t)?Xe(t):void 0===t||void 0===e?Xe():Xe([[t,e]])}function Qe(t,e){var n,i,r=0;if(!e)return 0;t&&t.length||(t=Ke(0,0));for(var a=0;a<t.length;a++)n=t.start(a),(i=t.end(a))>e&&(i=e),r+=i-n;return r/e}for(var Je,Ze={},tn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],en=tn[0],nn=0;nn<tn.length;nn++)if(tn[nn][1]in k.a){Je=tn[nn];break}if(Je)for(var rn=0;rn<Je.length;rn++)Ze[en[rn]]=Je[rn];function an(t){if(t instanceof an)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:it(t)&&("number"==typeof t.code&&(this.code=t.code),nt(this,t)),this.message||(this.message=an.defaultMessages[this.code]||"")}an.prototype.code=0,an.prototype.message="",an.prototype.status=null,an.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],an.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var on=0;on<an.errorTypes.length;on++)an[an.errorTypes[on]]=on,an.prototype[an.errorTypes[on]]=on;function sn(t){return void 0!==t&&null!==t&&"function"==typeof t.then}function un(t){sn(t)&&t.then(null,function(t){})}var cn=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,n,i){return t[n]&&(e[n]=t[n]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},ln=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=cn(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(cn))},hn=function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()},dn="vjs-modal-dialog",fn=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=ft("div",{className:dn+"-content"},{role:"document"}),i.descEl_=ft("p",{className:dn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),pt(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}$(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return dn+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",ce(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",ce(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),Dt(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},n.empty=function(){this.trigger("beforemodalempty"),It(this.contentEl()),this.trigger("modalempty")},n.content=function(t){return void 0!==t&&(this.content_=t),this.content_},n.conditionalFocus_=function(){var t=k.a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(k.a,"keydown",this.handleKeyDown))},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(k.a,"keydown",this.handleKeyDown)},n.handleKeyDown=function(t){if(9===t.which){for(var e,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){e=r;break}k.a.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||e!==n.length-1||(n[0].focus(),t.preventDefault())}},n.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof p.a.HTMLAnchorElement||t instanceof p.a.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof p.a.HTMLInputElement||t instanceof p.a.HTMLSelectElement||t instanceof p.a.HTMLTextAreaElement||t instanceof p.a.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof p.a.HTMLIFrameElement||t instanceof p.a.HTMLObjectElement||t instanceof p.a.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},e}(xe);fn.prototype.options_={pauseOnOpen:!0,temporary:!0},xe.registerComponent("ModalDialog",fn);var pn=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(G(G(n)),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack(e[i]);return n}$(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},n.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},n.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(de);for(var mn in pn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},pn.prototype.allowedEvents_)pn.prototype["on"+mn]=null;var vn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},gn=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){vn(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,n}return $(e,t),e.prototype.addTrack=function(e){var n=this;e.enabled&&vn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,vn(n,e),n.changing_=!1,n.trigger("change"))})},e}(pn),yn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},_n=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){yn(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(G(G(n)),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}return $(e,t),e.prototype.addTrack=function(e){var n=this;e.selected&&yn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,yn(n,e),n.changing_=!1,n.trigger("change"))})},e}(pn),bn=function(t){function e(){return t.apply(this,arguments)||this}return $(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",ce(this,function(){this.queueTrigger("change")}));-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",ce(this,function(){this.trigger("selectedlanguagechange")}))},e}(pn),wn=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),Tn=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),Sn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},En={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},kn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},xn={disabled:"disabled",hidden:"hidden",showing:"showing"},Cn=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var i={id:e.id||"vjs_track_"+Ft(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(G(G(n)),t,{get:function(){return i[t]},set:function(){}})};for(var a in i)r(a);return n}return $(e,t),e}(de),An=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=k.a.createElement("a");n.href=t;var i,r=""===n.host&&"file:"!==n.protocol;r&&((i=k.a.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),k.a.body.appendChild(i));for(var a={},o=0;o<e.length;o++)a[e[o]]=n[e[o]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=p.a.location.protocol),r&&k.a.body.removeChild(i),a},On=function(t){if(!t.match(/^https?:\/\//)){var e=k.a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Pn=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(e)return e.pop().toLowerCase()}return""},In=function(t){var e=p.a.location,n=An(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host},Ln=Object.freeze({parseUrl:An,getAbsoluteURL:On,getFileExtension:Pn,isCrossOrigin:In}),Mn=function(t,e){var n=new p.a.WebVTT.Parser(p.a,p.a.vttjs,p.a.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(p.a.console&&p.a.console.groupCollapsed&&p.a.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return Q.error(t)}),p.a.console&&p.a.console.groupEnd&&p.a.console.groupEnd()),n.flush()},Dn=function(t,e){var n={uri:t},i=In(t);i&&(n.cors=i),l()(n,ce(this,function(t,n,i){if(t)return Q.error(t,n);if(e.loaded_=!0,"function"!=typeof p.a.WebVTT){if(e.tech_){var r=function(){return Mn(i,e)};e.tech_.on("vttjsloaded",r),e.tech_.on("vttjserror",function(){Q.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",r)})}}else Mn(i,e)}))},Rn=function(t){function e(e){var n;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var i=ke(e,{kind:kn[e.kind]||"subtitles",language:e.language||e.srclang||""}),r=xn[i.mode]||"disabled",a=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=t.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[];var o=new Tn(n.cues_),s=new Tn(n.activeCues_),u=!1,c=ce(G(G(n)),function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)});return"disabled"!==r&&n.tech_.ready(function(){n.tech_.on("timeupdate",c)},!0),Object.defineProperties(G(G(n)),{default:{get:function(){return a},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;xn[t]&&("disabled"!==(r=t)?this.tech_.ready(function(){e.tech_.on("timeupdate",c)},!0):this.tech_.off("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?o:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=t&&r.endTime>=t?e.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var a=0;a<e.length;a++)-1===this.activeCues_.indexOf(e[a])&&(u=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,Dn(i.src,G(G(n)))):n.loaded_=!0,n}$(e,t);var n=e.prototype;return n.addCue=function(t){var e=t;if(p.a.vttjs&&!(t instanceof p.a.vttjs.VTTCue)){for(var n in e=new p.a.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},n.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(Cn);Rn.prototype.allowedEvents_={cuechange:"cuechange"};var Nn=function(t){function e(e){var n;void 0===e&&(e={});var i=ke(e,{kind:En[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(G(G(n)),"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return $(e,t),e}(Cn),Un=function(t){function e(e){var n;void 0===e&&(e={});var i=ke(e,{kind:Sn[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(G(G(n)),"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return $(e,t),e}(Cn),jn=0,Bn=2,Fn=function(t){function e(e){var n,i;void 0===e&&(e={}),n=t.call(this)||this;var r=new Rn(e);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(G(G(n)),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=jn,r.addEventListener("loadeddata",function(){i=Bn,n.trigger({type:"load",target:G(G(n))})}),n}return $(e,t),e}(de);Fn.prototype.allowedEvents_={load:"load"},Fn.NONE=jn,Fn.LOADING=1,Fn.LOADED=Bn,Fn.ERROR=3;var Hn={audio:{ListClass:gn,TrackClass:Nn,capitalName:"Audio"},video:{ListClass:_n,TrackClass:Un,capitalName:"Video"},text:{ListClass:bn,TrackClass:Rn,capitalName:"Text"}};Object.keys(Hn).forEach(function(t){Hn[t].getterName=t+"Tracks",Hn[t].privateName=t+"Tracks_"});var qn={remoteText:{ListClass:bn,TrackClass:Rn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:wn,TrackClass:Fn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Vn=ke(Hn,qn);qn.names=Object.keys(qn),Hn.names=Object.keys(Hn),Vn.names=[].concat(qn.names).concat(Hn.names);var $n=function(t){function e(e,n){var i;return void 0===e&&(e={}),void 0===n&&(n=function(){}),e.reportTouchActivity=!1,(i=t.call(this,null,e,n)||this).hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),Vn.names.forEach(function(t){var n=Vn[t];e&&e[n.getterName]&&(i[n.privateName]=e[n.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new Vn.text.ListClass,i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}$(e,t);var n=e.prototype;return n.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ce(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(t){this.duration_=this.duration()},n.buffered=function(){return Ke(0,0)},n.bufferedPercent=function(){return Qe(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Hn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach(function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}})},n.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(t){return void 0!==t&&(this.error_=new an(t),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Ke(0,0):Ke()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var t=this;Hn.names.forEach(function(e){var n=Hn[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})},n.addWebVttScript_=function(){var t=this;if(!p.a.WebVTT)if(k.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&rt(o.a)&&Object.keys(o.a).length>0)return void this.trigger("vttjsloaded");var e=k.a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),p.a.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var a=function(){return t.trigger("texttrackchange")},o=function(){a();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",a),"showing"===n.mode&&n.addEventListener("cuechange",a)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(var t=0;t<e.length;t++){e[t].removeEventListener("cuechange",a)}})},n.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,r){void 0===r&&(r={});var a=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var o=new Vn.text.TrackClass(r);return a.addTrack(o),o}(this,t,e,n)},n.createRemoteTextTrack=function(t){var e=ke(t,{tech:this});return new qn.remoteTextEl.TrackClass(e)},n.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(Q.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(i.track)}),i},n.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},n.getVideoPlaybackQuality=function(){return{}},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Ee(t),e.techs_[t]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return t=Ee(t),e.techs_&&e.techs_[t]?e.techs_[t]:p.a&&p.a.videojs&&p.a.videojs[t]?(Q.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),p.a.videojs[t]):void 0},e}(xe);Vn.names.forEach(function(t){var e=Vn[t];$n.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),$n.prototype.featuresVolumeControl=!0,$n.prototype.featuresMuteControl=!0,$n.prototype.featuresFullscreenResize=!1,$n.prototype.featuresPlaybackRate=!1,$n.prototype.featuresProgressEvents=!1,$n.prototype.featuresSourceset=!1,$n.prototype.featuresTimeupdateEvents=!1,$n.prototype.featuresNativeTextTracks=!1,$n.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n,i=t.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(e,n))return i[r];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""};["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:Q.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},xe.registerComponent("Tech",$n),$n.registerTech("Tech",$n),$n.defaultTechOrder_=[];var zn={},Wn={},Gn={};function Yn(t,e,n){t.setTimeout(function(){return function t(e,n,i,r,a,o){void 0===e&&(e={});void 0===n&&(n=[]);void 0===a&&(a=[]);void 0===o&&(o=!1);var s=n,u=s[0],c=s.slice(1);if("string"==typeof u)t(e,zn[u],i,r,a,o);else if(u){var l=function(t,e){var n=Wn[t.id()],i=null;if(void 0===n||null===n)return i=e(t),Wn[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var a=n[r],o=a[0],s=a[1];o===e&&(i=s)}null===i&&(i=e(t),n.push([e,i]));return i}(r,u);if(!l.setSource)return a.push(l),t(e,c,i,r,a,o);l.setSource(nt({},e),function(n,s){if(n)return t(e,c,i,r,a,o);a.push(l),t(s,e.type===s.type?c:zn[s.type],i,r,a,o)})}else c.length?t(e,c,i,r,a,o):o?i(e,a):t(e,zn["*"],i,r,a,!0)}(e,zn[e.type],n,t)},1)}function Xn(t,e,n,i){void 0===i&&(i=null);var r="call"+Ee(n),a=t.reduce(Zn(r),i),o=a===Gn,s=o?null:e[n](a);return function(t,e,n,i){for(var r=t.length-1;r>=0;r--){var a=t[r];a[e]&&a[e](i,n)}}(t,n,s,o),s}var Kn={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Qn={setCurrentTime:1},Jn={play:1,pause:1};function Zn(t){return function(e,n){return e===Gn?Gn:n[t]?n[t](e):e}}var ti={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},ei=function(t){void 0===t&&(t="");var e=Pn(t);return ti[e.toLowerCase()]||""};function ni(t){var e=ei(t.src);return!t.type&&e&&(t.type=e),t}var ii=function(t){function e(e,n,i){var r,a=ke({createEl:!1},n);if(r=t.call(this,e,a,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var o=0,s=n.playerOptions.techOrder;o<s.length;o++){var u=Ee(s[o]),c=$n.getTech(u);if(u||(c=xe.getComponent(u)),c&&c.isSupported()){e.loadTech_(u);break}}return r}return $(e,t),e}(xe);xe.registerComponent("MediaLoader",ii);var ri=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).emitTapEvents(),i.enable(),i}$(e,t);var n=e.prototype;return n.createEl=function(e,n,i){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=nt({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&Q.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=nt({role:"button"},i),this.tabIndex_=n.tabIndex;var r=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=ft("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,pt(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},n.handleClick=function(t){},n.handleFocus=function(t){Qt(k.a,"keydown",ce(this,this.handleKeyPress))},n.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},n.handleBlur=function(t){Jt(k.a,"keydown",ce(this,this.handleKeyPress))},e}(xe);xe.registerComponent("ClickableComponent",ri);var ai=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update(),e.on("posterchange",ce(G(G(i)),i.update)),i}$(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){return ft("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?un(this.player_.play()):this.player_.pause())},e}(ri);xe.registerComponent("PosterImage",ai);var oi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function si(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function ui(t,e,n){try{t.style[e]=n}catch(t){return}}var ci=function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var a=ce(G(G(r)),r.updateDisplay);return e.on("loadstart",ce(G(G(r)),r.toggleDisplay)),e.on("texttrackchange",a),e.on("loadedmetadata",ce(G(G(r)),r.preselectTrack)),e.ready(ce(G(G(r)),function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",a),e.on("playerresize",a),p.a.addEventListener("orientationchange",a),e.on("dispose",function(){return p.a.removeEventListener("orientationchange",a)});for(var t=this.options_.playerOptions.tracks||[],n=0;n<t.length;n++)this.player_.addRemoteTextTrack(t[n],!0);this.preselectTrack()}})),r}$(e,t);var n=e.prototype;return n.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o=0;o<r.length;o++){var s=r[o];a&&a.enabled&&a.language&&a.language===s.language&&s.kind in i?s.kind===a.kind?n=s:n||(n=s):a&&!a.enabled?(n=null,t=null,e=null):s.default&&("descriptions"!==s.kind||t?s.kind in i&&!e&&(e=s):t=s)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof p.a.WebVTT&&p.a.WebVTT.processCues(p.a,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,n=null,i=t.length;i--;){var r=t[i];"showing"===r.mode&&("descriptions"===r.kind?e=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},n.updateForTrack=function(t){if("function"==typeof p.a.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(p.a.WebVTT.processCues(p.a,e,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),r=e.length;r--;){var a=e[r];if(a){var o=a.displayState;if(i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&ui(o.firstChild,"color",si(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&ui(o.firstChild,"backgroundColor",si(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?ui(o,"backgroundColor",si(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var s=p.a.parseFloat(o.style.fontSize);o.style.fontSize=s*i.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=oi[i.fontFamily])}}}},e}(xe);xe.registerComponent("TextTrackDisplay",ci);var li=function(t){function e(){return t.apply(this,arguments)||this}return $(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=ft("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(xe);xe.registerComponent("LoadingSpinner",li);var hi=function(t){function e(){return t.apply(this,arguments)||this}$(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=nt({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=nt({type:"button"},n);var i=xe.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return Q.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),xe.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(ri);xe.registerComponent("Button",hi);var di=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)un(e);else{var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var r=function(){return i.focus()};sn(e)?e.then(r,function(){}):this.setTimeout(r,1)}else this.player_.focus()}},n.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(hi);di.prototype.controlText_="Play Video",xe.registerComponent("BigPlayButton",di);var fi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(hi);xe.registerComponent("CloseButton",fi);var pi=function(t){function e(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),n.replay&&i.on(e,"ended",i.handleEnded),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(hi);pi.prototype.controlText_="Play",xe.registerComponent("PlayToggle",pi);var mi=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),a=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),(r=r>0||o>0?r+":":"")+(i=((r||a>=10)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},vi=mi;function gi(t,e){return void 0===e&&(e=t),vi(t,e)}var yi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).throttledUpdateContent=le(ce(G(G(i)),i.updateContent),25),i.on(e,"timeupdate",i.throttledUpdateContent),i}$(e,t);var n=e.prototype;return n.createEl=function(e){var n=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=ft("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),i.appendChild(this.contentEl_),i},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=k.a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(t){return gi(t)},n.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(t){},e}(xe);yi.prototype.labelText_="Time",yi.prototype.controlText_="Time",xe.registerComponent("TimeDisplay",yi);var _i=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"ended",i.handleEnded),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},n.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(yi);_i.prototype.labelText_="Current Time",_i.prototype.controlText_="Current Time",xe.registerComponent("CurrentTimeDisplay",_i);var bi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.throttledUpdateContent),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(yi);bi.prototype.labelText_="Duration",bi.prototype.controlText_="Duration",xe.registerComponent("DurationDisplay",bi);var wi=function(t){function e(){return t.apply(this,arguments)||this}return $(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(xe);xe.registerComponent("TimeDivider",wi);var Ti=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.throttledUpdateContent),i.on(e,"ended",i.handleEnded),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},n.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(yi);Ti.prototype.labelText_="Remaining Time",Ti.prototype.controlText_="Remaining Time",xe.registerComponent("RemainingTimeDisplay",Ti);var Si=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}$(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ft("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(xe);xe.registerComponent("LiveDisplay",Si);var Ei=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}$(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ft("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(t){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(hi);Ei.prototype.controlText_="Seek to live, currently playing live",xe.registerComponent("SeekToLive",Ei);var ki=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}$(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=nt({tabIndex:0},n),i=nt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||He||t.preventDefault(),kt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;xt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",i=e.el().style;return this.vertical()?i.height=n:i.width=n,t}}},n.calculateDistance=function(t){var e=Ot(this.el_,t);return this.vertical()?e.y:e.x},n.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},n.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},n.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(xe);xe.registerComponent("Slider",ki);var xi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).partEls_=[],i.on(e,"progress",i.update),i}$(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},n.update=function(t){var e=this.player_.liveTracker,n=this.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():this.player_.duration(),r=this.player_.bufferedEnd(),a=this.partEls_,o=this.$(".vjs-control-text-loaded-percentage"),s=function(t,e,n){var i=t/e||0;return i=100*(i>=1?1:i),n&&(i=i.toFixed(2)),i+"%"};this.el_.style.width=s(r,i),pt(o,s(r,i,!0));for(var u=0;u<n.length;u++){var c=n.start(u),l=n.end(u),h=a[u];h||(h=this.el_.appendChild(ft()),a[u]=h),h.style.left=s(c,r),h.style.width=s(l-c,r)}for(var d=a.length;d>n.length;d--)this.el_.removeChild(a[d-1]);a.length=n.length},e}(xe);xe.registerComponent("LoadProgressBar",xi);var Ci=function(t){function e(){return t.apply(this,arguments)||this}$(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var i=Ct(this.el_),r=Ct(this.player_.el()),a=t.width*e;if(r&&i){var o=t.left-r.left+a,s=t.width-a+(r.right-t.right),u=i.width/2;o<u?u+=u-o:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",pt(this.el_,n)}},n.updateTime=function(t,e,n,i){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var a,o=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),u=s-e*s;a=(u<1?"":"-")+gi(u,s)}else a=gi(n,o);r.update(t,e,a),i&&i()})},e}(xe);xe.registerComponent("TimeTooltip",Ci);var Ai=function(t){function e(){return t.apply(this,arguments)||this}$(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,i)}},e}(xe);Ai.prototype.options_={children:[]},De||Ne||Ai.prototype.options_.children.push("timeTooltip"),xe.registerComponent("PlayProgressBar",Ai);var Oi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=le(ce(G(G(i)),i.update),25),i}$(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,i=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,i,function(){n.el_.style.left=t.width*e+"px"})},e}(xe);Oi.prototype.options_={children:["timeTooltip"]},xe.registerComponent("MouseTimeDisplay",Oi);var Pi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).setEventHandlers_(),i}$(e,t);var n=e.prototype;return n.setEventHandlers_=function(){var t=this;this.update=le(ce(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(e){t.player_.liveTracker&&t.player_.liveTracker.isLive()&&"ended"!==e.type||t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(t,e){var n=this.player_.liveTracker,i=this.player_.duration();n&&n.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),n&&n.seekableEnd()===1/0?this.disable():this.enable(),this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[gi(t,i),gi(i,i)],"{1} of {2}")),this.bar.update(Ct(this.el_),e)},n.update=function(e){var n=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(t){this.update_(this.player_.duration(),1)},n.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t>=1?1:t||0},n.handleMouseDown=function(e){Rt(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},n.handleMouseMove=function(t){if(Rt(t)){var e,n=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){var r=i.seekableStart(),a=i.liveCurrentTime();if((e=r+n*i.liveWindow())>=a&&(e=a),e<=r&&(e=r+.1),e===1/0)return}else(e=n*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},n.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},n.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},n.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&un(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(ki);Pi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},De||Ne||Pi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Pi.prototype.playerEvent="timeupdate",xe.registerComponent("SeekBar",Pi);var Ii=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handleMouseMove=le(ce(G(G(i)),i.handleMouseMove),25),i.throttledHandleMouseSeek=le(ce(G(G(i)),i.handleMouseSeek),25),i.enable(),i}$(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),i=e.el(),r=Ct(i),a=Ot(i,t).x;a>1?a=1:a<0&&(a=0),n&&n.update(r,a)}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(xe);Ii.prototype.options_={children:["seekBar"]},xe.registerComponent("ProgressControl",Ii);var Li=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"fullscreenchange",i.handleFullscreenChange),!1===k.a[Ze.fullscreenEnabled]&&i.disable(),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(hi);Li.prototype.controlText_="Fullscreen",xe.registerComponent("FullscreenToggle",Li);var Mi=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Di=function(t){function e(){return t.apply(this,arguments)||this}return $(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(xe);xe.registerComponent("VolumeLevel",Di);var Ri=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready(function(){return i.updateARIAAttributes()}),i}$(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){Rt(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){Rt(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(ki);Ri.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ri.prototype.playerEvent="volumechange",xe.registerComponent("VolumeBar",Ri);var Ni=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||rt(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=t.call(this,e,n)||this,Mi(G(G(i)),e),i.throttledHandleMouseMove=le(ce(G(G(i)),i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}$(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(xe);Ni.prototype.options_={children:["volumeBar"]},xe.registerComponent("VolumeControl",Ni);var Ui=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},ji=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,Ui(G(G(i)),e),i.on(e,["loadstart","volumechange"],i.update),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;De&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)yt(this.el_,"vjs-vol-"+n);gt(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(hi);ji.prototype.controlText_="Mute",xe.registerComponent("MuteToggle",ji);var Bi=function(t){function e(e,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||rt(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=t.call(this,e,n)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}$(e,t);var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(xe);Bi.prototype.options_={children:["muteToggle","volumeControl"]},xe.registerComponent("VolumePanel",Bi);var Fi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}$(e,t);var n=e.prototype;return n.addItem=function(t){this.addChild(t),t.on("blur",ce(this,this.handleBlur)),t.on(["tap","click"],ce(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},n.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=ft(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Qt(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.handleBlur=function(t){var e=t.relatedTarget||k.a.activeElement;if(!this.children().some(function(t){return t.el()===e})){var n=this.menuButton_;n&&n.buttonPressed_&&e!==n.el().firstChild&&n.unpressButton()}},n.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(xe);xe.registerComponent("Menu",Fi);var Hi=function(t){function e(e,n){var i;void 0===n&&(n={}),(i=t.call(this,e,n)||this).menuButton_=new hi(e,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=hi.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on(i.menuButton_,"mouseenter",function(){i.menu.show()}),i.on("keydown",i.handleSubmenuKeyPress),i}$(e,t);var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var t=new Fi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=ft("li",{className:"vjs-menu-title",innerHTML:Ee(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),mt(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+hi.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},n.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleFocus=function(){Qt(k.a,"keydown",ce(this,this.handleKeyPress))},n.handleBlur=function(){Jt(k.a,"keydown",ce(this,this.handleKeyPress))},n.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):13!==t.which&&38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},n.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),De&&ht())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(xe);xe.registerComponent("MenuButton",Hi);var qi=function(t){function e(e,n){var i,r=n.tracks;if((i=t.call(this,e,n)||this).items.length<=1&&i.hide(),!r)return G(i);var a=ce(G(G(i)),i.update);return r.addEventListener("removetrack",a),r.addEventListener("addtrack",a),i.player_.on("ready",a),i.player_.on("dispose",function(){r.removeEventListener("removetrack",a),r.removeEventListener("addtrack",a)}),i}return $(e,t),e}(Hi);xe.registerComponent("TrackButton",qi);var Vi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}$(e,t);var n=e.prototype;return n.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",nt({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ri);xe.registerComponent("MenuItem",Vi);var $i=function(t){function e(e,n){var i,r=n.track,a=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected="showing"===r.mode,(i=t.call(this,e,n)||this).track=r;var o,s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(G(G(i)),e)},u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleSelectedLanguageChange.apply(G(G(i)),e)};(e.on(["loadstart","texttrackchange"],s),a.addEventListener("change",s),a.addEventListener("selectedlanguagechange",u),i.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),a.removeEventListener("change",s),a.removeEventListener("selectedlanguagechange",u)}),void 0===a.onchange)&&i.on(["tap","click"],function(){if("object"!=typeof p.a.Event)try{o=new p.a.Event("change")}catch(t){}o||(o=k.a.createEvent("Event")).initEvent("change",!0,!0),a.dispatchEvent(o)});return i.handleTracksChange(),i}$(e,t);var n=e.prototype;return n.handleClick=function(e){var n=this.track.kind,i=this.track.kinds,r=this.player_.textTracks();if(i||(i=[n]),t.prototype.handleClick.call(this,e),r)for(var a=0;a<r.length;a++){var o=r[a];o===this.track&&i.indexOf(o.kind)>-1?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},n.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},n.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Vi);xe.registerComponent("TextTrackMenuItem",$i);var zi=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}$(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}($i);xe.registerComponent("OffTextTrackMenuItem",zi);var Wi=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return $(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=$i),this.label_&&(n=this.label_+" off"),t.push(new zi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var a=i[r];if(this.kinds_.indexOf(a.kind)>-1){var o=new e(this.player_,{track:a,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+a.kind+"-menu-item"),t.push(o)}}return t},e}(qi);xe.registerComponent("TextTrackButton",Wi);var Gi=function(t){function e(e,n){var i,r=n.track,a=n.cue,o=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=a.text,n.selected=a.startTime<=o&&o<a.endTime,(i=t.call(this,e,n)||this).track=r,i.cue=a,r.addEventListener("cuechange",ce(G(G(i)),i.update)),i}$(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Vi);xe.registerComponent("ChaptersTrackMenuItem",Gi);var Yi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ee(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],a=new Gi(this.player_,{track:this.track_,cue:r});t.push(a)}return t},e}(Wi);Yi.prototype.kind_="chapters",Yi.prototype.controlText_="Chapters",xe.registerComponent("ChaptersButton",Yi);var Xi=function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var a=e.textTracks(),o=ce(G(G(r)),r.handleTracksChange);return a.addEventListener("change",o),r.on("dispose",function(){a.removeEventListener("change",o)}),r}$(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var a=e[i];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Wi);Xi.prototype.kind_="descriptions",Xi.prototype.controlText_="Descriptions",xe.registerComponent("DescriptionsButton",Xi);var Ki=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Wi);Ki.prototype.kind_="subtitles",Ki.prototype.controlText_="Subtitles",xe.registerComponent("SubtitlesButton",Ki);var Qi=function(t){function e(e,n){var i;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return $(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}($i);xe.registerComponent("CaptionSettingsMenuItem",Qi);var Ji=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Qi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Wi);Ji.prototype.kind_="captions",Ji.prototype.controlText_="Captions",xe.registerComponent("CaptionsButton",Ji);var Zi=function(t){function e(){return t.apply(this,arguments)||this}return $(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,nt({innerHTML:r},n),i)},e}($i);xe.registerComponent("SubsCapsMenuItem",Zi);var tr=function(t){function e(e,n){var i;return void 0===n&&(n={}),(i=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Ee(i.label_)),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Qi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Zi)},e}(Wi);tr.prototype.kinds_=["captions","subtitles"],tr.prototype.controlText_="Subtitles",xe.registerComponent("SubsCapsButton",tr);var er=function(t){function e(e,n){var i,r=n.track,a=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=t.call(this,e,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(G(G(i)),e)};return a.addEventListener("change",o),i.on("dispose",function(){a.removeEventListener("change",o)}),i}$(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,nt({innerHTML:r},n),i)},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Vi);xe.registerComponent("AudioTrackMenuItem",er);var nr=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new er(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(qi);nr.prototype.controlText_="Audio Track",xe.registerComponent("AudioTrackButton",nr);var ir=function(t){function e(e,n){var i,r=n.rate,a=parseFloat(r,10);return n.label=r,n.selected=1===a,n.selectable=!0,n.multiSelectable=!1,(i=t.call(this,e,n)||this).label=r,i.rate=a,i.on(e,"ratechange",i.update),i}$(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Vi);ir.prototype.contentElType="button",xe.registerComponent("PlaybackRateMenuItem",ir);var rr=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}$(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=ft("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new Fi(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new ir(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Hi);rr.prototype.controlText_="Playback Rate",xe.registerComponent("PlaybackRateMenuButton",rr);var ar=function(t){function e(){return t.apply(this,arguments)||this}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(xe);xe.registerComponent("Spacer",ar);var or=function(t){function e(){return t.apply(this,arguments)||this}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(ar);xe.registerComponent("CustomControlSpacer",or);var sr=function(t){function e(){return t.apply(this,arguments)||this}return $(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(xe);sr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},xe.registerComponent("ControlBar",sr);var ur=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"error",i.open),i}$(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(fn);ur.prototype.options_=ke(fn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),xe.registerComponent("ErrorDisplay",ur);var cr=["#000","Black"],lr=["#00F","Blue"],hr=["#0FF","Cyan"],dr=["#0F0","Green"],fr=["#F0F","Magenta"],pr=["#F00","Red"],mr=["#FFF","White"],vr=["#FF0","Yellow"],gr=["1","Opaque"],yr=["0.5","Semi-Transparent"],_r=["0","Transparent"],br={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[cr,mr,pr,dr,lr,vr,fr,hr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[gr,yr,_r]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[mr,cr,pr,dr,lr,vr,fr,hr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[gr,yr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[_r,yr,gr]}};function wr(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}br.windowColor.options=br.backgroundColor.options;var Tr=function(t){function e(e,n){var i;return n.temporary=!1,(i=t.call(this,e,n)||this).updateDisplay=ce(G(G(i)),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=ft("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),et(br,function(t){i.on(i.$(t.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}$(e,t);var n=e.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var r=br[t],a=r.id.replace("%s",this.id_),o=[e,a].join(" ").trim();return["<"+n+' id="'+a+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+o+'">'].concat(r.options.map(function(t){var e=a+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+o+" "+e+'">',i.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return ft("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return ft("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return ft("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t,e,n,i=this;return t=br,e=function(t,e,n){var r,a,o=(r=i.$(e.selector),a=e.parser,wr(r.options[r.options.selectedIndex].value,a));return void 0!==o&&(t[n]=o),t},void 0===(n={})&&(n=0),tt(t).reduce(function(n,i){return e(n,t[i],i)},n)},n.setValues=function(t){var e=this;et(br,function(n,i){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(wr(t.options[i].value,n)===e){t.selectedIndex=i;break}}(e.$(n.selector),t[i],n.parser)})},n.setDefaults=function(){var t=this;et(br,function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n})},n.restoreSettings=function(){var t;try{t=JSON.parse(p.a.localStorage.getItem("vjs-text-track-settings"))}catch(t){Q.warn(t)}t&&this.setValues(t)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?p.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):p.a.localStorage.removeItem("vjs-text-track-settings")}catch(t){Q.warn(t)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(k.a,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},e}(fn);xe.registerComponent("TextTrackSettings",Tr);var Sr=function(t){function e(e,n){var i,r=n.ResizeObserver||p.a.ResizeObserver;null===n.ResizeObserver&&(r=!1);var a=ke({createEl:!r,reportTouchActivity:!1},n);return(i=t.call(this,e,a)||this).ResizeObserver=n.ResizeObserver||p.a.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=he(function(){i.resizeHandler()},100,!1,G(G(i))),r?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){i.el_&&i.el_.contentWindow&&Qt(i.el_.contentWindow,"resize",i.debouncedHandler_)},i.one("load",i.loadListener_)),i}$(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Jt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},e}(xe);xe.registerComponent("ResizeManager",Sr);var Er=function(t){function e(e,n){var i,r=ke({createEl:!1},n);return(i=t.call(this,e,r)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),i}$(e,t);var n=e.prototype;return n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var t=this.liveCurrentTime(),e=this.player_.currentTime(),n=this.seekableIncrement_;return t!==1/0&&t-(2*n+.07)>=e},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var t=this.player_.seekable();if(t&&t.length){var e=this.seekableEnd();e!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(e-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=e,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},n.startTracking=function(){var t=this;this.isTracking()||(this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.one(this.player_,"play",this.handlePlay),this.timeupdateSeen_||(this.handleTimeupdate=function(){t.timeupdateSeen_=!0,t.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},n.seekableStart=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.start(n));return e.length?e.sort()[0]:0},n.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),t.prototype.dispose.call(this)},e}(xe);xe.registerComponent("LiveTracker",Er);var kr=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var o=n[a].src;o&&-1===i.indexOf(o)&&i.push(o)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},xr=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=k.a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=k.a.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",p.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Cr=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},Ar=function(t){var e=t.el();if(!e.resetSourceWatch_){var n={},i=function(t){return Cr([t.el(),p.a.HTMLMediaElement.prototype,p.a.Element.prototype,xr],"innerHTML")}(t),r=function(n){return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=n.apply(e,r);return kr(t),o}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){e[t]&&(n[t]=e[t],e[t]=r(n[t]))}),Object.defineProperty(e,"innerHTML",ke(i,{set:r(i.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(n).forEach(function(t){e[t]=n[t]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)}},Or=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?On(p.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return p.a.Element.prototype.setAttribute.call(this,"src",t),t}}),Pr=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var n=function(t){return Cr([t.el(),p.a.HTMLMediaElement.prototype,Or],"src")}(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",ke(n,{set:function(i){var r=n.set.call(e,i);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(n,r){var a=i.call(e,n,r);return/src/i.test(n)&&t.triggerSourceset(e.src),a},e.load=function(){var n=r.call(e);return kr(t)||(t.triggerSourceset(""),Ar(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):kr(t)||Ar(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}}}};function Ir(){var t=Y(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return Ir=function(){return t},t}var Lr=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var r=e.source,a=!1;if(r&&(i.el_.currentSrc!==r.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(r):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var o=i.el_.childNodes,s=o.length,c=[];s--;){var l=o[s];"track"===l.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(l),i.remoteTextTracks().addTrack(l.track),i.textTracks().addTrack(l.track),a||i.el_.hasAttribute("crossorigin")||!In(l.src)||(a=!0)):c.push(l))}for(var h=0;h<c.length;h++)i.el_.removeChild(c[h])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&Q.warn(u()(Ir())),i.restoreMetadataTracksInIOSNativePlayer_(),(We||Le||je)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}$(e,t);var n=e.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){Pr(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",function(){return e.removeEventListener("change",n)});var i=function n(){for(var i=0;i<t.length;i++){var r=t[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})},n.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var e=this,n=Hn[t],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var a={change:function(t){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},o=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,a=0;a<i.length;a++)if(i[a]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=a,Object.keys(a).forEach(function(t){var n=a[t];i.addEventListener(t,n),e.on("dispose",function(e){return i.removeEventListener(t,n)})}),this.on("loadstart",o),this.on("dispose",function(t){return e.off("loadstart",o)})}},n.proxyNativeTracks_=function(){var t=this;Hn.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},n.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=k.a.createElement("video");var i=ke({},this.options_.tag&&wt(this.options_.tag));We&&!0===this.options_.nativeControlsForTouch||delete i.controls,bt(t,nt(i,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&St(t,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],a=0;a<r.length;a++){var o=r[a],s=this.options_[o];void 0!==s&&(s?St(t,o,o):Et(t,o),t[o]=s)}return t},n.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){Q(t,"Video is not ready. (Video.js)")}},n.duration=function(){var t=this;if(this.el_.duration===1/0&&Ne&&He&&0===this.el_.currentTime){return this.on("timeupdate",function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=p.a.navigator&&p.a.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},n.reset=function(){e.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(t){this.el_.controls=!!t},n.addTextTrack=function(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):t.prototype.addTextTrack.call(this,e,n,i)},n.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=k.a.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},n.addRemoteTextTrack=function(e,n){var i=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)e!==n[i]&&e!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),p.a.performance&&"function"==typeof p.a.performance.now?t.creationTime=p.a.performance.now():p.a.performance&&p.a.performance.timing&&"number"==typeof p.a.performance.timing.navigationStart&&(t.creationTime=p.a.Date.now()-p.a.performance.timing.navigationStart),t},e}($n);if(ct()){Lr.TEST_VID=k.a.createElement("video");var Mr=k.a.createElement("track");Mr.kind="captions",Mr.srclang="en",Mr.label="English",Lr.TEST_VID.appendChild(Mr)}Lr.isSupported=function(){try{Lr.TEST_VID.volume=.5}catch(t){return!1}return!(!Lr.TEST_VID||!Lr.TEST_VID.canPlayType)},Lr.canPlayType=function(t){return Lr.TEST_VID.canPlayType(t)},Lr.canPlaySource=function(t,e){return Lr.canPlayType(t.type)},Lr.canControlVolume=function(){try{var t=Lr.TEST_VID.volume;return Lr.TEST_VID.volume=t/2+.1,t!==Lr.TEST_VID.volume}catch(t){return!1}},Lr.canMuteVolume=function(){try{var t=Lr.TEST_VID.muted;return Lr.TEST_VID.muted=!t,Lr.TEST_VID.muted?St(Lr.TEST_VID,"muted","muted"):Et(Lr.TEST_VID,"muted"),t!==Lr.TEST_VID.muted}catch(t){return!1}},Lr.canControlPlaybackRate=function(){if(Ne&&He&&qe<58)return!1;try{var t=Lr.TEST_VID.playbackRate;return Lr.TEST_VID.playbackRate=t/2+.1,t!==Lr.TEST_VID.playbackRate}catch(t){return!1}},Lr.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(k.a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(k.a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(k.a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(k.a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Lr.supportsNativeTextTracks=function(){return ze||De&&He},Lr.supportsNativeVideoTracks=function(){return!(!Lr.TEST_VID||!Lr.TEST_VID.videoTracks)},Lr.supportsNativeAudioTracks=function(){return!(!Lr.TEST_VID||!Lr.TEST_VID.audioTracks)},Lr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Lr.prototype.featuresVolumeControl=Lr.canControlVolume(),Lr.prototype.featuresMuteControl=Lr.canMuteVolume(),Lr.prototype.featuresPlaybackRate=Lr.canControlPlaybackRate(),Lr.prototype.featuresSourceset=Lr.canOverrideAttributes(),Lr.prototype.movingMediaElementInDOM=!De,Lr.prototype.featuresFullscreenResize=!0,Lr.prototype.featuresProgressEvents=!0,Lr.prototype.featuresTimeupdateEvents=!0,Lr.prototype.featuresNativeTextTracks=Lr.supportsNativeTextTracks(),Lr.prototype.featuresNativeVideoTracks=Lr.supportsNativeVideoTracks(),Lr.prototype.featuresNativeAudioTracks=Lr.supportsNativeAudioTracks();var Dr=Lr.TEST_VID&&Lr.TEST_VID.constructor.prototype.canPlayType,Rr=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;function Nr(){var t=Y(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return Nr=function(){return t},t}Lr.patchCanPlayType=function(){Ue>=4&&!Be&&!He&&(Lr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Rr.test(t)?"maybe":Dr.call(this,t)})},Lr.unpatchCanPlayType=function(){var t=Lr.TEST_VID.constructor.prototype.canPlayType;return Lr.TEST_VID.constructor.prototype.canPlayType=Dr,t},Lr.patchCanPlayType(),Lr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Lr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Lr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Lr.prototype["set"+Ee(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){Lr.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Lr.prototype["set"+Ee(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){Lr.prototype[t]=function(){return this.el_[t]()}}),$n.withSourceHandlers(Lr),Lr.nativeSourceHandler={},Lr.nativeSourceHandler.canPlayType=function(t){try{return Lr.TEST_VID.canPlayType(t)}catch(t){return""}},Lr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Lr.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Pn(t.src);return Lr.nativeSourceHandler.canPlayType("video/"+n)}return""},Lr.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Lr.nativeSourceHandler.dispose=function(){},Lr.registerSourceHandler(Lr.nativeSourceHandler),$n.registerTech("Html5",Lr);var Ur=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],jr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Br=["tiny","xsmall","small","medium","large","xlarge","huge"],Fr={};Br.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Fr[t]="vjs-layout-"+e});var Hr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},qr=function(t){function e(n,i,r){var a;if(n.id=n.id||i.id||"vjs_video_"+Ft(),(i=nt(e.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var o=n.closest("[lang]");o&&o.getAttribute&&(i.language=o.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(wt(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}if((a=t.call(this,null,i,r)||this).log=J(a.id_),a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&wt(n),a.language(a.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(t){u[t.toLowerCase()]=i.languages[t]}),a.languages_=u}else a.languages_=e.prototype.options_.languages;a.cache_={},a.poster_=i.poster||"",a.controls_=!!i.controls,a.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?a.options_.autoplay=!0:a.autoplay(a.options_.autoplay),a.scrubbing_=!1,a.el_=a.createEl(),a.cache_.lastPlaybackRate=a.defaultPlaybackRate(),we(G(G(a)),{eventBusKey:"el_"}),a.fluid_&&a.on("playerreset",a.updateStyleEl_);var c=ke(a.options_);if(i.plugins){var l=i.plugins;Object.keys(l).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](l[t])},G(G(a)))}a.options_.playerOptions=c,a.middleware_=[],a.initChildren(),a.isAudio("audio"===n.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),De||a.addClass("vjs-workinghover"),e.players[a.id_]=G(G(a));var h=V.split(".")[0];return a.addClass("vjs-v"+h),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("fullscreenchange",a.handleFullscreenChange_),a.on("stageclick",a.handleStageClick_),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.changingSrc_=!1,a.playWaitingForReady_=!1,a.playOnLoadstart_=null,a}$(e,t);var n=e.prototype;return n.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Wn[this.id()]=null,t.prototype.dispose.call(this)},n.createEl=function(){var e,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=n.parentNode:r||(e=this.el_=t.prototype.createEl.call(this,"div"));var a=wt(n);if(r){for(e=this.el_=n,n=this.tag=k.a.createElement("video");e.children.length;)n.appendChild(e.firstChild);vt(e,"video-js")||gt(e,"video-js"),e.appendChild(n),i=this.playerElIngest_=e,Object.keys(e).forEach(function(t){n[t]=e[t]})}if(n.setAttribute("tabindex","-1"),a.tabindex="-1",Ve&&(n.setAttribute("role","application"),a.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(t){r&&"class"===t||e.setAttribute(t,a[t]),r&&n.setAttribute(t,a[t])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),!0!==p.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=se("vjs-styles-dimensions");var o=Nt(".vjs-styles-defaults"),s=Nt("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=n.getElementsByTagName("a"),c=0;c<u.length;c++){var l=u.item(c);gt(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(e,n),mt(n,e),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=e,e},n.width=function(t){return this.dimension("width",t)},n.height=function(t){return this.dimension("height",t)},n.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?Q.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},n.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,n;this.fluid_=!!t,fe(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),fe(e=function(){this.on("playerreset",this.updateStyleEl_)})?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==p.a.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),ue(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(a>=0&&(s.width=a),o>=0&&(s.height=o))}},n.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=Ee(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&($n.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Vn.names.forEach(function(t){var e=Vn[t];a[e.getterName]=n[e.privateName]}),nt(a,this.options_[i]),nt(a,this.options_[r]),nt(a,this.options_[t.toLowerCase()]),this.tag&&(a.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var o=$n.getTech(t);if(!o)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new o(a),this.tech_.ready(ce(this,this.handleTechReady_),!0),hn(this.textTracksJson_||[],this.tech_),Ur.forEach(function(t){n.on(n.tech_,t,n["handleTech"+Ee(t)+"_"])}),Object.keys(jr).forEach(function(t){n.on(n.tech_,t,function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+jr[t]+"_"].bind(n),event:e}):n["handleTech"+jr[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||mt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var t=this;Vn.names.forEach(function(e){var n=Vn[e];t[n.privateName]=t[n.getterName]()}),this.textTracksJson_=ln(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(t){return void 0===t&&Q.warn(u()(Nr())),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,i=function(){var t=e.muted();e.muted(!0);var n=e.play();if(n&&n.then&&n.catch)return n.catch(function(n){e.muted(t)})};if("any"===t?(n=this.play())&&n.then&&n.catch&&n.catch(function(){return i()}):n="muted"===t?i():this.play(),n&&n.then&&n.catch)return n.then(function(){e.trigger({type:"autoplay-success",autoplay:t})}).catch(function(n){e.trigger({type:"autoplay-failure",autoplay:t})})}},n.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var a=i[r];if(a.type&&a.src&&a.src===e)return a.type}return ei(e)}(this,e)),this.cache_.source=ke({},t,{src:e,type:n});for(var i=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),r=[],a=this.$$("source"),o=[],s=0;s<a.length;s++){var u=wt(a[s]);r.push(u),u.src&&u.src===e&&o.push(u.src)}o.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},n.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,r=t.src;if(i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),!t.src){this.tech_.one(["sourceset","loadstart"],function t(n){if("sourceset"!==n.type){var i=e.techGet("currentSrc");e.lastSource_.tech=i,e.updateSourceCaches_(i)}e.tech_.off(["sourceset","loadstart"],t)})}}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},n.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))})},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(Q.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(t){Rt(t)&&this.controls_&&(this.paused()?un(this.play()):this.pause())},n.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(t){t.preventDefault()},n.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.handleStageClick_=function(){this.reportUserActivity()},n.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},n.handleTechError_=function(){var t=this.tech_.error();this.error(t)},n.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.getCache=function(){return this.cache_},n.techCall_=function(t,e){this.ready(function(){if(t in Qn)return function(t,e,n,i){return e[n](t.reduce(Zn(n),i))}(this.middleware_,this.tech_,t,e);if(t in Jn)return Xn(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw Q(t),t}},!0)},n.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Kn)return function(t,e,n){return t.reduceRight(Zn(n),e[n]())}(this.middleware_,this.tech_,t);if(t in Jn)return Xn(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw Q("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw Q("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw Q(e),e}}},n.play=function(){var t=this,e=this.options_.Promise||p.a.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},n.play_=function(t){var e=this;if(void 0===t&&(t=un),this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,t(e.play())})}},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Ke(0,0)},n.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(t)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Ke(0,0)),t},n.bufferedPercent=function(){return Qe(this.buffered(),this.duration())},n.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},n.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},n.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},n.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},n.requestFullscreen=function(){var t=Ze;this.isFullscreen(!0),t.requestFullscreen?(Qt(k.a,t.fullscreenchange,ce(this,function e(n){this.isFullscreen(k.a[t.fullscreenElement]),!1===this.isFullscreen()&&Jt(k.a,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){var t=Ze;this.isFullscreen(!1),t.requestFullscreen?k.a[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=k.a.documentElement.style.overflow,Qt(k.a,"keydown",ce(this,this.fullWindowOnEscKey)),k.a.documentElement.style.overflow="hidden",gt(k.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,Jt(k.a,"keydown",this.fullWindowOnEscKey),k.a.documentElement.style.overflow=this.docOrigOverflow,yt(k.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],a=$n.getTech(r);if(a||(a=xe.getComponent(r)),a){if(a.isSupported()&&(e=a.canPlayType(t)))return e}else Q.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map(function(t){return[t,$n.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(Q.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(t,e,n){var i;return t.some(function(t){return e.some(function(e){if(i=n(t,e))return!0})}),i},a=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?r(t,i,(e=a,function(t,n){return e(n,t)})):r(i,t,a))||!1},n.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):it(e)&&n.push(e)}),e=n}else e="string"==typeof e&&e.trim()?[ni({src:e})]:it(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[ni(e)]:[];return e}(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),Yn(this,n[0],function(t,i){var r,a;if(e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());r=i,a=e.tech_,r.forEach(function(t){return t.setTech&&t.setTech(a)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},n.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,Ee(e)!==Ee(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){i.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),fe(this)&&this.trigger("playerreset")},n.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},n.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},n.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},n.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},n.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new an(t),this.addClass("vjs-error"),Q.error("(CODE:"+this.error_.code+" "+an.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},n.reportUserActivity=function(t){this.userActivity_=!0},n.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var t,e,n,i,r=ce(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,r())}),this.on("mouseup",function(e){r(),this.clearInterval(t)}),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var t=this.options_.inactivityTimeout;t<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},n.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},n.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},n.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},n.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},n.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},n.languages=function(){return ke(e.prototype.options_.languages,this.languages_)},n.toJSON=function(){var t=ke(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=ke(i)).player=void 0,t.tracks[n]=i}return t},n.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new fn(this,e);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Br.length;n++){var i=Br[n];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(Fr[t]),this.addClass(Fr[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},n.breakpoints=function(t){return void 0===t?nt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=nt({},Hr,t),this.updateCurrentBreakpoint_(),nt(this.breakpoints_))},n.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Fr[this.breakpoint_]||""},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=wt(t),i=n["data-setup"];if(vt(t,"vjs-fill")&&(n.fill=!0),vt(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var a=r()(i||"{}"),o=a[0],s=a[1];o&&Q.error(o),nt(n,s)}if(nt(e,n),t.hasChildNodes())for(var u=t.childNodes,c=0,l=u.length;c<l;c++){var h=u[c],d=h.nodeName.toLowerCase();"source"===d?e.sources.push(wt(h)):"track"===d&&e.tracks.push(wt(h))}return e},n.flexNotSupported_=function(){var t=k.a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(xe);Vn.names.forEach(function(t){var e=Vn[t];qr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),qr.players={};var Vr=p.a.navigator;qr.prototype.options_={techOrder:$n.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Vr&&(Vr.languages&&Vr.languages[0]||Vr.userLanguage||Vr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){qr.prototype[t]=function(){return this.techGet_(t)}}),Ur.forEach(function(t){qr.prototype["handleTech"+Ee(t)+"_"]=function(){return this.trigger(t)}}),xe.registerComponent("Player",qr);var $r={},zr=function(t){return $r.hasOwnProperty(t)},Wr=function(t){return zr(t)?$r[t]:void 0},Gr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},Yr=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},Xr=function(t,e){return e.prototype.name=t,function(){Yr(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=W(e,[this].concat(i));return this[t]=function(){return a},Yr(this,a.getEventHash()),a}},Kr=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,we(this),delete this.trigger,Se(this,this.constructor.defaultState),Gr(e,this.name),this.dispose=ce(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),Zt(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Xr(t,$r[t])},t.isBasic=function(e){var n="string"==typeof e?Wr(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(zr(e))Q.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(qr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return $r[e]=n,"plugin"!==e&&(t.isBasic(n)?qr.prototype[e]=function(t,e){var n=function(){Yr(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Gr(this,t),Yr(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}(e,n):qr.prototype[e]=Xr(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");zr(t)&&(delete $r[t],delete qr.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys($r)),t.forEach(function(t){var n=Wr(t);n&&((e=e||{})[t]=n)}),e},t.getPluginVersion=function(t){var e=Wr(t);return e&&e.VERSION||""},t}();Kr.getPlugin=Wr,Kr.BASE_PLUGIN_NAME="plugin",Kr.registerPlugin("plugin",Kr),qr.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},qr.prototype.hasPlugin=function(t){return!!zr(t)};var Qr=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Jr(t,e,n){var i=Jr.getPlayer(t);if(i)return e&&Q.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof t?Nt("#"+Qr(t)):t;if(!lt(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");k.a.body.contains(r)||Q.warn("The element supplied is not included in the DOM"),e=e||{},Jr.hooks("beforesetup").forEach(function(t){var n=t(r,ke(e));it(n)&&!Array.isArray(n)?e=ke(e,n):Q.error("please return an object in beforesetup hooks")});var a=xe.getComponent("Player");return i=new a(r,e,n),Jr.hooks("setup").forEach(function(t){return t(i)}),i}if(Jr.hooks_={},Jr.hooks=function(t,e){return Jr.hooks_[t]=Jr.hooks_[t]||[],e&&(Jr.hooks_[t]=Jr.hooks_[t].concat(e)),Jr.hooks_[t]},Jr.hook=function(t,e){Jr.hooks(t,e)},Jr.hookOnce=function(t,e){Jr.hooks(t,[].concat(e).map(function(e){return function n(){return Jr.removeHook(t,n),e.apply(void 0,arguments)}}))},Jr.removeHook=function(t,e){var n=Jr.hooks(t).indexOf(e);return!(n<=-1)&&(Jr.hooks_[t]=Jr.hooks_[t].slice(),Jr.hooks_[t].splice(n,1),!0)},!0!==p.a.VIDEOJS_NO_DYNAMIC_STYLE&&ct()){var Zr=Nt(".vjs-styles-defaults");if(!Zr){Zr=se("vjs-styles-defaults");var ta=Nt("head");ta&&ta.insertBefore(Zr,ta.firstChild),ue(Zr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}ae(1,Jr),Jr.VERSION=V,Jr.options=qr.prototype.options_,Jr.getPlayers=function(){return qr.players},Jr.getPlayer=function(t){var e,n=qr.players;if("string"==typeof t){var i=Qr(t),r=n[i];if(r)return r;e=Nt("#"+i)}else e=t;if(lt(e)){var a=e,o=a.player,s=a.playerId;if(o||n[s])return o||n[s]}},Jr.getAllPlayers=function(){return Object.keys(qr.players).map(function(t){return qr.players[t]}).filter(Boolean)},Jr.players=qr.players,Jr.getComponent=xe.getComponent,Jr.registerComponent=function(t,e){$n.isTech(e)&&Q.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),xe.registerComponent.call(xe,t,e)},Jr.getTech=$n.getTech,Jr.registerTech=$n.registerTech,Jr.use=function(t,e){zn[t]=zn[t]||[],zn[t].push(e)},Object.defineProperty(Jr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Jr.middleware,"TERMINATOR",{value:Gn,writeable:!1,enumerable:!0}),Jr.browser=Ge,Jr.TOUCH_ENABLED=We,Jr.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(n,t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Jr.mergeOptions=ke,Jr.bind=ce,Jr.registerPlugin=Kr.registerPlugin,Jr.deregisterPlugin=Kr.deregisterPlugin,Jr.plugin=function(t,e){return Q.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Kr.registerPlugin(t,e)},Jr.getPlugins=Kr.getPlugins,Jr.getPlugin=Kr.getPlugin,Jr.getPluginVersion=Kr.getPluginVersion,Jr.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Jr.options.languages=ke(Jr.options.languages,((n={})[t]=e,n)),Jr.options.languages[t]},Jr.log=Q,Jr.createLogger=J,Jr.createTimeRange=Jr.createTimeRanges=Ke,Jr.formatTime=gi,Jr.setFormatTime=function(t){vi=t},Jr.resetFormatTime=function(){vi=mi},Jr.parseUrl=An,Jr.isCrossOrigin=In,Jr.EventTarget=de,Jr.on=Qt,Jr.one=te,Jr.off=Jt,Jr.trigger=Zt,Jr.xhr=l.a,Jr.TextTrack=Rn,Jr.AudioTrack=Nn,Jr.VideoTrack=Un,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Jr[t]=function(){return Q.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),jt[t].apply(null,arguments)}}),Jr.computedStyle=at,Jr.dom=jt,Jr.url=Ln;var ea=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=d.a.buildAbsoluteURL(p.a.location.href,t)),d.a.buildAbsoluteURL(t,e))},na=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ia=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ra=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},aa=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},oa=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),sa=Jr.mergeOptions,ua=Jr.EventTarget,ca=Jr.log,la=function(t,e){["AUDIO","SUBTITLES"].forEach(function(n){for(var i in t.mediaGroups[n])for(var r in t.mediaGroups[n][i]){var a=t.mediaGroups[n][i][r];e(a,n,i,r)}})},ha=function(t,e){var n=sa(t,{}),i=n.playlists[e.uri];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.mediaSequence===e.mediaSequence)return null;var r=sa(i,e);i.segments&&(r.segments=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),a=n;a<r;a++)i[a-n]=sa(t[a],i[a-n]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach(function(t){!function(t,e){t.resolvedUri||(t.resolvedUri=ea(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=ea(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=ea(e,t.map.uri))}(t,r.resolvedUri)});for(var a=0;a<n.playlists.length;a++)n.playlists[a].uri===e.uri&&(n.playlists[a]=r);return n.playlists[e.uri]=r,n},da=function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];t.playlists[n.uri]=n,n.resolvedUri=ea(t.uri,n.uri),n.id=e,n.attributes||(n.attributes={},ca.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},fa=function(t){la(t,function(e){e.uri&&(e.resolvedUri=ea(t.uri,e.uri))})},pa=function(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)},ma=function(t){function e(t,n,i){na(this,e);var r=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(r.srcUrl=t,r.hls_=n,r.withCredentials=i,!r.srcUrl)throw new Error("A non-empty playlist URL is required");return r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:ea(r.master.uri,r.media().uri),withCredentials:r.withCredentials},function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media().uri,"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri)}))}),r}return ra(e,ua),ia(e,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new S;i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{};var r=ha(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(p.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=p.a.setTimeout(function(){n.trigger("mediaupdatetimeout")},pa(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),p.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var i=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i){if(this.state="SWITCHING_MEDIA",this.request){if(ea(this.master.uri,t.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:ea(this.master.uri,t.uri),withCredentials:this.withCredentials},function(i,r){if(e.request){if(i)return e.playlistRequestError(e.request,t.uri,n);e.haveMetadata(r,t.uri),"HAVE_MASTER"===n?e.trigger("loadedmetadata"):e.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),p.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;p.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=p.a.setTimeout(function(){return e.load()},i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var i=new S;return i.push(n.responseText),i.end(),t.state="HAVE_MASTER",i.manifest.uri=t.srcUrl,i.manifest.playlists?(t.master=i.manifest,da(t.master),fa(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(i.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:p.a.location.href,playlists:[{uri:t.srcUrl,id:0}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.master.playlists[0].resolvedUri=t.srcUrl,t.master.playlists[0].attributes=t.master.playlists[0].attributes||{},t.haveMetadata(n,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),e}(),va=Jr.createTimeRange,ga=function(t,e,n){var i,r;return void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(i=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=t.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(t,e)).precise?i.result:(r=function(t,e){for(var n=0,i=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(i=t.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(t,e)).precise?r.result:i.result+n},ya=function(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return p.a.Infinity}return ga(t,e,n)},_a=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var a=e;a<Math.min(0,n);a++)i+=t.targetDuration;e=0}for(var o=e;o<n;o++)i+=t.segments[o].duration;return i},ba=function(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,i=n+2*t.targetDuration;e--&&!((n+=t.segments[e].duration)>=i););return Math.max(0,e)},wa=function(t,e,n){if(!t||!t.segments)return null;if(t.endList)return ya(t);if(null===e)return null;e=e||0;var i=n?ba(t):t.segments.length;return ga(t,t.mediaSequence+i,e)},Ta=function(t){return t-Math.floor(t)==0},Sa=function(t,e){if(Ta(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),a=e*r;if(Ta(a)||i===n)return(a+t)/r}},Ea=Sa.bind(null,1),ka=Sa.bind(null,-1),xa=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Ca=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Aa=function(t){var e=xa(t);return!t.disabled&&!e},Oa=function(t,e){return e.attributes&&e.attributes[t]},Pa=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!Aa(t)&&(t.attributes.BANDWIDTH||0)<n}).length},Ia={duration:ya,seekable:function(t,e){var n=e||0,i=wa(t,e,!0);return null===i?va():va(n,i)},safeLiveIndex:ba,getMediaInfoForTime:function(t,e,n,i){var r=void 0,a=void 0,o=t.segments.length,s=e-i;if(s<0){if(n>0)for(r=n-1;r>=0;r--)if(a=t.segments[r],(s+=ka(a.duration))>0)return{mediaIndex:r,startTime:i-_a(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((s-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<o;r++)if(a=t.segments[r],(s-=Ea(a.duration))<0)return{mediaIndex:r,startTime:i+_a(t,n,r)};return{mediaIndex:o-1,startTime:e}},isEnabled:Aa,isDisabled:function(t){return t.disabled},isBlacklisted:xa,isIncompatible:Ca,playlistEnd:wa,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},isFmp4:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},hasAttribute:Oa,estimateSegmentRequestTime:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Oa("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN},isLowestEnabledRendition:Pa},La=Jr.xhr,Ma=Jr.mergeOptions,Da=function(){return function t(e,n){e=Ma({timeout:45e3},e);var i=t.beforeRequest||Jr.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(e);r&&(e=r)}var a=La(e,function(t,e){var i=a.response;!t&&i&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=i.byteLength||i.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),e.headers&&(a.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(a.timedout=!0),t||a.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(a&&(i||a.responseText)))),n(t,a)}),o=a.abort;return a.abort=function(){return a.aborted=!0,o.apply(a,arguments)},a.uri=e.uri,a.requestTime=Date.now(),a}},Ra=function(t,e){return t.start(e)+"-"+t.end(e)},Na=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},Ua=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},ja=function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},Ba=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Fa=function(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(Na).join("")+" "+e.slice(16*i,16*i+16).map(Ua).join("")+"\n";return n},Ha=Object.freeze({createTransferableMessage:ja,initSegmentId:Ba,hexDump:Fa,tagDump:function(t){var e=t.bytes;return Fa(e)},textRanges:function(t){var e="",n=void 0;for(n=0;n<t.length;n++)e+=Ra(t,n)+" ";return e}}),qa=function(t,e,n,i){var r=void 0;if("stream"===e){r=new Date(1e3*i+n.getTime());var a=t.toISOString(),o=n.toISOString(),s=r.toISOString();return o<=a&&a<=s}if("player"===e)return r=i+n,n<=t&&t<=r},Va=function(t,e,n){if(!n.segments||0===n.segments.length)return null;if("player"!==e&&"stream"!==e)return null;for(var i=0,r=0;r<n.segments.length;r++){var a=n.segments[r],o=i+a.duration,s=void 0,u=void 0;"player"===e?(s=a.start,u=i):(s=a.dateTimeObject,u=a.dateTimeObject);var c=void 0!==a.start&&void 0!==a.end&&qa(t,e,s,a.end-a.start),l=qa(t,e,u,a.duration);if(c)return{segment:a,estimatedStart:u,type:"accurate"};if(l)return{segment:a,estimatedStart:u,type:"estimate"};i=o}return null},$a=function(t){var e=t.playlist,n=t.time,i=void 0===n?void 0:n,r=t.callback;if(!r)throw new Error("getStreamTime: callback must be provided");if(!e||void 0===i)return r({message:"getStreamTime: playlist and time must be provided"});var a=function(t,e){return Va(t,"player",e)}(i,e);if(!a)return r({message:"valid streamTime was not found"});if("estimate"===a.type)return r({message:"Accurate streamTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var o={mediaSeconds:i};return a.segment.dateTimeObject&&(o.programDateTime=a.segment.dateTimeObject.toISOString()),r(null,o)},za=function t(e){var n=e.streamTime,i=e.playlist,r=e.retryCount,a=void 0===r?2:r,o=e.seekTo,s=e.pauseAfterSeek,u=void 0===s||s,c=e.tech,l=e.callback;if(!l)throw new Error("seekToStreamTime: callback must be provided");if(void 0===n||!i||!o)return l({message:"seekToStreamTime: streamTime, seekTo and playlist must be provided"});if(!i.endList&&!c.hasStarted_)return l({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(i))return l({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var h=function(t,e){var n=void 0;try{n=new Date(t)}catch(t){return null}return Va(n,"stream",e)}(n,i);if(!h)return l({message:n+" was not found in the stream"});if("estimate"===h.type)return 0===a?l({message:n+" is not buffered yet. Try again"}):t({streamTime:n,playlist:i,retryCount:a-1,seekTo:o,pauseAfterSeek:u,tech:c,callback:l});var d=h.segment,f=function(t,e){var n=void 0,i=void 0;try{n=new Date(t),i=new Date(e)}catch(t){}var r=n.getTime();return(i.getTime()-r)/1e3}(d.dateTimeObject,n),p=d.start+f;c.one("seeked",function(){return l(null,c.currentTime())}),u&&c.pause(),o(p)},Wa=function(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Jr.createTimeRanges(n)},Ga=function(t,e){return Wa(t,function(t,n){return t-1/30<=e&&n+1/30>=e})},Ya=function(t,e){return Wa(t,function(t){return t-1/30>=e})},Xa=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},Ka=function(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},Qa=function(t,e,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime<=e&&r.endTime>=t&&n.removeCue(r)},Ja=function(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},Za=function(t,e,n){var i=p.a.WebKitDataCue||p.a.VTTCue;if(e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new i(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var r=Ja(t.mediaSource_.duration);if(n.forEach(function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var n=new i(e,e,t.value||t.url||t.data||"");n.frame=t,n.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Jr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Jr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Jr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(n),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var a=t.metadataTrack_.cues,o=[],s=0;s<a.length;s++)a[s]&&o.push(a[s]);var u=o.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),c=Object.keys(u).sort(function(t,e){return Number(t)-Number(e)});c.forEach(function(t,e){var n=u[t],i=Number(c[e+1])||r;n.forEach(function(t){t.endTime=i})})}}},to="undefined"!=typeof window?window:{},eo="undefined"==typeof Symbol?"__target":Symbol(),no="application/javascript",io=to.BlobBuilder||to.WebKitBlobBuilder||to.MozBlobBuilder||to.MSBlobBuilder,ro=to.URL||to.webkitURL||ro&&ro.msURL,ao=to.Worker;function oo(t,e){return function(n){var i=this;if(!e)return new ao(t);if(ao&&!n){var r=lo(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[eo]=new ao(r),function(t,e){if(!t||!e)return;var n=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&ro.revokeObjectURL(t.objURL),n.call(t)}}(this[eo],r),this[eo]}var a={postMessage:function(t){i.onmessage&&setTimeout(function(){i.onmessage({data:t,target:a})})}};e.call(a),this.postMessage=function(t){setTimeout(function(){a.onmessage({data:t,target:i})})},this.isThisThread=!0}}if(ao){var so,uo=lo("self.onmessage = function () {}"),co=new Uint8Array(1);try{(so=new ao(uo)).postMessage(co,[co.buffer])}catch(t){ao=null}finally{ro.revokeObjectURL(uo),so&&so.terminate()}}function lo(t){try{return ro.createObjectURL(new Blob([t],{type:no}))}catch(n){var e=new io;return e.append(t),ro.createObjectURL(e.getBlob(type))}}var ho=new oo("./transmuxer-worker.worker.js",function(t,e){var n=this;!function(){var t,e,i,r,a,o,s,u,c,l,h,d,f,p,m,v,g,y,_,b,w,T,S,E,k,x,C,A,O,P,I,L,M,D,R,N,U,j,B,F,H=Math.pow(2,32)-1;!function(){var t;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in T)T.hasOwnProperty(t)&&(T[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),k=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),C=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:x,audio:C},I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),M=L,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=L,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},e=function(){return t(T.dinf,t(T.dref,I))},i=function(e){return t(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},m=function(e){return t(T.hdlr,A[e])},p=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(T.mdhd,n)},f=function(e){return t(T.mdia,p(e),m(e.type),o(e))},a=function(e){return t(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},o=function(n){return t(T.minf,"video"===n.type?t(T.vmhd,O):t(T.smhd,P),e(),g(n))},s=function(e,n){for(var i=[],r=n.length;r--;)i[r]=_(n[r]);return t.apply(null,[T.moof,a(e)].concat(i))},u=function(e){for(var n=e.length,i=[];n--;)i[n]=h(e[n]);return t.apply(null,[T.moov,l(4294967295)].concat(i).concat(c(e)))},c=function(e){for(var n=e.length,i=[];n--;)i[n]=b(e[n]);return t.apply(null,[T.mvex].concat(i))},l=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(T.mvhd,n)},v=function(e){var n,i,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,a[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(T.sdtp,a)},g=function(e){return t(T.stbl,y(e),t(T.stts,R),t(T.stsc,M),t(T.stsz,D),t(T.stco,L))},y=function(e){return t(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?N(e):U(e))},N=function(e){var n,i=e.sps||[],r=e.pps||[],a=[],o=[];for(n=0;n<i.length;n++)a.push((65280&i[n].byteLength)>>>8),a.push(255&i[n].byteLength),a=a.concat(Array.prototype.slice.call(i[n]));for(n=0;n<r.length;n++)o.push((65280&r[n].byteLength)>>>8),o.push(255&r[n].byteLength),o=o.concat(Array.prototype.slice.call(r[n]));return t(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(T.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length]).concat(a).concat([r.length]).concat(o))),t(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(e){return t(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},d=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(T.tkhd,n)},_=function(e){var n,i,r,a,o,s;return n=t(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(H+1)),s=Math.floor(e.baseMediaDecodeTime%(H+1)),i=t(T.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(r=w(e,92),t(T.traf,n,i,r)):(a=v(e),r=w(e,a.length+92),t(T.traf,n,i,r,a))},h=function(e){return e.duration=e.duration||4294967295,t(T.trak,d(e),f(e))},b=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(T.trex,n)},F=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},B=function(e,n){var i,r,a,o;for(n+=20+16*(r=e.samples||[]).length,i=F(r,n),o=0;o<r.length;o++)a=r[o],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return t(T.trun,new Uint8Array(i))},j=function(e,n){var i,r,a,o;for(n+=20+8*(r=e.samples||[]).length,i=F(r,n),o=0;o<r.length;o++)a=r[o],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return t(T.trun,new Uint8Array(i))},w=function(t,e){return"audio"===t.type?j(t,e):B(t,e)};var q,V,$={ftyp:r=function(){return t(T.ftyp,S,E,S,k)},mdat:function(e){return t(T.mdat,e)},moof:s,moov:u,initSegment:function(t){var e,n=r(),i=u(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e}},z=function(t){return t>>>0},W={findBox:q=function(t,e){var n,i,r,a,o,s=[];if(!e.length)return null;for(n=0;n<t.byteLength;)i=z(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),r=V(t.subarray(n+4,n+8)),a=i>1?n+i:t.byteLength,r===e[0]&&(1===e.length?s.push(t.subarray(n+8,a)):(o=q(t.subarray(n+8,a),e.slice(1))).length&&(s=s.concat(o))),n=a;return s},parseType:V=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},timescale:function(t){return q(t,["moov","trak"]).reduce(function(t,e){var n,i,r,a,o;return(n=q(e,["tkhd"])[0])?(i=n[0],a=z(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(o=q(e,["mdia","mdhd"])[0])?(r=0===(i=o[0])?12:20,t[a]=z(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),t):null):null},{})},startTime:function(t,e){var n,i,r;return n=q(e,["moof","traf"]),i=[].concat.apply([],n.map(function(e){return q(e,["tfhd"]).map(function(n){var i,r;return i=z(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=t[i]||9e4,(q(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=z(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=z(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0]||1/0)/r})})),r=Math.min.apply(null,i),isFinite(r)?r:0},videoTrackIds:function(t){var e=[];return q(t,["moov","trak"]).forEach(function(t){var n=q(t,["mdia","hdlr"]),i=q(t,["tkhd"]);n.forEach(function(t,n){var r,a,o=V(t.subarray(8,12)),s=i[n];"vide"===o&&(a=0===(r=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),e.push(a))})}),e}},G=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,a;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){t={}}}};G.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},G.prototype.push=function(t){this.trigger("data",t)},G.prototype.flush=function(t){this.trigger("done",t)};var Y,X,K,Q,J,Z=G,tt=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},et=function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},nt=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},it=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},rt=function(t,e){var n,i,r,a,o,s=e||0,u=[];for(n=0;n<t.length;n++)for(a=t[n],i=0;i<a.length;i++)o=a[i],s+=(r=tt(o,s)).size,u.push(r);return u},at=function(t){var e,n,i,r,a,o,s=0,u=t.byteLength,c=t.nalCount,l=new Uint8Array(u+4*c),h=new DataView(l.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)o=a[i],h.setUint32(s,o.data.byteLength),s+=4,l.set(o.data,s),s+=o.data.byteLength;return l},ot=[33,16,5,32,164,27],st=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ut=function(t){for(var e=[];t--;)e.push(0);return e},ct={96000:[ot,[227,64],ut(154),[56]],88200:[ot,[231],ut(170),[56]],64000:[ot,[248,192],ut(240),[56]],48000:[ot,[255,192],ut(268),[55,148,128],ut(54),[112]],44100:[ot,[255,192],ut(268),[55,163,128],ut(84),[112]],32000:[ot,[255,192],ut(268),[55,234],ut(226),[112]],24000:[ot,[255,192],ut(268),[55,255,128],ut(268),[111,112],ut(126),[224]],16000:[ot,[255,192],ut(268),[55,255,128],ut(268),[111,255],ut(269),[223,108],ut(195),[1,192]],12000:[st,ut(268),[3,127,248],ut(268),[6,255,240],ut(268),[13,255,224],ut(268),[27,253,128],ut(259),[56]],11025:[st,ut(268),[3,127,248],ut(268),[6,255,240],ut(268),[13,255,224],ut(268),[27,255,192],ut(268),[55,175,128],ut(108),[112]],8000:[st,ut(268),[3,121,16],ut(47),[7]]},lt=(Y=ct,Object.keys(Y).reduce(function(t,e){return t[e]=new Uint8Array(Y[e].reduce(function(t,e){return t.concat(e)},[])),t},{})),ht=(X=function(t){return 9e4*t},K=function(t,e){return t*e},Q=function(t){return t/9e4},J=function(t,e){return t/e},function(t,e){return X(J(t,e))}),dt=function(t,e){return K(Q(t),e)},ft=function(t,e,n,i){var r,a,o,s,u=0,c=0,l=0;if(e.length&&(r=ht(t.baseMediaDecodeTime,t.samplerate),a=Math.ceil(9e4/(t.samplerate/1024)),n&&i&&(u=r-Math.max(n,i),l=(c=Math.floor(u/a))*a),!(c<1||l>45e3))){for((o=lt[t.samplerate])||(o=e[0].data),s=0;s<c;s++)e.splice(s,0,{data:o});t.baseMediaDecodeTime-=Math.floor(dt(l,t.samplerate))}},pt=function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},mt=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},vt=function(t){var e,n,i=0,r=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r},gt=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},yt=function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n},_t=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},bt=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}e+=r,i=0,r=0}return n},wt=function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},Tt=function(t,e){var n,i,r,a,o=[];if(!(64&e[0]))return o;for(i=31&e[0],n=0;n<i;n++)a={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(a.ccData=e[r+3]<<8|e[r+4],o.push(a));return o},St=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},Et=4,kt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Pt(0,0),new Pt(0,1),new Pt(1,0),new Pt(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};(kt.prototype=new Z).push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=bt(t.escapedRBSP)).payloadType===Et&&(n=wt(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=Tt(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},kt.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},kt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},kt.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},kt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},kt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var xt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ct=function(t){return null===t?"":(t=xt[t]||t,String.fromCharCode(t))},At=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ot=function(){for(var t=[],e=15;e--;)t.push("");return t},Pt=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Ot();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ot();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Ot()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))a=Ct((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=Ct((i=(3&i)<<8)|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var o=At.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=Ct(i),a+=Ct(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Pt.prototype=new Z,Pt.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Pt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ot(),this.nonDisplayed_=Ot(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Pt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Pt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Pt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Pt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Pt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Pt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Pt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Pt.prototype.isNormalChar=function(t){return t>=32&&t<=127},Pt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Ot(),this.displayed_=Ot()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Pt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},Pt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},Pt.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},Pt.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},Pt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Pt.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};var It={CaptionStream:kt,Cea608Stream:Pt},Lt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Mt=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},Dt=function t(e){var n,i;t.prototype.init.call(this),this.type_=e,this.push=function(t){t.type===this.type_&&(void 0===i&&(i=t.dts),t.dts=Mt(t.dts,i),t.pts=Mt(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.discontinuity=function(){i=void 0,n=void 0}};Dt.prototype=new Z;var Rt,Nt=Dt,Ut=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},jt=function(t,e,n){return decodeURIComponent(Ut(t,e,n))},Bt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Ft={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=jt(t.data,1,e),t.value=jt(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=jt(t.data,1,e),t.url=jt(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(Ut(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Rt=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,r=[],a=0;if(Rt.prototype.init.call(this),this.dispatchType=Lt.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,o,s,u,c;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(a=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),a+=t.data.byteLength,1===r.length&&(i=Bt(t.data.subarray(6,10)),i+=10),!(a<i)){for(e={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},c=0;c<i;)e.data.set(r[0].data.subarray(0,i-c),c),c+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();o=10,64&e.data[5]&&(o+=4,o+=Bt(e.data.subarray(10,14)),i-=Bt(e.data.subarray(16,20)));do{if((s=Bt(e.data.subarray(o+4,o+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(e.data[o],e.data[o+1],e.data[o+2],e.data[o+3]),data:e.data.subarray(o+10,o+s+10)}).key=u.id,Ft[u.id]&&(Ft[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var l=u.data,h=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;h*=4,h+=3&l[7],u.timeStamp=h,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),o+=10,o+=s}while(o<i);this.trigger("data",e)}}}).prototype=new Z;var Ht,qt,Vt,$t=Rt,zt=Nt;(Ht=function(){var t=new Uint8Array(188),e=0;Ht.prototype.init.call(this),this.push=function(n){var i,r=0,a=188;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;a<i.byteLength;)71!==i[r]||71!==i[a]?(r++,a++):(this.trigger("data",i.subarray(r,a)),r+=188,a+=188);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}}).prototype=new Z,(qt=function(){var t,e,n,i;qt.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var a=t[r],o=(31&t[r+1])<<8|t[r+2];a===Lt.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=o:a===Lt.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=o:a===Lt.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][o]=a),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=Lt.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Lt.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new Z,qt.STREAM_TYPES={h264:27,adts:15},(Vt=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(e,n,i){var r,a,o=new Uint8Array(e.size),s={type:n},u=0,c=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)a=e.data[u],o.set(a.data,c),c+=a.data.byteLength;var l,h,d;l=o,(h=s).packetLength=6+(l[4]<<8|l[5]),h.dataAlignmentIndicator=0!=(4&l[6]),192&(d=l[7])&&(h.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,h.pts*=4,h.pts+=(6&l[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,h.dts*=4,h.dts+=(6&l[18])>>>1)),h.data=l.subarray(9+l[8]),r="video"===n||s.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",s)}};Vt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,o;switch(a.streamType){case Lt.H264_STREAM_TYPE:case Lt.H264_STREAM_TYPE:t=e,o="video";break;case Lt.ADTS_STREAM_TYPE:t=n,o="audio";break;case Lt.METADATA_STREAM_TYPE:t=i,o="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&r(t,o,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=a.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[a.type]()},this.flush=function(){r(e,"video"),r(n,"audio"),r(i,"timed-metadata"),this.trigger("done")}}).prototype=new Z;var Wt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Ht,TransportParseStream:qt,ElementaryStream:Vt,TimestampRolloverStream:zt,CaptionStream:It.CaptionStream,Cea608Stream:It.Cea608Stream,MetadataStream:$t};for(var Gt in Lt)Lt.hasOwnProperty(Gt)&&(Wt[Gt]=Lt[Gt]);var Yt,Xt=Wt,Kt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Yt=function(){var t;Yt.prototype.init.call(this),this.push=function(e){var n,i,r,a,o,s,u=0,c=0;if("audio"===e.type)for(t?(a=t,(t=new Uint8Array(a.byteLength+e.data.byteLength)).set(a),t.set(e.data,a.byteLength)):t=e.data;u+5<t.length;)if(255===t[u]&&240==(246&t[u+1])){if(i=2*(1&~t[u+1]),n=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,s=9e4*(o=1024*(1+(3&t[u+6])))/Kt[(60&t[u+2])>>>2],r=u+n,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+c*s,dts:e.dts+c*s,sampleCount:o,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:Kt[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+i,r)}),t.byteLength===r)return void(t=void 0);c++,t=t.subarray(r)}else u++},this.flush=function(){this.trigger("done")}}).prototype=new Z;var Qt,Jt,Zt,te=Yt,ee=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,a=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");a.set(t.subarray(r,r+o)),n=new DataView(a.buffer).getUint32(0),i=8*o,e-=o},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),a=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Jt=function(){var t,e,n=0;Jt.prototype.init.call(this),this.push=function(i){var r;for(e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}}).prototype=new Z,Zt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Qt=function(){var t,e,n,i,r,a,o,s=new Jt;Qt.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,i=t.dts,s.push(t))},s.on("data",function(o){var s={trackId:e,pts:n,dts:i,data:o};switch(31&o[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(o.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(o.subarray(1)),s.config=a(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",s)}),s.on("done",function(){t.trigger("done")}),this.flush=function(){s.flush()},o=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},r=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},a=function(t){var e,n,i,r,a,s,u,c,l,h,d,f,p,m=0,v=0,g=0,y=0,_=1;if(n=(e=new ee(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),Zt[n]&&(3===(a=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==a?8:12,p=0;p<d;p++)e.readBoolean()&&o(p<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),p=0;p<u;p++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),c=e.readUnsignedExpGolomb(),l=e.readUnsignedExpGolomb(),0===(h=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(m=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}f&&(_=f[0]/f[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(c+1)-2*m-2*v)*_),height:(2-h)*(l+1)*16-2*g-2*y}}}).prototype=new Z;var ne,ie={H264Stream:Qt,NalByteStream:Jt},re=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},ae=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},oe=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n};(ne=function(){var t=new Uint8Array,e=0;ne.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var i,r,a,o,s=0,u=0;for(t.length?(o=t.length,(t=new Uint8Array(n.byteLength+o)).set(t.subarray(0,o)),t.set(n,o)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(255!=(255&t[u])||240!=(240&t[u+1]))u++;else{if(t.length-u<7)break;if(u+(s=oe(t,u))>t.length)break;a={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",a),u+=s}else{if(t.length-u<10)break;if(u+(s=ae(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",r),u+=s}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array}}).prototype=new Z;var se,ue,ce,le,he=ne,de=ie.H264Stream,fe=re,pe=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],me=["width","height","profileIdc","levelIdc","profileCompatibility"],ve=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0};(ue=function(t,e){var n=[],i=0,r=0,a=0,o=1/0;e=e||{},ue.prototype.init.call(this),this.push=function(e){_t(t,e),t&&pe.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){r=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){o=t},this.setAudioAppendStart=function(t){a=t},this.flush=function(){var s,u,c,l;0!==n.length?(s=pt(n,t,r),t.baseMediaDecodeTime=yt(t,e.keepOriginalTimestamps),ft(t,s,a,o),t.samples=mt(s),c=$.mdat(vt(s)),n=[],u=$.moof(i,[t]),l=new Uint8Array(u.byteLength+c.byteLength),i++,l.set(u),l.set(c,u.byteLength),gt(t),this.trigger("data",{track:t,boxes:l}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new Z,(se=function(t,e){var n,i,r=0,a=[],o=[];e=e||{},se.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){_t(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],me.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),a.push(e)},this.flush=function(){for(var n,i,s,u,c,l;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=et(a),(s=nt(n))[0][0].keyFrame||((i=this.getGopForFusion_(a[0],t))?(s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=it(s)),o.length){var h;if(!(h=e.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");gt(t),s=h}_t(t,s),t.samples=rt(s),c=$.mdat(at(s)),t.baseMediaDecodeTime=yt(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=$.moof(r,[t]),l=new Uint8Array(u.byteLength+c.byteLength),r++,l.set(u),l.set(c,u.byteLength),this.trigger("data",{track:t,boxes:l}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){gt(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,i,r,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)r=(a=this.gopCache_[o]).gop,t.pps&&ve(t.pps[0],a.pps[0])&&t.sps&&ve(t.sps[0],a.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=a,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,a,s,u,c;for(a=t.byteLength,s=t.nalCount,u=t.duration,e=n=0;e<o.length&&n<t.length&&(i=o[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,a-=r.byteLength,s-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((c=t.slice(n)).byteLength=a,c.duration=u,c.nalCount=s,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,s,u;for(e=o.length-1,n=t.length-1,a=null,s=!1;e>=0&&n>=0;){if(i=o[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===o.length-1&&(a=n),n--)}if(!s&&null===a)return null;if(0===(u=s?n:a))return t;var c=t.slice(u),l=c.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return c.byteLength=l.byteLength,c.duration=l.duration,c.nalCount=l.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(t){o=t}}).prototype=new Z,(le=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,le.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new Z,le.prototype.flush=function(t){var e,n,i,r,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,me.forEach(function(t){o.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,pe.forEach(function(t){o.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=$.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=s),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=s),e.endTime/=9e4,o.captionStreams[e.stream]=!0,o.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(ce=function(t){var e,n,i=this,r=!0;ce.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new Xt.MetadataStream,e.aacStream=new he,e.audioTimestampRolloverStream=new Xt.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new Xt.TimestampRolloverStream("timed-metadata"),e.adtsStream=new te,e.coalesceStream=new le(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(r){"timed-metadata"!==r.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new ue(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Xt.MetadataStream,r.packetStream=new Xt.TransportPacketStream,r.parseStream=new Xt.TransportParseStream,r.elementaryStream=new Xt.ElementaryStream,r.videoTimestampRolloverStream=new Xt.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new Xt.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Xt.TimestampRolloverStream("timed-metadata"),r.adtsStream=new te,r.h264Stream=new de,r.captionStream=new Xt.CaptionStream,r.coalesceStream=new le(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(a){var o;if("metadata"===a.type){for(o=a.tracks.length;o--;)e||"video"!==a.tracks[o].type?n||"audio"!==a.tracks[o].type||((n=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(e=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new se(e,t),r.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts))}),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ue(n,t),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,gt(n),t.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,gt(e),r.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=i)),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=fe(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Z;var ge,ye,_e={Transmuxer:ce,VideoSegmentStream:se,AudioSegmentStream:ue,AUDIO_PROPERTIES:pe,VIDEO_PROPERTIES:me},be=W.parseType,we=function(t){return new Date(1e3*t-20828448e5)},Te=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},Se={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:ge(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,a=new DataView(t.buffer,t.byteOffset,t.byteLength),o={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},s=31&t[5];for(i=6,r=0;r<s;r++)n=a.getUint16(i),i+=2,o.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=a.getUint16(i),i+=2,o.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return o},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:be(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(be(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:ge(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:ge(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:be(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r}(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=we(n.getUint32(i)),i+=8,r.modificationTime=we(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=we(n.getUint32(i)),i+=4,r.modificationTime=we(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:ge(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:ge(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=ge(t.subarray(28))[0]),n},moof:function(t){return{boxes:ge(t)}},moov:function(t){return{boxes:ge(t)}},mvex:function(t){return{boxes:ge(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=we(e.getUint32(n)),n+=8,i.modificationTime=we(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8,i.duration=e.getUint32(n)):(i.creationTime=we(e.getUint32(n)),n+=4,i.modificationTime=we(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4,i.duration=e.getUint32(n)),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:ge(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:ge(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return Se.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],o=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],c=65536&i.flags[0],l=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),a&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),o&&(i.defaultSampleDuration=n.getUint32(e),e+=4),s&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),c&&(i.durationIsEmpty=!0),!r&&l&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=we(e.getUint32(n)),n+=8,i.modificationTime=we(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8,i.duration=e.getUint32(n)):(i.creationTime=we(e.getUint32(n)),n+=4,i.modificationTime=we(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4,i.duration=e.getUint32(n)),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:ge(t)}},trak:function(t){return{boxes:ge(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],c=8&n.flags[1],l=i.getUint32(4),h=8;for(r&&(n.dataOffset=i.getInt32(h),h+=4),a&&l&&(e={flags:Te(t.subarray(h,h+4))},h+=4,o&&(e.duration=i.getUint32(h),h+=4),s&&(e.size=i.getUint32(h),h+=4),c&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e),l--);l--;)e={},o&&(e.duration=i.getUint32(h),h+=4),s&&(e.size=i.getUint32(h),h+=4),u&&(e.flags=Te(t.subarray(h,h+4)),h+=4),c&&(e.compositionTimeOffset=i.getUint32(h),h+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},Ee={inspect:ge=function(t){for(var e,n,i,r,a,o=0,s=[],u=new ArrayBuffer(t.length),c=new Uint8Array(u),l=0;l<t.length;++l)c[l]=t[l];for(e=new DataView(u);o<t.byteLength;)n=e.getUint32(o),i=be(t.subarray(o+4,o+8)),r=n>1?o+n:t.byteLength,(a=(Se[i]||function(t){return{data:t}})(t.subarray(o+8,r))).size=n,a.type=i,s.push(a),o=r;return s},textify:ye=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,i){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var i=n+"  "+e+": ",r=t[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var a=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return a?1===a.length?i+"<"+a.join("").slice(1)+">":i+"<\n"+a.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+ye(t.boxes,e+1):"")}).join("\n")},parseTfdt:Se.tfdt,parseHdlr:Se.hdlr,parseTfhd:Se.tfhd,parseTrun:Se.trun},ke=St,xe=It.CaptionStream,Ce=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},Ae=function(t,e){var n=W.findBox(t,["moof","traf"]),i={},r=[];return W.findBox(t,["mdat"]).forEach(function(t,e){var i=n[e];r.push({mdat:t,traf:i})}),r.forEach(function(t){var n,r=t.mdat,a=t.traf,o=W.findBox(a,["tfhd"]),s=Ee.parseTfhd(o[0]),u=s.trackId,c=W.findBox(a,["tfdt"]),l=c.length>0?Ee.parseTfdt(c[0]).baseMediaDecodeTime:0,h=W.findBox(a,["trun"]);e===u&&h.length>0&&(n=function(t,e,n){var i,r,a,o,s=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=a)if(a=s.getUint32(r),r+=4,!(a<=0))switch(31&t[r]){case 6:var c=t.subarray(r+1,r+1+a),l=Ce(r,e);i={nalUnitType:"sei_rbsp",size:a,data:c,escapedRBSP:ke(c),trackId:n},l?(i.pts=l.pts,i.dts=l.dts,o=l):(i.pts=o.pts,i.dts=o.dts),u.push(i)}return u}(r,function(t,e,n){var i=e,r=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,o=n.trackId,s=[];return t.forEach(function(t){var e=Ee.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=a),t.trackId=o,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration}),s=s.concat(e)}),s}(h,l,s),u),i[u]||(i[u]=[]),i[u]=i[u].concat(n))}),i},Oe={generator:$,probe:W,Transmuxer:_e.Transmuxer,AudioSegmentStream:_e.AudioSegmentStream,VideoSegmentStream:_e.VideoSegmentStream,CaptionParser:function(){var t,e,n,i,r,a=!1;this.isInitialized=function(){return a},this.init=function(){t=new xe,a=!0,t.on("data",function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,r.captions.push(t),r.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&i===e[n])},this.parse=function(t,a,o){var s;if(!this.isInitialized())return null;if(!a||!o)return null;if(this.isNewInit(a,o))n=a[0],i=o[n];else if(!n||!i)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,a,o)}return null!==(s=function(t,e,n){return e?{seiNals:Ae(t,e)[e],timescale:n}:null}(t,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},Pe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ie=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Le=function(){function t(e,n){Pe(this,t),this.options=n||{},this.self=e,this.init()}return Ie(t,[{key:"init",value:function(){var t,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Oe.Transmuxer(this.options),t=this.self,(e=this.transmuxer).on("data",function(e){var n=e.initSegment;e.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=e.data;e.data=i.buffer,t.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){t.postMessage({action:"caption",data:e})}),e.on("done",function(e){t.postMessage({action:"done"})}),e.on("gopInfo",function(e){t.postMessage({action:"gopInfo",gopInfo:e})})}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Le(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new Le(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(n)}()}),fo={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},po=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})},mo=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={codecCount:0};return n.codecCount=e.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},vo=function(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'},go=function(t,e){var n=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"}(e),i=function(t){var e=t.attributes||{};return e.CODECS?mo(e.CODECS):fo}(e),r=e.attributes||{},a=!0,o=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var s=t.mediaGroups.AUDIO[r.AUDIO];if(s)for(var u in o=!0,a=!1,s)if(!s[u].uri&&!s[u].playlists){a=!0;break}}o&&!i.audioProfile&&(a||(i.audioProfile=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return mo(r.playlists[0].attributes.CODECS).audioProfile}return null}(t,r.AUDIO)),i.audioProfile||(Jr.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=fo.audioProfile));var c={};i.videoCodec&&(c.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(c.audio="mp4a.40."+i.audioProfile);var l=vo("audio",n,[c.audio]),h=vo("video",n,[c.video]),d=vo("video",n,[c.video,c.audio]);return o?!a&&c.video?[h,l]:a||c.video?[d,l]:[l,l]:c.video?[d]:[l]},yo=function(t){return/mp4a\.\d+.\d+/i.test(t)},_o=function(t){return/avc1\.[\da-f]+/i.test(t)},bo=function(t,e,n){var i=null,r=null,a=0,o=[],s=[];if(!t&&!e)return Jr.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(n)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return Jr.createTimeRange();for(var u=t.buffered,c=e.buffered,l=u.length;l--;)o.push({time:u.start(l),type:"start"}),o.push({time:u.end(l),type:"end"});for(l=c.length;l--;)o.push({time:c.start(l),type:"start"}),o.push({time:c.end(l),type:"end"});for(o.sort(function(t,e){return t.time-e.time}),l=0;l<o.length;l++)"start"===o[l].type?2===++a&&(i=o[l].time):"end"===o[l].type&&1===--a&&(r=o[l].time),null!==i&&null!==r&&(s.push([i,r]),i=null,r=null);return Jr.createTimeRanges(s)},wo=function(t){function e(t,n){na(this,e);var i=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Jr.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=t,i.codecs_=n,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Jr.browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach(function(t){yo(t)?i.audioCodec_=t:_o(t)&&(i.videoCodec_=t)}),i.transmuxer_=new ho,i.transmuxer_.postMessage({action:"init",options:r}),i.transmuxer_.onmessage=function(t){return"data"===t.data.action?i.data_(t):"done"===t.data.action?i.done_(t):"gopInfo"===t.data.action?i.appendGopInfo_(t):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return bo(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}return ra(e,t),ia(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),function(t,e,n){var i=e.player_;if(n.captions&&n.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),n.captionStreams)if(!t.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var a=i.textTracks().getTrackById(r);t.inbandTextTracks_[r]=a||i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)}(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(n){if(t[n+"Codec_"]&&!t[n+"Buffer_"]){var i=null;if(t.mediaSource_[n+"Buffer_"])(i=t.mediaSource_[n+"Buffer_"]).updating=!1;else{var r=n+'/mp4;codecs="'+t[n+"Codec_"]+'"';i=function(t,e){var n=t.addSourceBuffer(e),i=Object.create(null);i.updating=!1,i.realBuffer_=n;var r=function(t){"function"==typeof n[t]?i[t]=function(){return n[t].apply(n,arguments)}:void 0===i[t]&&Object.defineProperty(i,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})};for(var a in n)r(a);return i}(t.mediaSource_.nativeMediaSource_,r),t.mediaSource_[n+"Buffer_"]=i}t[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(r){i.addEventListener(r,function(){if("audio"!==n||!t.audioDisabled_)return"updateend"===r&&(t[n+"Buffer_"].updating=!1),e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(n===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)})?t.trigger(r):void 0})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(t,e,n){if(void 0===e||null===e||!t.length)return[];var i=Math.ceil(9e4*(e-n+3)),r=void 0;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil(9e4*(e-i)),a=Math.ceil(9e4*(n-i)),o=t.slice(),s=t.length;s--&&!(t[s].pts<=a););if(-1===s)return o;for(var u=s+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),o.splice(u,s-u+1),o}(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),Qa(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Qa(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),Za(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(i)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(Jr.EventTarget),To=function(t){function e(){na(this,e);var t=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=void 0;for(n in t.nativeMediaSource_=new p.a.MediaSource,t.nativeMediaSource_)n in e.prototype||"function"!=typeof t.nativeMediaSource_[n]||(t[n]=t.nativeMediaSource_[n].bind(t.nativeMediaSource_));return t.duration_=NaN,Object.defineProperty(t,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(t,"seekable",{get:function(){return this.duration_===1/0?Jr.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(t,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(t,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),t.sourceBuffers=[],t.activeSourceBuffers_=[],t.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var n=!1,i=!0,r=0;r<t.player_.audioTracks().length;r++){var a=t.player_.audioTracks()[r];if(a.enabled&&"main"!==a.kind){n=!0,i=!1;break}}t.sourceBuffers.forEach(function(e,r){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=n;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,i=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=r?i:!i,e.audioDisabled_))return;t.activeSourceBuffers_.push(e)})},t.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},t.onHlsReset_=function(){t.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},t.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},t),t.on("sourceopen",function(e){var n=k.a.querySelector('[src="'+t.url_+'"]');n&&(t.player_=Jr(n.parentNode),t.player_&&(t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_)))}),t.on("sourceended",function(e){for(var n=Ja(t.duration),i=0;i<t.sourceBuffers.length;i++){var r=t.sourceBuffers[i],a=r.metadataTrack_&&r.metadataTrack_.cues;a&&a.length&&(a[a.length-1].endTime=n)}}),t.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),t}return ra(e,t),ia(e,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,n=function(t){var e={type:"",parameters:{}},n=t.trim().split(";");return e.type=n.shift().trim(),n.forEach(function(t){var n=t.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),r=n[1].replace(/"/g,"").trim();e.parameters[i]=r}}),e}(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(i=po(i)).filter(function(t){return yo(t)||_o(t)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),e=new wo(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(Jr.EventTarget),So=0;Jr.mediaSources={};var Eo=function(t,e){var n=Jr.mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})},ko=function(){return!!p.a.MediaSource&&!!p.a.MediaSource.isTypeSupported&&p.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},xo=function(){if(this.MediaSource={open:Eo,supportsNativeMediaSources:ko},ko())return new To;throw new Error("Cannot use create a virtual MediaSource for this video")};xo.open=Eo,xo.supportsNativeMediaSources=ko;var Co={createObjectURL:function(t){var e=void 0;return t instanceof To?(e=p.a.URL.createObjectURL(t.nativeMediaSource_),t.url_=e,e):t instanceof To?(e="blob:vjs-media-source/"+So,So++,Jr.mediaSources[e]=t,e):(e=p.a.URL.createObjectURL(t),t.url_=e,e)}};Jr.MediaSource=xo,Jr.URL=Co;var Ao=Jr.EventTarget,Oo=Jr.mergeOptions,Po=function(t,e){for(var n=Oo(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),i=0;i<e.playlists.length;i++){var r=ha(n,e.playlists[i]);r&&(n=r)}return la(e,function(t,e,i,r){if(t.playlists&&t.playlists.length){var a=t.playlists[0].uri,o=ha(n,t.playlists[0]);o&&((n=o).mediaGroups[e][i][r].playlists[0]=n.playlists[a])}}),n},Io=function(t){function e(t,n,i,r){na(this,e);var a=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(a.hls_=n,a.withCredentials=i,!t)throw new Error("A non-empty playlist URL or playlist is required");return a.on("minimumUpdatePeriod",function(){a.refreshXml_()}),a.on("mediaupdatetimeout",function(){a.refreshMedia_()}),"string"==typeof t?(a.srcUrl=t,a.state="HAVE_NOTHING",aa(a)):(a.masterPlaylistLoader_=r,a.state="HAVE_METADATA",a.started=!0,a.media(t),p.a.setTimeout(function(){a.trigger("loadedmetadata")},0),a)}return ra(e,Ao),ia(e,[{key:"dispose",value:function(){this.stopRequest(),p.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var e=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.uri!==this.media_.uri;this.state="HAVE_METADATA",n&&(this.media_&&this.trigger("mediachanging"),this.media_=t,this.refreshMedia_(),"HAVE_MASTER"!==e&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),p.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(t){var e=this;p.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=p.a.setTimeout(function(){return e.load()},i)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var t=Object(x.a)(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});t.uri=this.srcUrl;for(var e=0;e<t.playlists.length;e++){var n="placeholder-uri-"+e;t.playlists[e].uri=n,t.playlists[n]=t.playlists[e]}return la(t,function(e,n,i,r){if(e.playlists&&e.playlists.length){var a="placeholder-uri-"+n+"-"+i+"-"+r;e.playlists[0].uri=a,t.playlists[a]=e.playlists[0]}}),da(t),fa(t),t}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?t.masterLoaded_=Date.parse(n.responseHeaders.date):t.masterLoaded_=Date.now(),t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}})}},{key:"syncClientServerClock_",value:function(t){var e=this,n=Object(x.b)(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),t()):void(this.request=this.hls_.xhr({uri:ea(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(i,r){if(e.request){if(i)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var a=void 0;a="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=a-Date.now(),t()}}))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),p.a.setTimeout(function(){t.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&p.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText;var i=t.parseMasterXml();t.master=Po(t.master,i),p.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var t=this,e=void 0,n=void 0;this.masterPlaylistLoader_?(e=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(e=this.master,n=this.parseMasterXml());var i=Po(e,n);i?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=i:this.master=i,this.media_=i.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=p.a.setTimeout(function(){t.trigger("mediaupdatetimeout")},pa(this.media(),!!i))),this.trigger("loadedplaylist")}}]),e}(),Lo=function(t){return Jr.log.debug?Jr.log.debug.bind(Jr,"VHS:",t+" >"):function(){}};function Mo(){}var Do=function(){function t(e,n,i,r){na(this,t),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=i,this.mimeType_=n,this.logger_=Lo("SourceUpdater["+i+"]["+n+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,r)):this.createSourceBuffer_(n,r)}return ia(t,[{key:"createSourceBuffer_",value:function(t,e){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.logger_("buffered ["+Xa(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Jr.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mo;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+t+" => "+e+"]"),n.sourceBuffer_.remove(t,e)},i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}(),Ro={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},No=2,Uo=-101,jo=-102,Bo=function(t){var e,n,i={};return t.byterange&&(i.Range=(e=t.byterange,n=e.offset+e.length-1,"bytes="+e.offset+"-"+n)),i},Fo=function(t){t.forEach(function(t){t.abort()})},Ho=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Uo,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:jo,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:No,xhr:e}:null},qo=function(t,e,n){var i=0,r=!1;return function(a,o){if(!r)return a?(r=!0,Fo(t),n(a,o)):(i+=1)===t.length?(o.endOfAllRequests=Date.now(),o.encryptedBytes?function(t,e,n){t.addEventListener("message",function i(r){if(r.data.source===e.requestId){t.removeEventListener("message",i);var a=r.data.decrypted;return e.bytes=new Uint8Array(a.bytes,a.byteOffset,a.byteLength),n(null,e)}}),t.postMessage(ja({source:e.requestId,encrypted:e.encryptedBytes,key:e.key.bytes,iv:e.key.iv}),[e.encryptedBytes.buffer,e.key.bytes.buffer])}(e,o,n):n(null,o)):void 0}},Vo=function(t,e){return function(n){var i,r,a;return t.stats=Jr.mergeOptions(t.stats,(r=(i=n).target,(a={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=i.loaded,a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3),a)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(n,t)}},$o=function(t,e,n,i,r,a,o){var s=[],u=qo(s,n,o);if(r.key){var c=t(Jr.mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(n,i){var r=i.response,a=Ho(n,i);if(a)return e(a,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:No,xhr:i},t);var o=new DataView(r);return t.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),e(null,t)}}(r,u));s.push(c)}if(r.map&&!r.map.bytes){var l=t(Jr.mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Bo(r.map)}),function(t,e,n){return function(i,r){var a=r.response,o=Ho(i,r);return o?n(o,t):0===a.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:No,xhr:r},t):(t.map.bytes=new Uint8Array(r.response),e.isInitialized()||e.init(),t.map.timescales=A.a.timescale(t.map.bytes),t.map.videoTrackIds=A.a.videoTrackIds(t.map.bytes),n(null,t))}}(r,i,u));s.push(l)}var h=t(Jr.mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Bo(r)}),function(t,e,n){return function(i,r){var a=r.response,o=Ho(i,r),s=void 0;return o?n(o,t):0===a.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:No,xhr:r},t):(t.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(r),t.key?t.encryptedBytes=new Uint8Array(r.response):t.bytes=new Uint8Array(r.response),t.map&&t.map.bytes&&(e.isInitialized()||e.init(),(s=e.parse(t.bytes,t.map.videoTrackIds,t.map.timescales))&&s.captions&&(t.captionStreams=s.captionStreams,t.fmp4Captions=s.captions)),n(null,t))}}(r,i,u));return h.addEventListener("progress",Vo(r,a)),s.push(h),function(){return Fo(s)}},zo=function(t,e){var n;return t&&(n=p.a.getComputedStyle(t))?n[e]:""},Wo=function(t,e){var n=t.slice();t.sort(function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r})},Go=function(t,e){var n=void 0,i=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||p.a.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),n-(i=i||p.a.Number.MAX_VALUE)},Yo=function(t,e,n){if(!t||!e)return!1;var i=n===t.segments.length;return t.endList&&"open"===e.readyState&&i},Xo=function(t){return"number"==typeof t&&isFinite(t)},Ko=function(t){function e(t){na(this,e);var n=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=t.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=t.hasPlayed,n.currentTime_=t.currentTime,n.seekable_=t.seekable,n.seeking_=t.seeking,n.duration_=t.duration,n.mediaSource_=t.mediaSource,n.hls_=t.hls,n.loaderType_=t.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=t.segmentMetadataTrack,n.goalBufferLength_=t.goalBufferLength,n.sourceType_=t.sourceType,n.inbandTextTracks_=t.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.captionParser_=new O.CaptionParser,n.decrypter_=t.decrypter,n.syncController_=t.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),n.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),n.fetchAtBuffer_=!1,n.logger_=Lo("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),n}return ra(e,t),ia(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Jr.createTimeRanges()}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Ba(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Do(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=n?n.id:null;if(this.logger_("playlist update ["+r+" => "+t.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===t.uri){var a=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex&&(this.mediaIndex-=a),i&&(i.mediaIndex-=a,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(p.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,n),Qa(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Qa(t,e,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&p.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=p.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&p.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=p.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t)Yo(this.playlist_,this.mediaSource_,t.mediaIndex)?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(t))}}},{key:"checkBuffer_",value:function(t,e,n,i,r,a){var o=0,s=void 0;t.length&&(o=t.end(t.length-1));var u=Math.max(0,o-r);if(!e.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!i&&u>=1)return null;if(null===a)return n=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){var c=e.segments[n];return s=c&&c.end?c.end:o,this.generateSegmentInfo_(e,n+1,s,!1)}if(this.fetchAtBuffer_){var l=Ia.getMediaInfoForTime(e,o,a.segmentIndex,a.time);n=l.mediaIndex,s=l.startTime}else{var h=Ia.getMediaInfoForTime(e,r,a.segmentIndex,a.time);n=h.mediaIndex,s=h.startTime}return this.generateSegmentInfo_(e,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=Ia.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((t.length?t.end(t.length-1):0)-e)/n}(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=a)return!1;var o=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,a=t.segmentDuration,o=t.timeUntilRebuffer,s=t.currentTimeline,u=t.syncController,c=e.playlists.filter(function(t){return!Ia.isIncompatible(t)}),l=c.filter(Ia.isEnabled);l.length||(l=c.filter(function(t){return!Ia.isDisabled(t)}));var h=l.filter(Ia.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=u.getSyncPoint(t,r,s,n)?1:2;return{playlist:t,rebufferingImpact:Ia.estimateSegmentRequestTime(a,i,t)*e-o}}),d=h.filter(function(t){return t.rebufferingImpact<=0});return Wo(d,function(t,e){return Go(e.playlist,t.playlist)}),d.length?d[0]:(Wo(h,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),h[0]||null)}({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var s=r-a-o.rebufferingImpact,u=.5;return a<=1/30&&(u=1),!o.playlist||o.playlist.uri===this.playlist_.uri||s<u?!1:(this.bandwidth=o.playlist.attributes.BANDWIDTH*Ro.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=$o(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=function(t,e,n){var i=void 0;return i=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(i,e-n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var i=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:e.key.resolvedUri,iv:i}}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===jo?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===Uo?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(!function(t,e,n){for(var i in n)if(!t[i]){e.trigger({type:"usage",name:"hls-608"});var r=e.textTracks().getTrackById(i);t[i]=r||e.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),function(t){var e=t.inbandTextTracks,n=t.captionArray,i=t.timestampOffset;if(n){var r=window.WebKitDataCue||window.VTTCue;n.forEach(function(t){var n=t.stream,a=t.startTime,o=t.endTime;e[n]&&(a+=i,o+=i,e[n].addCue(new r(a,o,t.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,n=e.segment,i=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var r,a,o,s=(r=this.loaderType_,a=this.startingMedia_,o=i,"main"===r&&a&&o?o.containsAudio||o.containsVideo?a.containsVideo&&!o.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!a.containsVideo&&o.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(s)return this.error({message:s,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var u=this.syncController_.mappingForTimeline(e.timeline);if(null!==u&&this.trigger({type:"segmenttimemapping",mapping:u}),this.state="APPENDING",n.map){var c=Ba(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==c){var l=this.initSegment(n.map);this.sourceUpdater_.appendBuffer(l.bytes,function(){t.activeInitSegmentId_=c})}}e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(function(t){var e=t.segment,n=e.start,i=e.end,r=t.playlist,a=r.mediaSequence,o=r.id,s=r.segments,u=void 0===s?[]:s,c=t.mediaIndex,l=t.timeline;return["appending ["+c+"] of ["+a+", "+(a+u.length)+"] from playlist ["+o+"]","["+n+" => "+i+"] in timeline ["+l+"]"].join(" ")}(e)),this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;(this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration)?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),Yo(t.playlist,this.mediaSource_,t.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,i=e.end;if(Xo(n)&&Xo(i)){Qa(n,i,this.segmentMetadataTrack_);var r=p.a.WebKitDataCue||p.a.VTTCue,a={dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i},o=new r(n,i,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),e}(Jr.EventTarget),Qo=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Jo=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),Zo=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};na(this,e);var i=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.mediaSource_=null,i.subtitlesTrack_=null,i}return ra(e,Ko),ia(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Jr.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return Jr.createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Ba(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=Jo.byteLength+t.bytes.byteLength,a=new Uint8Array(r);a.set(t.bytes),a.set(Jo,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:a}}return i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){Qa(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,n=e.segment;if("function"!=typeof p.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=function(){t.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",i),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")})}n.requested=!0;try{this.parseVTTCues_(e)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,n=!1;"function"==typeof p.a.TextDecoder?e=new p.a.TextDecoder("utf8"):(e=p.a.WebVTT.StringDecoder(),n=!0);var i=new p.a.WebVTT.Parser(p.a,p.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){return t.timestampmap=e},i.onparsingerror=function(t){Jr.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var r=t.segment.map.bytes;n&&(r=Qo(r)),i.parse(r)}var a=t.bytes;n&&(a=Qo(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=a,t.endTime+=a}),!n.syncInfo){var o=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(o,s-i.duration)}}}else i.empty=!0}}]),e}(),ts=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},es=I.a.inspect,ns=[{name:"VOD",run:function(t,e,n,i,r){if(n!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var a=e.segments||[],o=null,s=null;r=r||0;for(var u=0;u<a.length;u++){var c=a[u];if(c.dateTimeObject){var l=c.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,h=Math.abs(r-l);if(null!==s&&s<h)break;s=h,o={time:l,segmentIndex:u}}}return o}},{name:"Segment",run:function(t,e,n,i,r){var a=e.segments||[],o=null,s=null;r=r||0;for(var u=0;u<a.length;u++){var c=a[u];if(c.timeline===i&&void 0!==c.start){var l=Math.abs(r-c.start);if(null!==s&&s<l)break;(!o||null===s||s>=l)&&(s=l,o={time:c.start,segmentIndex:u})}}return o}},{name:"Discontinuity",run:function(t,e,n,i,r){var a=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var o=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],c=e.discontinuitySequence+s+1,l=t.discontinuities[c];if(l){var h=Math.abs(r-l.time);if(null!==o&&o<h)break;(!a||null===o||o>=h)&&(o=h,a={time:l.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],is=function(t){function e(){na(this,e);var t=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=Lo("SyncController"),t}return ra(e,t),ia(e,[{key:"getSyncPoint",value:function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+_a(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,i){for(var r=[],a=0;a<ns.length;a++){var o=ns[a],s=o.run(this,t,e,n,i);s&&(s.strategy=o.name,r.push({strategy:o.name,syncPoint:s}))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,a=1;a<t.length;a++){var o=Math.abs(t[a].syncPoint[e.key]-e.value);o<i&&(i=o,n=t[a].syncPoint,r=t[a].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;n>=0;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,n=t.playlist,i=void 0;return(i=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,i)&&(this.saveDiscontinuitySyncInfo_(t),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:e.start})),i}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=A.a.timescale(e.map.bytes),i=A.a.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=i),{start:i,end:i+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=es(t.bytes,this.inspectCache_),n=void 0,i=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,i=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,i=e.audio[1].dtsTime),{start:n,end:i,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),n.start=t.startOfSegment,n.end=e.end+i.mapping;else{if(!i)return!1;n.start=e.start+i.mapping,n.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],a=e.discontinuitySequence+i+1,o=r-t.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var u=void 0;u=o<0?n.start-_a(e,t.mediaIndex,r):n.end+_a(e,t.mediaIndex+1,r),this.discontinuities[a]={time:u,accuracy:s}}}}}]),e}(Jr.EventTarget),rs=new oo("./decrypter-worker.worker.js",function(t,e){var n=this;!function(){var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},r=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,o=void 0,s=void 0,u=[],c=[],l=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(a=0;a<256;a++)c[(u[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!i[o];o^=l||1,s=c[s]||1)for(d=(d=s^s<<1^s<<2^s<<3^s<<4)>>8^255&d^99,i[o]=d,r[d]=o,p=16843009*u[h=u[l=u[o]]]^65537*h^257*l^16843008*o,f=257*u[d]^16843008*d,a=0;a<4;a++)e[a][o]=f=f<<24^f>>>8,n[a][d]=p=p<<24^p>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t},a=null,o=function(){function e(n){t(this,e),a||(a=r()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var i=void 0,o=void 0,s=void 0,u=void 0,c=void 0,l=this._tables[0][4],h=this._tables[1],d=n.length,f=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(u=n.slice(0),c=[],this._key=[u,c],i=d;i<4*d+28;i++)s=u[i-1],(i%d==0||8===d&&i%d==4)&&(s=l[s>>>24]<<24^l[s>>16&255]<<16^l[s>>8&255]<<8^l[255&s],i%d==0&&(s=s<<8^s>>>24^f<<24,f=f<<1^283*(f>>7))),u[i]=u[i-d]^s;for(o=0;i;o++,i--)s=u[3&o?i:i-4],c[o]=i<=4||o<4?s:h[0][l[s>>>24]]^h[1][l[s>>16&255]]^h[2][l[s>>8&255]]^h[3][l[255&s]]}return e.prototype.decrypt=function(t,e,n,i,r,a){var o=this._key[1],s=t^o[0],u=i^o[1],c=n^o[2],l=e^o[3],h=void 0,d=void 0,f=void 0,p=o.length/4-2,m=void 0,v=4,g=this._tables[1],y=g[0],_=g[1],b=g[2],w=g[3],T=g[4];for(m=0;m<p;m++)h=y[s>>>24]^_[u>>16&255]^b[c>>8&255]^w[255&l]^o[v],d=y[u>>>24]^_[c>>16&255]^b[l>>8&255]^w[255&s]^o[v+1],f=y[c>>>24]^_[l>>16&255]^b[s>>8&255]^w[255&u]^o[v+2],l=y[l>>>24]^_[s>>16&255]^b[u>>8&255]^w[255&c]^o[v+3],v+=4,s=h,u=d,c=f;for(m=0;m<4;m++)r[(3&-m)+a]=T[s>>>24]<<24^T[u>>16&255]<<16^T[c>>8&255]<<8^T[255&l]^o[v++],h=s,s=u,u=c,c=l,l=h},e}(),s=function(){function e(){t(this,e),this.listeners={}}return e.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},e.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=e.length,o=0;o<a;++o)e[o].apply(this,r)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),u=function(e){function n(){t(this,n);var r=i(this,e.call(this,s));return r.jobs=[],r.delay=1,r.timeout_=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(s),c=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},l=function(){function n(e,i,r,a){t(this,n);var o=n.STEP,s=new Int32Array(e.buffer),l=new Uint8Array(e.byteLength),h=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+o),i,r,l)),h=o;h<s.length;h+=o)r=new Uint32Array([c(s[h-4]),c(s[h-3]),c(s[h-2]),c(s[h-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+o),i,r,l));this.asyncStream_.push(function(){var t;a(null,(t=l).subarray(0,t.byteLength-t[t.byteLength-1]))})}return n.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new o(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),s=new Int32Array(a.buffer),u=void 0,l=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0,v=void 0,g=void 0;for(u=n[0],l=n[1],h=n[2],d=n[3],g=0;g<i.length;g+=4)f=c(i[g]),p=c(i[g+1]),m=c(i[g+2]),v=c(i[g+3]),r.decrypt(f,p,m,v,s,g),s[g]=c(s[g]^u),s[g+1]=c(s[g+1]^l),s[g+2]=c(s[g+2]^h),s[g+3]=c(s[g+3]^d),u=f,l=p,h=m,d=v;return a}(t,e,n);i.set(r,t.byteOffset)}},e(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}();new function(t){t.onmessage=function(e){var n=e.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),a=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new l(i,r,a,function(e,i){var r,a;t.postMessage((r={source:n.source,decrypted:i},a={},Object.keys(r).forEach(function(t){var e=r[t];ArrayBuffer.isView(e)?a[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:a[t]=e}),a),[i.buffer])})}}(n)}()}),as=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},os=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},ss=function(t,e){e.activePlaylistLoader=t,t.load()},us={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;os(n,i);var a=i.activeTrack(),o=i.activeGroup(),s=(o.filter(function(t){return t.default})[0]||o[0]).id,u=i.tracks[s];if(a!==u){for(var c in Jr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[c].enabled=i.tracks[c]===u;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];Jr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),os(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},cs={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",us[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t],o=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),a.track(o.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",us[t](t,n))}},ls=function(t,e){return function(n){return n.attributes[t]===e}},hs=function(t){return function(e){return e.resolvedUri===t}},ds={AUDIO:function(t,e){var n=e.hls,i=e.sourceType,r=e.segmentLoaders[t],a=e.requestOptions.withCredentials,o=e.master,s=o.mediaGroups,u=o.playlists,c=e.mediaTypes[t],l=c.groups,h=c.tracks,d=e.masterPlaylistLoader;for(var f in s[t]&&0!==Object.keys(s[t]).length||(s[t]={main:{default:{default:!0}}}),s[t]){l[f]||(l[f]=[]);var p=u.filter(ls(t,f));for(var m in s[t][f]){var v=s[t][f][m];p.filter(hs(v.resolvedUri)).length&&delete v.resolvedUri;var g=void 0;if(g=v.resolvedUri?new ma(v.resolvedUri,n,a):v.playlists&&"dash"===i?new Io(v.playlists[0],n,a,d):null,v=Jr.mergeOptions({id:m,playlistLoader:g},v),cs[t](t,v.playlistLoader,e),l[f].push(v),void 0===h[m]){var y=new Jr.AudioTrack({id:m,kind:as(v),enabled:!1,language:v.language,default:v.default,label:m});h[m]=y}}}r.on("error",us[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.hls,r=e.sourceType,a=e.segmentLoaders[t],o=e.requestOptions.withCredentials,s=e.master.mediaGroups,u=e.mediaTypes[t],c=u.groups,l=u.tracks,h=e.masterPlaylistLoader;for(var d in s[t])for(var f in c[d]||(c[d]=[]),s[t][d])if(!s[t][d][f].forced){var p=s[t][d][f],m=void 0;if("hls"===r?m=new ma(p.resolvedUri,i,o):"dash"===r&&(m=new Io(p.playlists[0],i,o,h)),p=Jr.mergeOptions({id:f,playlistLoader:m},p),cs[t](t,p.playlistLoader,e),c[d].push(p),void 0===l[f]){var v=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;l[f]=v}}a.on("error",us[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],a=r.groups,o=r.tracks;for(var s in i[t])for(var u in a[s]||(a[s]=[]),i[t][s]){var c=i[t][s][u];if(c.instreamId.match(/CC\d/)&&(a[s].push(Jr.mergeOptions({id:u},c)),void 0===o[u])){var l=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default&&c.autoselect,language:c.language,label:u},!1).track;o[u]=l}}}},fs={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode)return n[i];return null}}},ps=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){ds[e](e,t)});var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(n){e[n].activeGroup=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,a=i.media();if(!a)return null;var o=null;return a.attributes[t]&&(o=r[a.attributes[t]]),o=o||r.main,void 0===n?o:null===n?null:o.filter(function(t){return t.id===n.id})[0]||null}}(n,t),e[n].activeTrack=fs[n](n,t),e[n].onGroupChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,a=e.mediaTypes[t],o=a.activeTrack(),s=a.activeGroup(o),u=a.activePlaylistLoader;os(i,a),s&&(s.playlistLoader?(i.resyncLoader(),ss(s.playlistLoader,a)):u&&r.resetEverything())}}(n,t),e[n].onTrackChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,a=e.mediaTypes[t],o=a.activeTrack(),s=a.activeGroup(o),u=a.activePlaylistLoader;os(i,a),s&&(s.playlistLoader?u!==s.playlistLoader?(i.track&&i.track(o),i.resetEverything(),ss(s.playlistLoader,a)):ss(s.playlistLoader,a):r.resetEverything())}}(n,t)});var a=e.AUDIO.activeGroup(),o=(a.filter(function(t){return t.default})[0]||a[0]).id;e.AUDIO.tracks[o].enabled=!0,e.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var s=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};for(var u in i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},ms=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Mo,activeTrack:Mo,onGroupChanged:Mo,onTrackChanged:Mo}}),t},vs=void 0,gs=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ys=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},_s=function(t){function e(t){na(this,e);var n=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=t.url,r=t.withCredentials,a=t.tech,o=t.bandwidth,s=t.externHls,u=t.useCueTags,c=t.blacklistDuration,l=t.enableLowInitialPlaylist,h=t.sourceType,d=t.seekTo;if(!i)throw new Error("A non-empty playlist URL is required");vs=s,n.withCredentials=r,n.tech_=a,n.hls_=a.hls,n.seekTo_=d,n.sourceType_=h,n.useCueTags_=u,n.blacklistDuration=c,n.enableLowInitialPlaylist=l,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:n.withCredentials,timeout:null},n.mediaTypes_=ms(),n.mediaSource=new Jr.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=Jr.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new is(t),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new rs,n.inbandTextTracks_={};var f={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:o,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_};return n.masterPlaylistLoader_="dash"===n.sourceType_?new Io(i,n.hls_,n.withCredentials):new ma(i,n.hls_,n.withCredentials),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Ko(Jr.mergeOptions(f,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new Ko(Jr.mergeOptions(f,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Zo(Jr.mergeOptions(f,{loaderType:"vtt"}),t),n.setupSegmentLoaderListeners_(),gs.forEach(function(t){n[t+"_"]=ys.bind(n,t)}),n.logger_=Lo("MPC"),n.masterPlaylistLoader_.load(),n}return ra(e,t),ia(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;Pa(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),ps({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){return Jr.log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var n=void 0;return t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,void t.masterPlaylistLoader_.media(t.initialMedia_)}if(t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!e.endList){var i=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};if(t.duration()!==1/0){t.tech_.one("durationchange",function e(){t.duration()===1/0?i():t.tech_.one("durationchange",e)})}else i()}}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;Pa(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var o in n.AUDIO[a]){n.AUDIO[a][o].uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),vs.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),vs.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered(),r=i.length?i.end(i.length-1)-t.tech_.currentTime():0,a=t.bufferLowWaterLine();(!n.endList||t.duration()<Ro.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<n.attributes.BANDWIDTH||r>=a)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){Jr.browser.IE_VERSION||Jr.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(Jr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.seekTo_(n.end(0)),t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return Jr.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var n=vs.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var a=r.end(r.length-1);return a-i<=.1&&n-a<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=void 0;if(i=e.playlist||this.masterPlaylistLoader_.media(),n=n||e.blacklistDuration||this.blacklistDuration,!i){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(Aa).length;return r?(Jr.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(i.excludeUntil=Date.now()+1e3*n,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),t=this.selectPlaylist(),Jr.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(t))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=Ga(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:vs.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&0!==(t=vs.Playlist.seekable(n,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(e=vs.Playlist.seekable(n,i)).length)return}e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=Jr.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.logger_("seekable updated ["+Xa(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=vs.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function e(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=go(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=t.length>1&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new Jr.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){var e;t.attributes.CODECS&&p.a.MediaSource&&p.a.MediaSource.isTypeSupported&&!p.a.MediaSource.isTypeSupported('video/mp4; codecs="'+(e=t.attributes.CODECS,e.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return po([t])[0]}))+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var e=2,n=null,i=void 0;t.attributes.CODECS&&(i=mo(t.attributes.CODECS),n=i.videoCodec,e=i.codecCount),this.master().playlists.forEach(function(t){var i={codecCount:2,videoCodec:null};t.attributes.CODECS&&(i=mo(t.attributes.CODECS)),i.codecCount!==e&&(t.excludeUntil=1/0),i.videoCodec!==n&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.segments)for(var i=n,r=void 0,a=0;a<t.segments.length;a++){var o=t.segments[a];if(r||(r=ts(e,i+o.duration/2)),r){if("cueIn"in o){r.endTime=i,r.adEndTime=i,i+=o.duration,r=null;continue}if(i<r.endTime){i+=o.duration;continue}r.endTime+=o.duration}else if("cueOut"in o&&((r=new p.a.VTTCue(i,i+o.duration,o.cueOut)).adStartTime=i,r.adEndTime=i+parseFloat(o.cueOut),e.addCue(r)),"cueOutCont"in o){var s,u,c=o.cueOutCont.split("/").map(parseFloat),l=oa(c,2);s=l[0],u=l[1],(r=new p.a.VTTCue(i,i+o.duration,"")).adStartTime=i-s,r.adEndTime=r.adStartTime+u,e.addCue(r)}i+=o.duration}}(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=Ro.GOAL_BUFFER_LENGTH,n=Ro.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,Ro.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=Ro.BUFFER_LOW_WATER_LINE,n=Ro.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,Ro.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)}}]),e}(Jr.EventTarget),bs=function t(e,n,i){na(this,t);var r,a,o,s=e.masterPlaylistController_,u=s[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(s);if(n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION;this.width=c.width,this.height=c.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=i,this.enabled=(r=e.playlists,a=n.uri,o=u,function(t){var e=r.master.playlists[a],n=Ca(e),i=Aa(e);return void 0===t?i:(t?delete e.disabled:e.disabled=!0,t===i||n||(o(),t?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),t)})},ws=["seeking","seeked","pause","playing","error"],Ts=function(){function t(e){var n=this;na(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Lo("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},r=function(){return n.techWaiting_()},a=function(){return n.cancelTimer_()},o=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",o),this.tech_.on("waiting",r),this.tech_.on(ws,a),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",o),n.tech_.off("waiting",r),n.tech_.off(ws,a),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&p.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return ia(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&p.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=p.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),n=this.tech_.currentTime(),i=void 0;t&&this.afterSeekableWindow_(e,n)&&(i=e.end(e.length-1));t&&this.beforeSeekableWindow_(e,n)&&(i=e.start(0)+.1);return void 0!==i&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Xa(e)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=Ga(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=Ya(i,e);if(this.videoUnderflow_(r,i,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var a=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var i=this.gapFromVideoUnderflow_(e,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=Ya(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=function(t){if(t.length<2)return Jr.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return Jr.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:a}}return null}}]),t}(),Ss={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Es=function(t){!function t(e,n){var i=0,r=0,a=Jr.mergeOptions(Ss,n);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var o=function(){r&&e.currentTime(r)},s=function(t){null!==t&&void 0!==t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",o),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-i<1e3*a.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(a.getSource&&"function"==typeof a.getSource)return i=Date.now(),a.getSource.call(e,s);Jr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},c=function t(){e.off("loadedmetadata",o),e.off("error",u),e.off("dispose",t)};e.on("error",u),e.on("dispose",c),e.reloadSourceOnError=function(n){c(),t(e,n)}}(this,t)};Jr.use("*",function(t){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.currentTime())}}});var ks={PlaylistLoader:ma,Playlist:Ia,Decrypter:q,AsyncStream:B,decrypt:H,utils:Ha,STANDARD_PLAYLIST_SELECTOR:function(){return function(t,e,n,i,r){var a=t.playlists.map(function(t){var e,n;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||p.a.Number.MAX_VALUE,width:e,height:n,playlist:t}});Wo(a,function(t,e){return t.bandwidth-e.bandwidth});var o=(a=a.filter(function(t){return!Ia.isIncompatible(t.playlist)})).filter(function(t){return Ia.isEnabled(t.playlist)});o.length||(o=a.filter(function(t){return!Ia.isDisabled(t.playlist)}));var s=o.filter(function(t){return t.bandwidth*Ro.BANDWIDTH_VARIANCE<e}),u=s[s.length-1],c=s.filter(function(t){return t.bandwidth===u.bandwidth})[0];if(!1===r){var l=c||o[0]||a[0];return l?l.playlist:null}var h=s.filter(function(t){return t.width&&t.height});Wo(h,function(t,e){return t.width-e.width});var d=h.filter(function(t){return t.width===n&&t.height===i});u=d[d.length-1];var f=d.filter(function(t){return t.bandwidth===u.bandwidth})[0],m=void 0,v=void 0,g=void 0;f||(v=(m=h.filter(function(t){return t.width>n||t.height>i})).filter(function(t){return t.width===m[0].width&&t.height===m[0].height}),u=v[v.length-1],g=v.filter(function(t){return t.bandwidth===u.bandwidth})[0]);var y=g||f||c||o[0]||a[0];return y?y.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(zo(this.tech_.el(),"width"),10),parseInt(zo(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this.playlists.master.playlists.filter(Ia.isEnabled);return Wo(t,function(t,e){return Go(t,e)}),t.filter(function(t){return mo(t.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Go,comparePlaylistResolution:function(t,e){var n=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||p.a.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),n===(i=i||p.a.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i},xhr:Da()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(ks,t,{get:function(){return Jr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),Ro[t]},set:function(e){Jr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Jr.log.warn("value of Hls."+t+" must be greater than or equal to 0"):Ro[t]=e}})});var xs=function(t){if(/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t))return"hls";return/^application\/dash\+xml/i.test(t)?"dash":null},Cs=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.uri){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})};ks.canPlaySource=function(){return Jr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var As=function(t){if("dash"===t.options_.sourceType){var e=Jr.players[t.tech_.options_.playerId];if(e.eme){var n=function(t,e,n){if(!t)return t;var i={};for(var r in t)i[r]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+e.attributes.CODECS+'"'},e.contentProtection&&e.contentProtection[r]&&e.contentProtection[r].pssh&&(i[r].pssh=e.contentProtection[r].pssh),"string"==typeof t[r]&&(i[r].url=t[r]);return Jr.mergeOptions(t,i)}(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(e.currentSource().keySystems=n,e.eme.initializeMediaKeys&&e.eme.initializeMediaKeys())}}},Os=function(){if(!window.localStorage)return null;var t=window.localStorage.getItem("videojs-vhs");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}};ks.supportsNativeHls=function(){var t=k.a.createElement("video");if(!Jr.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),ks.supportsNativeDash=!!Jr.getTech("Html5").isSupported()&&/maybe|probably/i.test(k.a.createElement("video").canPlayType("application/dash+xml")),ks.supportsTypeNatively=function(t){return"hls"===t?ks.supportsNativeHls:"dash"===t&&ks.supportsNativeDash},ks.isSupported=function(){return Jr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ps=Jr.getComponent("Component"),Is=function(t){function e(t,n,i){na(this,e);var r=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i.hls));if(n.options_&&n.options_.playerId){var a=Jr(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Jr.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),r},configurable:!0}),a.vhs=r,a.dash=r,r.player_=a}if(r.tech_=n,r.source_=t,r.stats={},r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(k.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=k.a.fullscreenElement||k.a.webkitFullscreenElement||k.a.mozFullScreenElement||k.a.msFullscreenElement;e&&e.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()}),r.on(r.tech_,"seeking",function(){this.tech_.seeking()&&0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),r.on(r.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),r.on(r.tech_,"play",r.play),r}return ra(e,Ps),ia(e,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=Os();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Ro.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ro.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(t,e){var n=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=ks,this.options_.sourceType=xs(e),this.options_.seekTo=function(t){n.tech_.setCurrentTime(t),n.setCurrentTime(t)},this.masterPlaylistController_=new _s(this.options_),this.playbackWatcher_=new Ts(Jr.mergeOptions(this.options_,{seekable:function(){return n.seekable()}})),this.masterPlaylistController_.on("error",function(){Jr.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ks.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ks.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Jr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Ka(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ka(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){n.options_.useBandwidthFromLocalStorage&&function(t){if(!window.localStorage)return!1;var e=Os();e=e?Jr.mergeOptions(e,t):t;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(e))}catch(t){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;e=(t=n).playlists,t.representations=function(){return e.master.playlists.filter(function(t){return!Ca(t)}).map(function(e,n){return new bs(t,e,e.uri)})},As(n)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return n.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(Jr.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=Jr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,n;e=t.qualityLevels_,(n=t).representations().forEach(function(t){e.addQualityLevel(t)}),Cs(e,n.playlists)}),this.playlists.on("mediachange",function(){Cs(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}},{key:"convertToStreamTime",value:function(t,e){return $a({playlist:this.masterPlaylistController_.media(),time:t,callback:e})}},{key:"seekToStreamTime",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return za({streamTime:t,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})}}]),e}(),Ls={name:"videojs-http-streaming",VERSION:"1.5.1",canHandleSource:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Jr.mergeOptions(Jr.options,e);return Ls.canPlayType(t.type,n)},handleSource:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Jr.mergeOptions(Jr.options,n);return e.hls=new Is(t,e,i),e.hls.xhr=Da(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Jr.mergeOptions(Jr.options,e).hls.overrideNative,i=xs(t);return i&&(!ks.supportsTypeNatively(i)||n)?"maybe":""}};void 0!==Jr.MediaSource&&void 0!==Jr.URL||(Jr.MediaSource=xo,Jr.URL=Co),xo.supportsNativeMediaSources()&&Jr.getTech("Html5").registerSourceHandler(Ls,0),Jr.HlsHandler=Is,Jr.HlsSourceHandler=Ls,Jr.Hls=ks,Jr.use||Jr.registerComponent("Hls",ks),Jr.options.hls=Jr.options.hls||{},Jr.registerPlugin?Jr.registerPlugin("reloadSourceOnError",Es):Jr.plugin("reloadSourceOnError",Es);e.default=Jr},function(t,e){t.exports=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]}},function(t,e,n){var i=n(10),r=t.exports={WebVTT:n(75),VTTCue:n(76),VTTRegion:n(77)};i.vttjs=r,i.WebVTT=r.WebVTT;var a=r.VTTCue,o=r.VTTRegion,s=i.VTTCue,u=i.VTTRegion;r.shim=function(){i.VTTCue=a,i.VTTRegion=o},r.restore=function(){i.VTTCue=s,i.VTTRegion=u},i.VTTCue||r.shim()},function(t,e){var n=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function i(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function r(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function a(){this.values=n(null)}function o(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if("string"==typeof r[a]){var o=r[a].split(n);if(2===o.length)e(o[0],o[1])}}function s(t,e,n){var s=t;function u(){var e=r(t);if(null===e)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function c(){t=t.replace(/^\s+/,"")}if(c(),e.startTime=u(),c(),"--\x3e"!==t.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);t=t.substr(3),c(),e.endTime=u(),c(),function(t,e){var i=new a;o(t,function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),o=a[0];i.integer(t,o),i.percent(t,o)&&i.set("snapToLines",!1),i.alt(t,o,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start","middle","end"]);break;case"position":a=e.split(","),i.percent(t,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start","middle","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical",""),e.line=i.get("line","auto"),e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align","middle"),e.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,e)}i.prototype=n(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var u={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},l={v:"title",lang:"lang"},h={rt:"ruby"};function d(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return t=n[1]?n[1]:n[2],e=e.substr(t.length),t}function i(t){return u[t]}function a(t){for(;y=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(y[0],i);return t}function o(t,e){return!h[e.localName]||h[e.localName]===t.localName}function s(e,n){var i=c[e];if(!i)return null;var r=t.document.createElement(i);r.localName=i;var a=l[e];return a&&n&&(r[a]=n.trim()),r}for(var d,f=t.document.createElement("div"),p=f,m=[];null!==(d=n());)if("<"!==d[0])p.appendChild(t.document.createTextNode(a(d)));else{if("/"===d[1]){m.length&&m[m.length-1]===d.substr(2).replace(">","")&&(m.pop(),p=p.parentNode);continue}var v,g=r(d.substr(1,d.length-2));if(g){v=t.document.createProcessingInstruction("timestamp",g),p.appendChild(v);continue}var y=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(v=s(y[1],y[3])))continue;if(!o(p,v))continue;y[2]&&(v.className=y[2].substr(1).replace("."," ")),m.push(y[1]),p.appendChild(v),p=v}return f}var f=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(t){for(var e=0;e<f.length;e++){var n=f[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function m(){}function v(t,e,n){m.call(this),this.cue=e,this.cueDiv=d(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:function(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function r(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(t.length=0,a[0]):n}return"ruby"===e.tagName?r(t):e.childNodes?(i(t,e),r(t)):void 0}for(i(e,t);n=r(e);)for(var a=0;a<n.length;a++)if(p(n.charCodeAt(a)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"middle":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function g(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function y(t,e,n,i){var r=new g(e),a=e.cue,o=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}(a),s=[];if(a.snapToLines){var u;switch(a.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var c=r.lineHeight,l=c*Math.round(o),h=n[u]+c,d=s[0];Math.abs(l)>h&&(l=l<0?-1:1,l*=Math.ceil(h/c)*c),o<0&&(l+=""===a.vertical?n.height:n.width,s=s.reverse()),r.move(d,l)}else{var f=r.lineHeight/n.height*100;switch(a.lineAlign){case"middle":o-=f/2;break;case"end":o-=f}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],r=new g(e)}var p=function(t,e){for(var r,a=new g(t),o=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i);)t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);o>u&&(r=new g(t),o=u),t=new g(a)}return r||a}(r,s);e.move(p.toCSSCompatValues(n))}function _(){}m.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},m.prototype.formatStyle=function(t,e){return 0===t?0:t+e},v.prototype=n(m.prototype),v.prototype.constructor=v,g.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},g.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},g.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},g.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},g.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},g.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},g.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},g.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},_.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},_.convertCueToDOMTree=function(t,e){return t&&e?d(t,e):null};_.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],a=g.getSimpleBoxPosition(i),o={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<e.length;u++)s=e[u],n=new v(t,s,o),i.appendChild(n.div),y(0,n,a,r),s.displayState=n.div,r.push(g.getSimpleBoxPosition(n))}()}else for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState)},_.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},_.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof i))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function u(t){t.match(/X-TIMESTAMP-MAP/)?o(t,function(t,n){switch(t){case"X-TIMESTAMP-MAP":i=n,s=new a,o(i,function(t,e){switch(t){case"MPEGT":s.integer(t+"S",e);break;case"LOCA":s.set(t+"L",r(e))}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:s.get("MPEGTS"),LOCAL:s.get("LOCAL")})}var i,s},/=/):o(t,function(t,n){switch(t){case"Region":!function(t){var n=new a;if(o(t,function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var r=new a;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(t+"X",r.get("x")),n.set(t+"Y",r.get("y"));break;case"scroll":n.alt(t,e,["up"])}},/=/,/\s/),n.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:n.get("id"),region:i})}}(n)}},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var c;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var l=(c=n()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new i(i.Errors.BadSignature);e.state="HEADER"}for(var h=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(h?h=!1:c=n(),e.state){case"HEADER":/:/.test(c)?u(c):c||(e.state="ID");continue;case"NOTE":c||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){e.state="NOTE";break}if(!c)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===c.indexOf("--\x3e")){e.cue.id=c;continue}case"CUE":try{s(c,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=-1!==c.indexOf("--\x3e");if(!c||d&&(h=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=c;continue;case"BADCUE":c||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new i(i.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.exports=_},function(t,e){var n="auto",i={"":1,lr:1,rl:1},r={start:1,middle:1,end:1,left:1,right:1};function a(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}function o(t,e,r){this.hasBeenReset=!1;var o="",s=!1,u=t,c=e,l=r,h=null,d="",f=!0,p="auto",m="start",v=50,g="middle",y=50,_="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(t){o=""+t}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(t){s=!!t}},startTime:{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");c=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(t){l=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(t){var e=function(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(t){if("number"!=typeof t&&t!==n)throw new SyntaxError("An invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return y},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return _},set:function(t){var e=a(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}}}),this.displayState=void 0}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=o},function(t,e){var n={"":!0,up:!0};function i(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,e=3,r=0,a=100,o=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!i(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!i(t))throw new Error("RegionAnchorX must be between 0 and 100.");a=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!i(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!i(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!i(t))throw new Error("ViewportAnchorX must be between 0 and 100.");o=t}},scroll:{enumerable:!0,get:function(){return u},set:function(t){var e=function(t){return"string"==typeof t&&!!n[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e}}})}},function(t,e){function n(t){return t.replace(/\n\r?\s*/g,"")}t.exports=function(t){for(var e="",i=0;i<arguments.length;i++)e+=n(t[i])+(arguments[i+1]||"");return e}},function(t,e,n){"use strict";var i=n(10),r=n(80),a=n(81),o=n(85);function s(t,e,n){var i=t;return r(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=o(e,{uri:t}),i.callback=n,i}function u(t,e,n){return c(e=s(t,e,n))}function c(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,i,r){e||(e=!0,t.callback(n,i,r))};function i(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,g)}function r(){if(!s){var e;clearTimeout(l),e=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=g,r=null;return 0!==e?(i={body:function(){var t=void 0;if(t=c.response?c.response:c.responseText||function(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}(c),v)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:d,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(i.headers=a(c.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),n(r,i,i.body)}}var o,s,c=t.xhr||null;c||(c=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var l,h=c.url=t.uri||t.url,d=c.method=t.method||"GET",f=t.body||t.data,p=c.headers=t.headers||{},m=!!t.sync,v=!1,g={body:void 0,headers:{},statusCode:0,method:d,url:h,rawRequest:c};if("json"in t&&!1!==t.json&&(v=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),f=JSON.stringify(!0===t.json?f:t.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(r,0)},c.onload=r,c.onerror=i,c.onprogress=function(){},c.onabort=function(){s=!0},c.ontimeout=i,c.open(d,h,!m,t.username,t.password),m||(c.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(l=setTimeout(function(){if(!s){s=!0,c.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)}},t.timeout)),c.setRequestHeader)for(o in p)p.hasOwnProperty(o)&&c.setRequestHeader(o,p[o]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(f||null),c}t.exports=u,u.XMLHttpRequest=i.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:i.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){u["delete"===t?"del":t]=function(e,n,i){return(n=s(e,n,i)).method=t.toUpperCase(),c(n)}})},function(t,e){t.exports=function(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},function(t,e,n){var i=n(82),r=n(83);t.exports=function(t){if(!t)return{};var e={};return r(i(t).split("\n"),function(t){var n,r=t.indexOf(":"),a=i(t.slice(0,r)).toLowerCase(),o=i(t.slice(r+1));void 0===e[a]?e[a]=o:(n=e[a],"[object Array]"===Object.prototype.toString.call(n)?e[a].push(o):e[a]=[e[a],o])}),e}},function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";var i=n(84),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!i(e))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===r.call(t)?function(t,e,n){for(var i=0,r=t.length;i<r;i++)a.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))}(t,e,o):"string"==typeof t?function(t,e,n){for(var i=0,r=t.length;i<r;i++)null==n?e(t.charAt(i),i,t):e.call(n,t.charAt(i),i,t)}(t,e,o):function(t,e,n){for(var i in t)a.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))}(t,e,o)}},function(t,e,n){"use strict";var i=Function.prototype.toString,r=/^\s*class\b/,a=function(t){try{var e=i.call(t);return r.test(e)}catch(t){return!1}},o=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(s)return function(t){try{return!a(t)&&(i.call(t),!0)}catch(t){return!1}}(t);if(a(t))return!1;var e=o.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var r in i)n.call(i,r)&&(t[r]=i[r])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){var i,r,a,o,s;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):e;var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var u=r.exec(o.path);o.netLoc=u[1],o.path=u[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var l=o.path,h=l.substring(0,l.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(h)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=n.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(a,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},function(t,e,n){(function(e){var i,r=void 0!==e?e:"undefined"!=typeof window?window:{},a=n(88);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=a),t.exports=i}).call(e,n(5))},function(t,e){},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return V}),n.d(e,"b",function(){return $});var i=n(10),r=n.n(i),a=function(t){return!!t&&"object"==typeof t},o=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce(function(e,n){return Object.keys(n).forEach(function(i){Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):a(e[i])&&a(n[i])?e[i]=t(e[i],n[i]):e[i]=n[i]}),e},{})},s=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},u=function(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},c=function(t){var e;return(e=t.reduce(function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");t[i]?(e.segments[0].discontinuity=!0,(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e;return t},{}),Object.keys(e).map(function(t){return e[t]})).map(function(t){var e,n;return t.discontinuityStarts=(e=t.segments,n="discontinuity",e.reduce(function(t,e,i){return e[n]&&t.push(i),t},[])),t})},l=function(t){var e,n=t.attributes,i=t.segments,r={attributes:(e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),r};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var h,d=(function(t,e){var n,i,r,a,o;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var l=s.path,h=l.substring(0,l.lastIndexOf("/")+1)+a.path;c.path=o.normalizePath(h)}else c.path=s.path,a.params||(c.params=s.params,a.query||(c.query=s.query));return null===c.path&&(c.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(c)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o}(h={exports:{}},h.exports),h.exports),f=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=d.buildAbsoluteURL(r.a.location.href,t)),d.buildAbsoluteURL(t,e))},p=function(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,a=t.range,o=void 0===a?"":a,s={uri:r,resolvedUri:f(n||"",r)};if(o){var u=o.split("-"),c=parseInt(u[0],10),l=parseInt(u[1],10);s.byterange={length:l-c,offset:c}}return s},m=function(t,e,n){var i=t.NOW,r=t.clientOffset,a=t.availabilityStartTime,o=t.timescale,s=void 0===o?1:o,u=t.start,c=void 0===u?0:u,l=t.minimumUpdatePeriod,h=(i+r)/1e3+(void 0===l?0:l)-(a+c);return Math.ceil((h*s-e)/n)},v=function(t,e){for(var n=t.type,i=void 0===n?"static":n,r=t.minimumUpdatePeriod,a=void 0===r?0:r,o=t.media,s=void 0===o?"":o,u=t.sourceDuration,c=t.timescale,l=void 0===c?1:c,h=t.startNumber,d=void 0===h?1:h,f=t.periodIndex,p=[],v=-1,g=0;g<e.length;g++){var y=e[g],_=y.d,b=y.r||0,w=y.t||0;v<0&&(v=w),w&&w>v&&(v=w);var T=void 0;if(b<0){var S=g+1;T=S===e.length?"dynamic"===i&&a>0&&s.indexOf("$Number$")>0?m(t,v,_):(u*l-v)/_:(e[S].t-v)/_}else T=b+1;for(var E=d+p.length+T,k=d+p.length;k<E;)p.push({number:k,duration:_/l,time:v,timeline:f}),v+=_,k++}return p},g={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,a=void 0===r?1:r,o=t.duration,s=t.start,u=void 0===s?0:s,c=t.minimumUpdatePeriod,l=void 0===c?0:c,h=t.timeShiftBufferDepth,d=void 0===h?1/0:h,f=(e+n)/1e3,p=i+u,m=f+l-p,v=Math.ceil(m*a/o),g=Math.floor((f-p-d)*a/o),y=Math.floor((f-p)*a/o);return{start:Math.max(0,g),end:Math.min(v,y)}}},y=function(t){var e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,a=void 0===r?1:r,o=t.sourceDuration,s=g[n](t),u=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}(s.start,s.end).map(function(t){return function(e,n){var i=t.duration,r=t.timescale,a=void 0===r?1:r,o=t.periodIndex,s=t.startNumber;return{number:(void 0===s?1:s)+e,duration:i/a,timeline:o,time:n*i}}}(t));if("static"===n){var c=u.length-1;u[c].duration=o-i/a*c}return u},_=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,b=function(t,e){return t.replace(_,function(t){return function(e,n,i,r){if("$$"===e)return"$";if(void 0===t[n])return e;var a=""+t[n];return"RepresentationID"===n?a:(r=i?parseInt(r,10):1,a.length>=r?a:""+new Array(r-a.length+1).join("0")+a)}}(e))},w=function(t,e){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,r=void 0===i?{sourceURL:"",range:""}:i,a=p({baseUrl:t.baseUrl,source:b(r.sourceURL,n),range:r.range});return function(t,e){return t.duration||e?t.duration?y(t):v(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map(function(e){n.Number=e.number,n.Time=e.time;var i=b(t.media||"",n);return{uri:i,timeline:e.timeline,duration:e.duration,resolvedUri:f(t.baseUrl||"",i),map:a,number:e.number}})},T="INVALID_NUMBER_OF_PERIOD",S="DASH_EMPTY_MANIFEST",E="DASH_INVALID_XML",k="NO_BASE_URL",x="SEGMENT_TIME_UNSPECIFIED",C="UNSUPPORTED_UTC_TIMING_SCHEME",A=function(t,e){var n=t.duration,i=t.segmentUrls,r=void 0===i?[]:i;if(!n&&!e||n&&e)throw new Error(x);var a,o=r.map(function(e){return function(t,e){var n=t.baseUrl,i=t.initialization,r=void 0===i?{}:i,a=p({baseUrl:n,source:r.sourceURL,range:r.range}),o=p({baseUrl:n,source:e.media,range:e.mediaRange});return o.map=a,o}(t,e)});return n&&(a=y(t)),e&&(a=v(t,e)),a.map(function(t,e){if(o[e]){var n=o[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}}).filter(function(t){return t})},O=function(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,a=t.timescale,o=void 0===a?1:a,s=t.indexRange,u=void 0===s?"":s,c=t.duration;if(!e)throw new Error(k);var l=p({baseUrl:e,source:i.sourceURL,range:i.range}),h=p({baseUrl:e,source:e,range:u});if(h.map=l,c){var d=y(t);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else r&&(h.duration=r/o,h.timeline=0);return h.number=0,[h]},P=function(t){var e,n,i=t.attributes,r=t.segmentInfo;if(r.template?(n=w,e=o(i,r.template)):r.base?(n=O,e=o(i,r.base)):r.list&&(n=A,e=o(i,r.list)),!n)return{attributes:i};var a=n(e,r.timeline);if(e.duration){var s=e,u=s.duration,c=s.timescale,l=void 0===c?1:c;e.duration=u/l}else a.length?e.duration=a.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0;return{attributes:e,segments:a}},I=function(t,e){return u(t.childNodes).filter(function(t){return t.tagName===e})},L=function(t){return t.textContent.trim()},M=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var n=e.slice(1),i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(a||0)+3600*parseFloat(o||0)+60*parseFloat(s||0)+parseFloat(u||0)},D={mediaPresentationDuration:function(t){return M(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return M(t)},timeShiftBufferDepth:function(t){return M(t)},start:function(t){return M(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?M(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},R=function(t){return t&&t.attributes?u(t.attributes).reduce(function(t,e){var n=D[e.name]||D.DEFAULT;return t[e.name]=n(e.value),t},{}):{}};var N={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},U=function(t,e){return e.length?s(t.map(function(t){return e.map(function(e){return f(t,L(e))})})):t},j=function(t){var e=I(t,"SegmentTemplate")[0],n=I(t,"SegmentList")[0],i=n&&I(n,"SegmentURL").map(function(t){return o({tag:"SegmentURL"},R(t))}),r=I(t,"SegmentBase")[0],a=n||e,s=a&&I(a,"SegmentTimeline")[0],u=n||r||e,c=u&&I(u,"Initialization")[0],l=e&&R(e);l&&c?l.initialization=c&&R(c):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var h={template:l,timeline:s&&I(s,"S").map(function(t){return R(t)}),list:n&&o(R(n),{segmentUrls:i,initialization:R(c)}),base:r&&o(R(r),{initialization:R(c)})};return Object.keys(h).forEach(function(t){h[t]||delete h[t]}),h},B=function(t){return t.reduce(function(t,e){var n=R(e),i=N[n.schemeIdUri];if(i){t[i]={attributes:n};var a=I(e,"cenc:pssh")[0];if(a){var o=L(a),s=o&&function(t){for(var e=r.a.atob(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(o);t[i].pssh=s}}return t},{})},F=function(t,e,n){return function(i){var r=R(i),a=U(e,I(i,"BaseURL")),u=I(i,"Role")[0],c={role:R(u)},l=o(t,r,c),h=B(I(i,"ContentProtection"));Object.keys(h).length&&(l=o(l,{contentProtection:h}));var d=j(i),f=I(i,"Representation"),p=o(n,d);return s(f.map(function(t,e,n){return function(i){var r=I(i,"BaseURL"),a=U(e,r),s=o(t,R(i)),u=j(i);return a.map(function(t){return{segmentInfo:o(n,u),attributes:o(s,{baseUrl:t})}})}}(l,a,p)))}},H=function(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,a=void 0===i?"":i,u=n.NOW,c=void 0===u?Date.now():u,l=n.clientOffset,h=void 0===l?0:l,d=I(t,"Period");if(!d.length)throw new Error(T);var f=R(t),p=U([a],I(t,"BaseURL"));return f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=c,f.clientOffset=h,s(d.map(function(t,e){return function(n,i){var a=U(e,I(n,"BaseURL")),u=R(n),c=parseInt(u.id,10),l=r.a.isNaN(c)?i:c,h=o(t,{periodIndex:l}),d=I(n,"AdaptationSet"),f=j(n);return s(d.map(F(h,a,f)))}}(f,p)))},q=function(t){if(""===t)throw new Error(S);var e=(new r.a.DOMParser).parseFromString(t,"application/xml"),n=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(E);return n},V=function(t,e){return function(t){var e;if(!t.length)return{};var n=t[0].attributes,i=n.sourceDuration,r=n.minimumUpdatePeriod,a=void 0===r?0:r,o=c(t.filter(function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType})).map(l),s=c(t.filter(function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType})),u=t.filter(function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType}),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:i,playlists:o,minimumUpdatePeriod:1e3*a};return s.length&&(h.mediaGroups.AUDIO.audio=s.reduce(function(t,e){var n=e.attributes.role&&e.attributes.role.value||"main",i=e.attributes.lang||"",r="main";return i&&(r=e.attributes.lang+" ("+n+")"),t[r]&&t[r].playlists[0].attributes.BANDWIDTH>e.attributes.bandwidth?t:(t[r]={language:i,autoselect:!0,default:"main"===n,playlists:[function(t){var e,n=t.attributes,i=t.segments,r={attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(r.contentProtection=n.contentProtection),r}(e)],uri:""},t)},{})),u.length&&(h.mediaGroups.SUBTITLES.subs=function(t){return t.reduce(function(t,e){var n,i,r,a,o=e.attributes.lang||"text";return t[o]?t:(t[o]={language:o,default:!1,autoselect:!1,playlists:[(n=e,r=n.attributes,a=n.segments,void 0===a&&(a=[{uri:r.baseUrl,timeline:r.periodIndex,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration),{attributes:(i={NAME:r.id,BANDWIDTH:r.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:r.baseUrl||"",targetDuration:r.duration,segments:a,mediaSequence:a.length?a[0].number:1})],uri:""},t)},{})}(u)),h}(H(q(t),e).map(P))},$=function(t){return function(t){var e=I(t,"UTCTiming")[0];if(!e)return null;var n=R(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(C)}return n}(q(t))}}).call(e,n(5))},function(t,e){t.exports={toUnsigned:function(t){return t>>>0}}},function(t,e,n){t.exports={generator:n(18),probe:n(11),Transmuxer:n(13).Transmuxer,AudioSegmentStream:n(13).AudioSegmentStream,VideoSegmentStream:n(13).VideoSegmentStream,CaptionParser:n(103)}},function(t,e){var n=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n};t.exports={groupNalsIntoFrames:function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},groupFramesIntoGops:function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},generateSampleTable:function(t,e){var i,r,a,o,s,u=e||0,c=[];for(i=0;i<t.length;i++)for(o=t[i],r=0;r<o.length;r++)s=o[r],u+=(a=n(s,u)).size,c.push(a);return c},concatenateNalData:function(t){var e,n,i,r,a,o,s=0,u=t.byteLength,c=t.nalCount,l=new Uint8Array(u+4*c),h=new DataView(l.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)o=a[i],h.setUint32(s,o.data.byteLength),s+=4,l.set(o.data,s),s+=o.data.byteLength;return l}}},function(t,e,n){var i=n(94),r=n(95);t.exports={prefixWithSilence:function(t,e,n,a){var o,s,u,c,l=0,h=0,d=0;if(e.length&&(o=r.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),s=Math.ceil(9e4/(t.samplerate/1024)),n&&a&&(l=o-Math.max(n,a),d=(h=Math.floor(l/s))*s),!(h<1||d>45e3))){for((u=i[t.samplerate])||(u=e[0].data),c=0;c<h;c++)e.splice(c,0,{data:u});t.baseMediaDecodeTime-=Math.floor(r.videoTsToAudioTs(d,t.samplerate))}},trimAdtsFramesByEarliestDts:function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},generateSampleTable:function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},concatenateFrameData:function(t){var e,n,i=0,r=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}}},function(t,e){var n,i=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(t){for(var e=[];t--;)e.push(0);return e},o={96000:[i,[227,64],a(154),[56]],88200:[i,[231],a(170),[56]],64000:[i,[248,192],a(240),[56]],48000:[i,[255,192],a(268),[55,148,128],a(54),[112]],44100:[i,[255,192],a(268),[55,163,128],a(84),[112]],32000:[i,[255,192],a(268),[55,234],a(226),[112]],24000:[i,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16000:[i,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12000:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8000:[r,a(268),[3,121,16],a(47),[7]]};t.exports=(n=o,Object.keys(n).reduce(function(t,e){return t[e]=new Uint8Array(n[e].reduce(function(t,e){return t.concat(e)},[])),t},{}))},function(t,e){var n,i,r,a,o,s;n=function(t){return 9e4*t},i=function(t,e){return t*e},r=function(t){return t/9e4},a=function(t,e){return t/e},o=function(t,e){return n(a(t,e))},s=function(t,e){return i(r(t),e)},t.exports={secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s}},function(t,e){t.exports={clearDtsInfo:function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/9e4,n=Math.floor(n)),n},collectDtsInfo:function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}}},function(t,e,n){"use strict";var i,r,a,o=n(4),s=n(19),u=n(7),c=n(21).TimestampRolloverStream,l=n(7);(i=function(){var t=new Uint8Array(188),e=0;i.prototype.init.call(this),this.push=function(n){var i,r=0,a=188;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;a<i.byteLength;)71!==i[r]||71!==i[a]?(r++,a++):(this.trigger("data",i.subarray(r,a)),r+=188,a+=188);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}}).prototype=new o,(r=function(){var t,e,n,i;r.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var a=t[r],o=(31&t[r+1])<<8|t[r+2];a===u.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=o:a===u.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=o:a===u.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][o]=a),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new o,r.STREAM_TYPES={h264:27,adts:15},(a=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(e,n,i){var r,a,o=new Uint8Array(e.size),s={type:n},u=0,c=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)a=e.data[u],o.set(a.data,c),c+=a.data.byteLength;var l,h,d;l=o,(h=s).packetLength=6+(l[4]<<8|l[5]),h.dataAlignmentIndicator=0!=(4&l[6]),192&(d=l[7])&&(h.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,h.pts*=4,h.pts+=(6&l[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,h.dts*=4,h.dts+=(6&l[18])>>>1)),h.data=l.subarray(9+l[8]),r="video"===n||s.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",s)}};a.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,o;switch(a.streamType){case u.H264_STREAM_TYPE:case l.H264_STREAM_TYPE:t=e,o="video";break;case u.ADTS_STREAM_TYPE:t=n,o="audio";break;case u.METADATA_STREAM_TYPE:t=i,o="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&r(t,o,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=a.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[a.type]()},this.flush=function(){r(e,"video"),r(n,"audio"),r(i,"timed-metadata"),this.trigger("done")}}).prototype=new o;var h={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:i,TransportParseStream:r,ElementaryStream:a,TimestampRolloverStream:c,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n(98)};for(var d in u)u.hasOwnProperty(d)&&(h[d]=u[d]);t.exports=h},function(t,e,n){"use strict";var i,r=n(4),a=n(7),o=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},s=function(t,e,n){return decodeURIComponent(o(t,e,n))},u=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},c={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.value=s(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.url=s(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(o(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(i=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},r=0,o=[],s=0;if(i.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,i,a,l,h;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(t),s+=t.data.byteLength,1===o.length&&(r=u(t.data.subarray(6,10)),r+=10),!(s<r)){for(e={data:new Uint8Array(r),frames:[],pts:o[0].pts,dts:o[0].dts},h=0;h<r;)e.data.set(o[0].data.subarray(0,r-h),h),h+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();i=10,64&e.data[5]&&(i+=4,i+=u(e.data.subarray(10,14)),r-=u(e.data.subarray(16,20)));do{if((a=u(e.data.subarray(i+4,i+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3]),data:e.data.subarray(i+10,i+a+10)}).key=l.id,c[l.id]&&(c[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var d=l.data,f=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;f*=4,f+=3&d[7],l.timeStamp=f,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),i+=10,i+=a}while(i<r);this.trigger("data",e)}}}).prototype=new r,t.exports=i},function(t,e,n){"use strict";var i,r=n(4),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(i=function(){var t;i.prototype.init.call(this),this.push=function(e){var n,i,r,o,s,u,c=0,l=0;if("audio"===e.type)for(t?(o=t,(t=new Uint8Array(o.byteLength+e.data.byteLength)).set(o),t.set(e.data,o.byteLength)):t=e.data;c+5<t.length;)if(255===t[c]&&240==(246&t[c+1])){if(i=2*(1&~t[c+1]),n=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,u=9e4*(s=1024*(1+(3&t[c+6])))/a[(60&t[c+2])>>>2],r=c+n,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+l*u,dts:e.dts+l*u,sampleCount:s,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:a[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+i,r)}),t.byteLength===r)return void(t=void 0);l++,t=t.subarray(r)}else c++},this.flush=function(){this.trigger("done")}}).prototype=new r,t.exports=i},function(t,e,n){"use strict";var i,r,a,o=n(4),s=n(101);(r=function(){var t,e,n=0;r.prototype.init.call(this),this.push=function(i){var r;for(e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}}).prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(i=function(){var t,e,n,o,u,c,l,h=new r;i.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,o=t.dts,h.push(t))},h.on("data",function(i){var r={trackId:e,pts:n,dts:o,data:i};switch(31&i[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=u(i.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=u(i.subarray(1)),r.config=c(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",r)}),h.on("done",function(){t.trigger("done")}),this.flush=function(){h.flush()},l=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},u=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},c=function(t){var e,n,i,r,o,u,c,h,d,f,p,m,v,g=0,y=0,_=0,b=0,w=1;if(n=(e=new s(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),a[n]&&(3===(o=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==o?8:12,v=0;v<p;v++)e.readBoolean()&&l(v<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(u=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),c=e.readUnsignedExpGolomb(),v=0;v<c;v++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),h=e.readUnsignedExpGolomb(),d=e.readUnsignedExpGolomb(),0===(f=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}m&&(w=m[0]/m[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(h+1)-2*g-2*y)*w),height:(2-f)*(d+1)*16-2*_-2*b}}}).prototype=new o,t.exports={H264Stream:i,NalByteStream:r}},function(t,e,n){"use strict";var i;i=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,a=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");a.set(t.subarray(r,r+o)),n=new DataView(a.buffer).getUint32(0),i=8*o,e-=o},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),a=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=i},function(t,e,n){"use strict";var i,r=n(4),a=n(14);(i=function(){var t=new Uint8Array,e=0;i.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var i,r,o,s,u=0,c=0;for(t.length?(s=t.length,(t=new Uint8Array(n.byteLength+s)).set(t.subarray(0,s)),t.set(n,s)):t=n;t.length-c>=3;)if(t[c]!=="I".charCodeAt(0)||t[c+1]!=="D".charCodeAt(0)||t[c+2]!=="3".charCodeAt(0))if(255!=(255&t[c])||240!=(240&t[c+1]))c++;else{if(t.length-c<7)break;if(c+(u=a.parseAdtsSize(t,c))>t.length)break;o={type:"audio",data:t.subarray(c,c+u),pts:e,dts:e},this.trigger("data",o),c+=u}else{if(t.length-c<10)break;if(c+(u=a.parseId3TagSize(t,c))>t.length)break;r={type:"timed-metadata",data:t.subarray(c,c+u)},this.trigger("data",r),c+=u}i=t.length-c,t=i>0?t.subarray(c):new Uint8Array}}).prototype=new r,t.exports=i},function(t,e,n){"use strict";var i=n(20).discardEmulationPreventionBytes,r=n(19).CaptionStream,a=n(11),o=n(104),s=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},u=function(t,e){var n=a.findBox(t,["moof","traf"]),r={},u=[];return a.findBox(t,["mdat"]).forEach(function(t,e){var i=n[e];u.push({mdat:t,traf:i})}),u.forEach(function(t){var n,u=t.mdat,c=t.traf,l=a.findBox(c,["tfhd"]),h=o.parseTfhd(l[0]),d=h.trackId,f=a.findBox(c,["tfdt"]),p=f.length>0?o.parseTfdt(f[0]).baseMediaDecodeTime:0,m=a.findBox(c,["trun"]);e===d&&m.length>0&&(n=function(t,e,n){var r,a,o,u,c=new DataView(t.buffer,t.byteOffset,t.byteLength),l=[];for(a=0;a+4<t.length;a+=o)if(o=c.getUint32(a),a+=4,!(o<=0))switch(31&t[a]){case 6:var h=t.subarray(a+1,a+1+o),d=s(a,e);r={nalUnitType:"sei_rbsp",size:o,data:h,escapedRBSP:i(h),trackId:n},d?(r.pts=d.pts,r.dts=d.dts,u=d):(r.pts=u.pts,r.dts=u.dts),l.push(r)}return l}(u,function(t,e,n){var i=e,r=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,s=n.trackId,u=[];return t.forEach(function(t){var e=o.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=a),t.trackId=s,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration}),u=u.concat(e)}),u}(m,p,h),d),r[d]||(r[d]=[]),r[d]=r[d].concat(n))}),r};t.exports=function(){var t,e,n,i,a,o=!1;this.isInitialized=function(){return o},this.init=function(){t=new r,o=!0,t.on("data",function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,a.captions.push(t),a.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&i===e[n])},this.parse=function(t,r,o){var s;if(!this.isInitialized())return null;if(!r||!o)return null;if(this.isNewInit(r,o))n=r[0],i=o[n];else if(!n||!i)return e.push(t),null;for(;e.length>0;){var c=e.shift();this.parse(c,r,o)}return null!==(s=function(t,e,n){return e?{seiNals:u(t,e)[e],timescale:n}:null}(t,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),a):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(t,e,n){"use strict";var i,r,a=n(11).parseType,o=function(t){return new Date(1e3*t-20828448e5)},s=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},u={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:i(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,i,r,a=new DataView(t.buffer,t.byteOffset,t.byteLength),o={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},s=31&t[5];for(i=6,r=0;r<s;r++)n=a.getUint16(i),i+=2,o.sps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;for(e=t[i],i++,r=0;r<e;r++)n=a.getUint16(i),i+=2,o.pps.push(new Uint8Array(t.subarray(i,i+n))),i+=n;return o},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:a(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)n.compatibleBrands.push(a(t.subarray(i,i+4))),i+=4;return n},dinf:function(t){return{boxes:i(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:i(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:a(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:function(t){var e,n,i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=n)if(n=i.getUint32(e),e+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r}(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=o(n.getUint32(i)),i+=8,r.modificationTime=o(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=o(n.getUint32(i)),i+=4,r.modificationTime=o(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,e=n.getUint16(i),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:i(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:i(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=i(t.subarray(28))[0]),n},moof:function(t){return{boxes:i(t)}},moov:function(t){return{boxes:i(t)}},mvex:function(t){return{boxes:i(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=o(e.getUint32(n)),n+=8,i.modificationTime=o(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=8,i.duration=e.getUint32(n)):(i.creationTime=o(e.getUint32(n)),n+=4,i.modificationTime=o(e.getUint32(n)),n+=4,i.timescale=e.getUint32(n),n+=4,i.duration=e.getUint32(n)),n+=4,i.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=e.getUint32(n),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:i(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(e=8;r;e+=4,r--)i.chunkOffsets.push(n.getUint32(e));return i},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i=n.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:i(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(n.getUint32(e));return i},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(e=8;r;e+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return i},styp:function(t){return u.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],o=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],c=65536&i.flags[0],l=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),a&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),o&&(i.defaultSampleDuration=n.getUint32(e),e+=4),s&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),c&&(i.durationIsEmpty=!0),!r&&l&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=o(e.getUint32(n)),n+=8,i.modificationTime=o(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=8,i.duration=e.getUint32(n)):(i.creationTime=o(e.getUint32(n)),n+=4,i.modificationTime=o(e.getUint32(n)),n+=4,i.trackId=e.getUint32(n),n+=4,n+=4,i.duration=e.getUint32(n)),n+=4,n+=8,i.layer=e.getUint16(n),n+=2,i.alternateGroup=e.getUint16(n),n+=2,i.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,i.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,i.height=e.getUint16(n)+e.getUint16(n+2)/16,i},traf:function(t){return{boxes:i(t)}},trak:function(t){return{boxes:i(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],u=2&n.flags[1],c=4&n.flags[1],l=8&n.flags[1],h=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),a&&h&&(e={flags:s(t.subarray(d,d+4))},d+=4,o&&(e.duration=i.getUint32(d),d+=4),u&&(e.size=i.getUint32(d),d+=4),l&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),h--);h--;)e={},o&&(e.duration=i.getUint32(d),d+=4),u&&(e.size=i.getUint32(d),d+=4),c&&(e.flags=s(t.subarray(d,d+4)),d+=4),l&&(e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};i=function(t){for(var e,n,i,r,o,s=0,c=[],l=new ArrayBuffer(t.length),h=new Uint8Array(l),d=0;d<t.length;++d)h[d]=t[d];for(e=new DataView(l);s<t.byteLength;)n=e.getUint32(s),i=a(t.subarray(s+4,s+8)),r=n>1?s+n:t.byteLength,(o=(u[i]||function(t){return{data:t}})(t.subarray(s+8,r))).size=n,o.type=i,c.push(o),s=r;return c},r=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,i){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var i=n+"  "+e+": ",r=t[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var a=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return a?1===a.length?i+"<"+a.join("").slice(1)+">":i+"<\n"+a.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+r(t.boxes,e+1):"")}).join("\n")},t.exports={inspect:i,textify:r,parseTfdt:u.tfdt,parseHdlr:u.hdlr,parseTfhd:u.tfhd,parseTrun:u.trun}},function(t,e,n){"use strict";var i=n(7),r=n(21).handleRollover,a={};a.ts=n(106),a.aac=n(14);var o=function(t,e,n){for(var i,r,o,s,u=0,c=188,l=!1;c<=t.byteLength;)if(71!==t[u]||71!==t[c]&&c!==t.byteLength)u++,c++;else{switch(i=t.subarray(u,c),a.ts.parseType(i,e.pid)){case"pes":r=a.ts.parsePesType(i,e.table),o=a.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(s=a.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;u+=188,c+=188}for(u=(c=t.byteLength)-188,l=!1;u>=0;)if(71!==t[u]||71!==t[c]&&c!==t.byteLength)u--,c--;else{switch(i=t.subarray(u,c),a.ts.parseType(i,e.pid)){case"pes":r=a.ts.parsePesType(i,e.table),o=a.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(s=a.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;u-=188,c-=188}},s=function(t,e,n){for(var i,r,o,s,u,c,l,h=0,d=188,f=!1,p={data:[],size:0};d<t.byteLength;)if(71!==t[h]||71!==t[d])h++,d++;else{switch(i=t.subarray(h,d),a.ts.parseType(i,e.pid)){case"pes":if(r=a.ts.parsePesType(i,e.table),o=a.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!f&&(s=a.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),f=!0),!n.firstKeyFrame)){if(o&&0!==p.size){for(u=new Uint8Array(p.size),c=0;p.data.length;)l=p.data.shift(),u.set(l,c),c+=l.byteLength;a.ts.videoPacketContainsKeyFrame(u)&&(n.firstKeyFrame=a.ts.parsePesTime(u),n.firstKeyFrame.type="video"),p.size=0}p.data.push(i),p.size+=i.byteLength}}if(f&&n.firstKeyFrame)break;h+=188,d+=188}for(h=(d=t.byteLength)-188,f=!1;h>=0;)if(71!==t[h]||71!==t[d])h--,d--;else{switch(i=t.subarray(h,d),a.ts.parseType(i,e.pid)){case"pes":r=a.ts.parsePesType(i,e.table),o=a.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(s=a.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),f=!0)}if(f)break;h-=188,d-=188}},u=function(t){var e={pid:null,table:null},n={};for(var r in function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71!==t[i]||71!==t[r])i++,r++;else{switch(n=t.subarray(i,r),a.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=a.ts.parsePat(n));break;case"pmt":e.table||(e.table=a.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}}(t,e),e.table){if(e.table.hasOwnProperty(r))switch(e.table[r]){case i.H264_STREAM_TYPE:n.video=[],s(t,e,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],o(t,e,n),0===n.audio.length&&delete n.audio}}return n};t.exports={inspect:function(t,e){var n;return(n=a.aac.isLikelyAacData(t)?function(t){for(var e,n=!1,i=0,r=null,o=null,s=0,u=0;t.length-u>=3;){switch(a.aac.parseType(t,u)){case"timed-metadata":if(t.length-u<10){n=!0;break}if((s=a.aac.parseId3TagSize(t,u))>t.length){n=!0;break}null===o&&(e=t.subarray(u,u+s),o=a.aac.parseAacTimestamp(e)),u+=s;break;case"audio":if(t.length-u<7){n=!0;break}if((s=a.aac.parseAdtsSize(t,u))>t.length){n=!0;break}null===r&&(e=t.subarray(u,u+s),r=a.aac.parseSampleRate(e)),i++,u+=s;break;default:u++}if(n)return null}if(null===r||null===o)return null;var c=9e4/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*c,pts:o+1024*i*c}]}}(t):u(t))&&(n.audio||n.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=r(t.dts,n),t.pts=r(t.pts,n),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4})}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach(function(t){t.dts=r(t.dts,i),t.pts=r(t.pts,i),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4}),t.firstKeyFrame){var a=t.firstKeyFrame;a.dts=r(a.dts,i),a.pts=r(a.pts,i),a.dtsTime=a.dts/9e4,a.ptsTime=a.dts/9e4}}}(n,e),n):null},parseAudioPes_:o}},function(t,e,n){"use strict";var i=n(7),r=function(t){var e=31&t[1];return e<<=8,e|=t[2]},a=function(t){return!!(64&t[1])},o=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},s=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(t,e){var n=r(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=a(t),n=4+o(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=a(t),i=4+o(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var s=12+((15&t[i+10])<<8|t[i+11]);s<r;){var u=i+s;e[(31&t[u+1])<<8|t[u+2]]=t[u],s+=5+((15&t[u+3])<<8|t[u+4])}return e}},parsePayloadUnitStartIndicator:a,parsePesType:function(t,e){switch(e[r(t)]){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!a(t))return null;var e=4+o(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+o(t),n=t.subarray(e),i=0,r=0,a=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(a=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(a=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[r+3])&&(a=!0),a}}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-8 live_strm"},[e("video",{ref:"video",attrs:{id:"video",width:"640",controls:"",autoplay:""}})])])])},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(109),n(110),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),r=n.n(i);e.default={components:{FollowHeader:r.a}}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("follow-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(114),n(121),!1,function(t){n(112)},null,null);t.exports=i.exports},function(t,e,n){var i=n(113);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(3)("384091db",i,!0,{})},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".progress{text-align:center;margin:0 auto;width:200px;padding:0 20px}.progress-holder{display:inline-block}.robi-quiz-score{text-align:center;margin:0 auto}.skill-name{color:#fff}.robi-agent-name{text-transform:capitalize}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(115),r=n.n(i);e.default={data:function(){return{user:{},skills:[]}},mounted:function(){var t=this;this.$api.get("users/self-detail").then(function(e){t.user=e.data,t.skills=t.user.skills})},components:{Followstat:r.a}}},function(t,e,n){var i=n(0)(n(116),n(120),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),r=n.n(i);e.default={props:["skill"],mounted:function(){this.initProgressBar()},methods:{initProgressBar:function(){var t=this;this.$nextTick(function(){var e=new r.a.Circle(t.$refs.progress,{color:"#fff",strokeWidth:10,trailWidth:2,trailColor:"#fff",easing:"easeInOut",duration:1400,text:{autoStyleContainer:!0},from:{color:"#fff",width:10},to:{color:"#fff",width:10},step:function(t,e){e.path.setAttribute("stroke",t.color),e.path.setAttribute("stroke-width",t.width);var n=Math.round(100*e.value());0===n?e.setText("0%"):e.setText(n+"%")}});e.text.style.fontFamily='"Raleway", Helvetica, sans-serif',e.text.style.fontSize="2rem",e.animate(t.skill.user_percentage>0?t.skill.user_percentage:0)})}}}},function(t,e,n){var i=n(12),r=n(6),a=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",i.apply(this,arguments)};(a.prototype=new i).constructor=a,a.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},a.prototype._pathString=function(t){return r.render(this._pathTemplate,{center:t.strokeWidth/2})},a.prototype._trailString=function(t){return this._pathString(t)},t.exports=a},function(t,e,n){(function(){var e=this||Function("return this")(),n=function(){"use strict";var n,i,r,a,o,s,u="linear",c=1e3/60,l=Date.now?Date.now:function(){return+new Date},h="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:l;function d(){}function f(t,e){var n;for(n in t)Object.hasOwnProperty.call(t,n)&&e(n)}function p(t,e){return f(e,function(n){t[n]=e[n]}),t}function m(t,e){f(e,function(n){void 0===t[n]&&(t[n]=e[n])})}function v(t,e,i,r,a,o,s){var u,c,l,h=t<o?0:(t-o)/a;for(u in e)e.hasOwnProperty(u)&&(l="function"==typeof(c=s[u])?c:n[c],e[u]=g(i[u],r[u],l,h));return e}function g(t,e,n,i){return t+(e-t)*n(i)}function y(t,e){var n=w.prototype.filter,i=t._filterArgs;f(n,function(r){void 0!==n[r][e]&&n[r][e].apply(t,i)})}function _(t,e,n,i,u,l,d,f,p,m,g){r=e+n+i,a=Math.min(g||h(),r),o=a>=r,s=i-(r-a),t.isPlaying()&&(o?(p(d,t._attachment,s),t.stop(!0)):(t._scheduleId=m(t._timeoutHandler,c),y(t,"beforeTween"),a<e+n?v(1,u,l,d,1,1,f):v(a,u,l,d,i,e+n,f),y(t,"afterTween"),p(u,t._attachment,s)))}function b(t,e){var n={},i=typeof e;return f(t,"string"===i||"function"===i?function(t){n[t]=e}:function(t){n[t]||(n[t]=e[t]||u)}),n}function w(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=i,void 0!==e&&this.setConfig(e)}return i="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,w.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=h(),this._start(this.get(),this._attachment),this.resume())},w.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||d,this._step=t.step||d,this._finish=t.finish||d,this._duration=t.duration||500,this._currentState=p({},t.from||this.get()),this._originalState=this.get(),this._targetState=p({},t.to||this.get());var e=this;this._timeoutHandler=function(){_(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)};var n=this._currentState,i=this._targetState;return m(i,n),this._easing=b(n,t.easing||u),this._filterArgs=[n,this._originalState,i,this._easing],y(this,"tweenCreated"),this},w.prototype.get=function(){return p({},this._currentState)},w.prototype.set=function(t){this._currentState=t},w.prototype.pause=function(){return this._pausedAtTime=h(),this._isPaused=!0,this},w.prototype.resume=function(){return this._isPaused&&(this._timestamp+=h()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},w.prototype.seek=function(t){t=Math.max(t,0);var e=h();return this._timestamp+t===0?this:(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,_(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause()),this)},w.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=d,(e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.clearTimeout)(this._scheduleId),t&&(y(this,"beforeTween"),v(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),y(this,"afterTween"),y(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},w.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},w.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},w.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},w.prototype.filter={},w.prototype.formula={linear:function(t){return t}},n=w.prototype.formula,p(w,{now:h,each:f,tweenProps:v,tweenProp:g,applyFilter:y,shallowCopy:p,defaults:m,composeEasingObject:b}),"function"==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=_),t.exports=w,w}();n.shallowCopy(n.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}}),function(){function t(t,e,n,i,r,a){var o=0,s=0,u=0,c=0,l=0,h=0;function d(t){return((o*t+s)*t+u)*t}function f(t){return t>=0?t:0-t}return o=1-(u=3*e)-(s=3*(i-e)-u),c=1-(h=3*n)-(l=3*(r-n)-h),function(t,e){return n=function(t,e){var n,i,r,a,c,l,h;for(r=t,l=0;l<8;l++){if(f(a=d(r)-t)<e)return r;if(f(c=(3*o*(h=r)+2*s)*h+u)<1e-6)break;r-=a/c}if(i=1,(r=t)<(n=0))return n;if(r>i)return i;for(;n<i;){if(f((a=d(r))-t)<e)return r;t>a?n=r:i=r,r=.5*(i-n)+n}return r}(t,e),((c*n+l)*n+h)*n;var n}(t,function(t){return 1/(200*t)}(a))}n.setBezierFunction=function(e,i,r,a,o){var s=function(e,n,i,r){return function(a){return t(a,e,n,i,r,1)}}(i,r,a,o);return s.displayName=e,s.x1=i,s.y1=r,s.x2=a,s.y2=o,n.prototype.formula[e]=s},n.unsetBezierFunction=function(t){delete n.prototype.formula[t]}}(),function(){var t=new n;t._filterArgs=[],n.interpolate=function(e,i,r,a,o){var s=n.shallowCopy({},e),u=o||0,c=n.composeEasingObject(e,a||"linear");t.set({});var l=t._filterArgs;l.length=0,l[0]=s,l[1]=e,l[2]=i,l[3]=c,n.applyFilter(t,"tweenCreated"),n.applyFilter(t,"beforeTween");var h=function(t,e,i,r,a,o){return n.tweenProps(r,e,t,i,1,o,a)}(e,s,i,r,c,u);return n.applyFilter(t,"afterTween"),h}}(),function(t){var e=/(\d|\-|\.)/,n=/([^\-0-9\.]+)/g,i=/[0-9.\-]+/g,r=new RegExp("rgb\\("+i.source+/,\s*/.source+i.source+/,\s*/.source+i.source+"\\)","g"),a=/^.*\(/,o=/#([0-9]|[a-f]){3,6}/gi,s="VAL";function u(e){t.each(e,function(t){var n=e[t];"string"==typeof n&&n.match(o)&&(e[t]=d(o,n,c))})}function c(t){var e=function(t){3===(t=t.replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);return l[0]=h(t.substr(0,2)),l[1]=h(t.substr(2,2)),l[2]=h(t.substr(4,2)),l}(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}var l=[];function h(t){return parseInt(t,16)}function d(t,e,n){var i=e.match(t),r=e.replace(t,s);if(i)for(var a,o=i.length,u=0;u<o;u++)a=i.shift(),r=r.replace(s,n(a));return r}function f(t){for(var e=t.match(i),n=e.length,r=t.match(a)[0],o=0;o<n;o++)r+=parseInt(e[o],10)+",";return r=r.slice(0,-1)+")"}function p(i){var r={};return t.each(i,function(t){var a,o,u=i[t];if("string"==typeof u){var c=y(u);r[t]={formatString:(a=u,o=a.match(n),o?(1===o.length||a.charAt(0).match(e))&&o.unshift(""):o=["",""],o.join(s)),chunkNames:function(t,e){var n,i=[],r=t.length;for(n=0;n<r;n++)i.push("_"+e+"_"+n);return i}(c,t)}}}),r}function m(e,n){t.each(n,function(t){for(var i=y(e[t]),r=i.length,a=0;a<r;a++)e[n[t].chunkNames[a]]=+i[a];delete e[t]})}function v(e,n){t.each(n,function(t){var i=e[t],a=function(t,e){g.length=0;for(var n=e.length,i=0;i<n;i++)g.push(t[e[i]]);return g}(function(t,e){for(var n,i={},r=e.length,a=0;a<r;a++)n=e[a],i[n]=t[n],delete t[n];return i}(e,n[t].chunkNames),n[t].chunkNames);i=function(t,e){for(var n=t,i=e.length,r=0;r<i;r++)n=n.replace(s,+e[r].toFixed(4));return n}(n[t].formatString,a),e[t]=d(r,i,f)})}var g=[];function y(t){return t.match(i)}t.prototype.filter.token={tweenCreated:function(t,e,n,i){u(t),u(e),u(n),this._tokenData=p(t)},beforeTween:function(e,n,i,r){!function(e,n){t.each(n,function(t){var i,r=n[t].chunkNames,a=r.length,o=e[t];if("string"==typeof o){var s=o.split(" "),u=s[s.length-1];for(i=0;i<a;i++)e[r[i]]=s[i]||u}else for(i=0;i<a;i++)e[r[i]]=o;delete e[t]})}(r,this._tokenData),m(e,this._tokenData),m(n,this._tokenData),m(i,this._tokenData)},afterTween:function(e,n,i,r){v(e,this._tokenData),v(n,this._tokenData),v(i,this._tokenData),function(e,n){t.each(n,function(t){var i=n[t].chunkNames,r=i.length,a=e[i[0]];if("string"==typeof a){for(var o="",s=0;s<r;s++)o+=" "+e[i[s]],delete e[i[s]];e[t]=o.substr(1)}else e[t]=a})}(r,this._tokenData)}}}(n)}).call(null)},function(t,e,n){var i=n(12),r=n(24),a=n(6),o=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,i.apply(this,arguments)};(o.prototype=new i).constructor=o,o.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},o.prototype._initializeTextContainer=function(t,e,n){t.text.style&&(n.style.top="auto",n.style.bottom="0",t.text.alignToBottom?a.setStyle(n,"transform","translate(-50%, 0)"):a.setStyle(n,"transform","translate(-50%, 50%)"))},o.prototype._pathString=r.prototype._pathString,o.prototype._trailString=r.prototype._trailString,t.exports=o},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-holder"},[n("div",{staticClass:"progress-text"},[n("div",{staticClass:"progress-column progress-stat"},[n("label",{staticClass:"progress-title"}),t._v(" "),n("div",{staticClass:"stat-container stat-total"},[n("label",{staticClass:"stat-title"},[t._v("Total Number of Courses:")]),t._v(" "),n("span",{staticClass:"stat-value"},[t._v(t._s(t.skill.total_no_of_courses))])]),t._v(" "),n("div",{staticClass:"stat-container stat-complete"},[n("label",{staticClass:"stat-title"},[t._v("Number of Courses Completed:")]),t._v(" "),n("span",{staticClass:"stat-value"},[t._v(t._s(t.skill.no_of_completed_courses))])]),t._v(" "),n("div",{staticClass:"stat-container stat-incomplete"},[n("label",{staticClass:"stat-title"},[t._v("Number of Incomplete Courses:")]),t._v(" "),n("span",{staticClass:"stat-value"},[t._v(t._s(t.skill.no_of_incomplete_courses))])])]),t._v(" "),t.skill.completed_courses.length?n("div",{staticClass:"progress-column completed-courses"},[n("label",{staticClass:"progress-title"},[t._v("Completed Courses")]),t._v(" "),n("ul",{staticClass:"completed-courses-list"},t._l(t.skill.completed_courses,function(e){return n("li",{staticClass:"completed-course-item"},[t._v(t._s(e))])}))]):t._e(),t._v(" "),n("div",{staticClass:"progress-column progress-incomplete"},[n("label",{staticClass:"progress-title"},[t._v("Incomplete Courses")]),t._v(" "),n("ul",{staticClass:"incomplete-courses-list"},t._l(t.skill.incomplete_courses,function(e){return n("li",{staticClass:"in-complete-course-item"},[t._v(t._s(e))])}))])]),t._v(" "),n("span",{staticClass:"skill-name"},[t._v(t._s(t.skill.name))]),t._v(" "),n("div",{ref:"progress",staticClass:"progress"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"follow-dashboard-wrap"},[n("div",{staticClass:"robi-agent-wrap"},[n("div",{staticClass:"agent-details-col"},[t.user.code?n("div",{staticClass:"robi-agent-img"},[n("img",{attrs:{src:"/img/profile/"+t.user.code+".png",alt:""}})]):t._e(),t._v(" "),t.user.name?n("div",{staticClass:"robi-agent-details"},[n("h2",{staticClass:"robi-agent-name"},[t._v(t._s(t.user.name))]),t._v(" "),t.user.email?n("h4",{staticClass:"robi-agent-email"},[t._v(t._s(t.user.email))]):t._e(),t._v(" "),t.user.phone?n("h4",{staticClass:"robi-agent-phone"},[t._v(t._s(t.user.phone))]):t._e(),t._v(" "),t.user.unit?n("h4",{staticClass:"robi-agent-unit"},[t._v(t._s(t.user.unit.name))]):t._e(),t._v(" "),t.user.department?n("h4",{staticClass:"robi-agent-department"},[t._v(t._s(t.user.department.name))]):t._e(),t._v(" "),t.user.division?n("h4",{staticClass:"robi-agent-division"},[t._v(t._s(t.user.division.name))]):t._e(),t._v(" "),n("p",{staticClass:"robi-agent-assigned"},[t._v("ASSIGNED ("+t._s(t.user.no_of_courses_assigned)+")")]),t._v(" "),n("p",{staticClass:"robi-agent-ateended"},[t._v("ATEENDED ("+t._s(t.user.no_of_courses_attended)+")")])]):t._e(),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"agent-avgscore-col"},[n("span",{staticClass:"avg-score"},[t._v(t._s(t.user.score))]),t._v(" "),n("p",[t._v("Score")])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"robi-quiz-wrap"},[n("h3",[t._v("QuiZtat")]),t._v(" "),n("div",{staticClass:"robi-quiz-score"},t._l(t.skills,function(t,e){return n("followstat",{key:e,attrs:{index:e,skill:t}})}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"agent-badge-col"},[e("h2",[this._v("LEARNER BADGE")]),this._v(" "),e("img",{attrs:{src:"/img/agent-badge.png",alt:""}})])}]}},function(t,e,n){var i=n(0)(n(123),n(127),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(124),r=n.n(i);e.default={data:function(){return{exams:[]}},mounted:function(){var t=this;this.$http.get("exams/pending").then(function(e){t.exams=e.data})},components:{PendingExam:r.a}}},function(t,e,n){var i=n(0)(n(125),n(126),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{start:function(){this.$router.push({name:"ExamStart",params:{id:this.exam.id}})}},props:["exam"]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.exam.title))]),t._v(" "),n("div",[t._v(t._s(t.exam.description))])])]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{flat:"",color:"orange"},on:{click:t.start}},[t._v("Start Exam")])],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-list",{attrs:{subheader:""}},[e("v-subheader",[this._v("Available Exams")]),this._v(" "),this._l(this.exams,function(t,n){return e("pending-exam",{key:t.id,attrs:{exam:t,index:n}})})],2)},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(129),n(130),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{exam:{},examUserId:""}},mounted:function(){this.examUserId=this.$route.params.id;var t=this;this.$http.get("exams/get-by-exam-user-id/"+t.examUserId).then(function(e){t.exam=e.data})},computed:{commandText:function(){return this.exam.status_id,"START"}},methods:{start:function(){this.$router.push({name:"Exam",params:{id:this.exam.id}})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-wrap"},[n("div",{staticClass:"knowledge-test-title"},[n("h1",[t._v(t._s(t.exam.title))])]),t._v(" "),n("div",{staticClass:"exam-information-wrap"},[n("div",{staticClass:"container"},[n("div",{staticClass:"exam-topic-col"},[n("h2",[t._v("Exam Description")]),t._v(" "),n("p",[t._v(t._s(t.exam.description))])]),t._v(" "),n("div",{staticClass:"exam-info-col exam-info-col2"},[n("h2",[t._v("Exam Information")]),t._v(" "),n("ul",{staticClass:"exam-info-list"},[n("li",[t._v("Exam Type: "+t._s("objective"==t.exam.type?"Multiple Choice Questions (MCQ)":"Descriptive Questions"))]),t._v(" "),n("li",[t._v("Duration: "+t._s(t.exam.duration)+" minutes")]),t._v(" "),n("li",[t._v("Total Questions: "+t._s(t.exam.total_no_of_questions))]),t._v(" "),n("li",[t._v("Total Marks: "+t._s(t.exam.score))])])]),t._v(" "),n("div",{staticClass:"clearfix"})])]),t._v(" "),n("div",{staticClass:"question-start"},[n("h2",{staticClass:"question-title"},[t._v("Question")]),t._v(" "),n("div",{staticClass:"question-start-btn-wrap"},[n("router-link",{staticClass:"question-start-btn",attrs:{to:{name:"Exam",params:{id:t.examUserId}}}},[t._v(t._s(t.commandText))])],1)])])},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(134),n(135),!1,function(t){n(132)},null,null);t.exports=i.exports},function(t,e,n){var i=n(133);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(3)("b670fb70",i,!0,{})},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".progress{margin:0 auto;width:200px;height:200px;position:relative}.ans-no{color:red;font-weight:700}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),r=n.n(i);e.default={data:function(){return{exam:{},user:{},examUser:{},questions:[],curQuesNo:1,answers:[]}},mounted:function(){var t=this.$route.params.id,e=this;this.$http.get("exams/finish/"+t).then(function(t){e.exam=t.data,e.user=e.exam.users[0],e.examUser=e.user.pivot,e.questions=e.exam.questions,e.answers=e.user.pivot.questions,e.initProgressBar()})},computed:{state:function(){return this.examUser.state},question:function(){return this.questions[this.curQuesNo-1]},answer:function(){var t=this,e=this.answers.find(function(e){return e.id==t.question.id});return e&&e.pivot.answer&&"null"!=e.pivot.answer?"objective"==this.exam.type?JSON.parse(e.pivot.answer).join(", "):e.pivot.answer:""}},methods:{start:function(){this.$router.push({name:"Exam",params:{id:this.exam.id}})},getChar:function(t){return String.fromCharCode(t+65)},isCorrectAnswer:function(t,e){return JSON.parse(t.answer).includes(e)},isWrongAnswer:function(t,e){return"objective"!=this.exam.type||!this.isCorrectAnswer(t,e)&&this.answer.includes(e)},isNotAnswered:function(t){return"objective"==this.exam.type&&!this.answer.length||"descriptive"==this.exam.type&&!this.answer},isNotKnown:function(t){return"objective"==this.exam.type&&this.answer.length&&this.answer.includes("I Don't Know")},nextQuestion:function(){this.curQuesNo<this.questions.length&&this.curQuesNo++},prevQuestion:function(){this.curQuesNo>1&&this.curQuesNo--},initProgressBar:function(){var t=this;this.$nextTick(function(){var e=new r.a.Circle(t.$refs.progress,{color:"#000",strokeWidth:4,trailWidth:1,trailColor:"#bbb",easing:"easeInOut",duration:1400,text:{autoStyleContainer:!0},from:{color:"#C42C33",width:5},to:{color:"#C42C33",width:5},step:function(t,e){e.path.setAttribute("stroke",t.color),e.path.setAttribute("stroke-width",t.width);var n=Math.round(100*e.value());0===n?e.setText(""):e.setText(n+"%")}});e.text.style.fontFamily='"Raleway", Helvetica, sans-serif',e.text.style.fontSize="2rem",e.animate(t.state.score/t.exam.score)})},downloadCertificate:function(){window.open("/exam-user/certificate/"+this.examUser.id,"_newtab")}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.exam&&t.state?n("div",[n("div",{staticClass:"question-wrap"},[n("div",{staticClass:"knowledge-test-title"},[n("h1",[t._v(t._s(t.exam.title))])]),t._v(" "),n("div",{staticClass:"exam-information-wrap"},[n("div",{staticClass:"container"},[n("div",{staticClass:"result-summary-col"},[n("h2",[t._v("Result Summary")]),t._v(" "),n("ul",{staticClass:"result-summary-list"},[n("li",[t._v("Questions Answered: "+t._s(t.state.no_of_questions_answered))]),t._v(" "),n("li",[t._v("Correct Answers: "+t._s(t.state.no_of_correct_answers))]),t._v(" "),n("li",[t._v("Wrong Answers: "+t._s(t.state.no_of_wrong_answers))]),t._v(" "),n("li",[t._v("Correct Answer: (%)"+t._s(Math.round(t.state.no_of_correct_answers/t.exam.total_no_of_questions*100))+"%")]),t._v(" "),n("li",[n("span",{staticClass:"bold-red"},[t._v("Score: "+t._s(t.state.score))])]),t._v(" "),n("li",[n("span",{staticClass:"bold-red"},[t._v("Score(%): "+t._s(t.state.score/t.exam.score*100)+"%")])]),t._v(" "),n("li",[t._v("Total time spent: "+t._s(t.state.time_spent))])]),t._v(" "),n("div",{staticClass:"competency-level"},[t._v("Competency Level: "+t._s(t.state.grade))])]),t._v(" "),n("div",{staticClass:"score-percentage-col"},[n("div",{ref:"progress",staticClass:"progress"}),t._v(" "),n("span",{staticClass:"bold-red"},[t._v("Score: "+t._s(t.state.score)+"/"+t._s(t.exam.score))])]),t._v(" "),n("div",{staticClass:"exam-info-col"},[n("h2",[t._v("Exam Information")]),t._v(" "),n("ul",{staticClass:"exam-info-list"},[n("li",[t._v("Exam Type: "+t._s("objective"==t.exam.type?"Multiple Choice Questions (MCQ)":"Descriptive Questions"))]),t._v(" "),n("li",[t._v("Duration: "+t._s(t.exam.duration)+" minutes")]),t._v(" "),n("li",[t._v("Total Questions: "+t._s(t.exam.total_no_of_questions))]),t._v(" "),n("li",[t._v("Total Marks: "+t._s(t.exam.score))]),t._v(" "),n("li",[n("button",{on:{click:t.downloadCertificate}},[t._v("Download Certificate")])])])]),t._v(" "),n("div",{staticClass:"clearfix"})])]),t._v(" "),n("div",{staticClass:"question-row"},[n("div",{staticClass:"container"},[n("h2",{staticClass:"question-title"},[t._v("Question")]),t._v(" "),n("div",{staticClass:"question-item"},[n("p",[t._v(t._s(t.question.question))]),t._v(" "),"objective"==t.exam.type?n("div",{staticClass:"question-item-ans"},t._l(t.question.options,function(e,i){return n("div",{key:i},[n("div",{class:{"ans-yes":t.isCorrectAnswer(t.question,e),"ans-no":t.isWrongAnswer(t.question,e)},attrs:{href:"#"}},[t._v("\n                "+t._s(t.getChar(i)+". "+e)+"\n                "),t.isCorrectAnswer(t.question,e)&&t.isNotAnswered(t.question)?n("span",{staticClass:"ans-no"},[t._v("(not answered)")]):t._e(),t._v(" "),t.isCorrectAnswer(t.question,e)&&t.isNotKnown(t.question)?n("span",{staticClass:"ans-no"},[t._v("(not known)")]):t._e()])])})):t._e(),t._v(" "),"descriptive"==t.exam.type?n("div",{staticClass:"question-item-ans"},[t._v("\n            Your Answer: "+t._s(t.answer)+"\n          ")]):t._e()])])])]),t._v(" "),n("div",{staticClass:"pagination-wrap"},[n("a",{staticClass:"prev-ques pagi-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.prevQuestion(e)}}},[t._v("Previous Question")]),t._v(" "),n("ul",{staticClass:"pagination"},t._l(t.questions,function(e,i){return n("li",{key:i,class:{active:i==t.curQuesNo-1},on:{click:function(e){e.preventDefault(),t.curQuesNo=i+1}}},[n("a",{attrs:{href:"#"}},[t._v(t._s(i+1))])])})),t._v(" "),n("a",{staticClass:"next-ques pagi-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.nextQuestion(e)}}},[t._v("Next Question")])])]):t._e()},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(137),n(141),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(138),r=n.n(i);e.default={data:function(){return{exam:{},curQuesNo:void 0,remaining:0,answers:{},x:void 0,y:void 0}},computed:{remainingTime:function(){var t=Math.floor(this.remaining/3600),e=Math.floor(this.remaining%3600/60),n=this.remaining%60,i=String("0"+t).slice(-2);return i+=":"+String("0"+e).slice(-2),i+=":"+String("0"+n).slice(-2)},hasPrevious:function(){return 1!=this.curQuesNo},hasNext:function(){return this.curQuesNo<this.exam.total_no_of_questions}},mounted:function(){var t=this.$route.params.id,e=this;this.$http.get("exams/take/"+t).then(function(t){e.exam=t.data,3!=parseInt(e.exam.pivot.status_id)&&4!=parseInt(e.exam.pivot.status_id)?e.$router.push({name:"ExamResult",params:{id:e.exam.pivot.id}}):(e.curQuesNo=e.exam.curQuesNo,e.remaining=t.data.remaining,e.exam.pivot.questions&&"objective"==e.exam.type&&e.exam.pivot.questions.forEach(function(t){e.answers[t.id]=JSON.parse(t.pivot.answer)}),e.x=setInterval(function(){e.remaining<=0&&(clearInterval(e.x),e.finish()),e.remaining--},1e3),e.y=setInterval(function(){e.remaining<=0&&(clearInterval(e.y),e.finish()),e.$http.post("exams/set-last-active-time/"+e.exam.pivot.id)},1e4))})},methods:{answered:function(t,e){this.answers[e]=t;var n=this.exam.questions[this.curQuesNo-1];this.$http.post("exams/answer/"+this.exam.pivot.id,{question_id:n.id,answer:this.answers[n.id],curQuesNo:this.curQuesNo})},next:function(){var t=this.exam.questions[this.curQuesNo-1];if(this.answers[t.id]){if(this.curQuesNo<this.exam.total_no_of_questions){this.curQuesNo++;this.$http.post("exams/set-cur-ques-no/"+this.exam.pivot.id,{curQuesNo:this.curQuesNo})}}else alert("please answer")},previous:function(){if(this.curQuesNo>1){this.curQuesNo--;this.$http.post("exams/set-cur-ques-no/"+this.exam.pivot.id,{curQuesNo:this.curQuesNo})}},finish:function(){var t=this.exam.questions[this.curQuesNo-1];if(this.answers[t.id]||this.remaining<=0){var e=this;this.$api.post("exam-user/submit/"+e.exam.pivot.id,{answers:e.answers}).then(function(){clearInterval(e.x),clearInterval(e.y),e.$router.push({name:"ExamResult",params:{id:e.exam.pivot.id}})})}else alert("please answer")}},components:{Question:r.a}}},function(t,e,n){var i=n(0)(n(139),n(140),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{answers:[],answer:{},timer:void 0}},props:["question","curQuesNo","oldAnswer","quesNo","allowDontKnow"],computed:{options:function(){var t=this.question.options;return parseInt(this.allowDontKnow)&&t.push("I Don't Know"),t},isMultiple:function(){return JSON.parse(this.question.answer).length>1}},mounted:function(){!this.answers.length&&this.oldAnswer&&(this.answers=this.oldAnswer,1==this.answers.length&&(this.answer=this.answers[0]))},watch:{answers:function(t){clearTimeout(this.timer);var e=this;this.timer=setTimeout(function(){e.$emit("answered",t,e.question.id)},700)},question:function(t){this.answers=[]},answer:function(t){this.answers=[t]}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.question&&t.quesNo==t.curQuesNo-1?n("div",[n("h2",[t._v("Question:")]),t._v(" "),n("p",[t._v(t._s(t.question.question))]),t._v(" "),"objective"==t.question.type?n("div",[n("h2",[t._v("Options:")]),t._v(" "),n("ul",t._l(t.options,function(e){return n("li",[t.isMultiple?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],attrs:{id:e,type:"radio"},domProps:{value:e,checked:t._q(t.answer,e)},on:{change:function(n){t.answer=e}}}),t._v(" "),t.isMultiple?n("input",{directives:[{name:"model",rawName:"v-model",value:t.answers,expression:"answers"}],attrs:{id:e,type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.answers)?t._i(t.answers,e)>-1:t.answers},on:{change:function(n){var i=t.answers,r=n.target,a=!!r.checked;if(Array.isArray(i)){var o=e,s=t._i(i,o);r.checked?s<0&&(t.answers=i.concat([o])):s>-1&&(t.answers=i.slice(0,s).concat(i.slice(s+1)))}else t.answers=a}}}):t._e(),t._v(" "),n("label",{attrs:{for:e}},[t._v(t._s(e))])])}))]):t._e(),t._v(" "),"descriptive"==t.question.type?n("div",[n("h2",[t._v("Answer:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.answers,expression:"answers"}],attrs:{type:"text"},domProps:{value:t.answers},on:{input:function(e){e.target.composing||(t.answers=e.target.value)}}})]):t._e()]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ongoing-exam-box"},[n("div",{staticClass:"container"},[n("div",{staticClass:"question-time-bar"},[n("div",{staticClass:"question-number"},[t._v("Question: "+t._s(t.curQuesNo)+" of "+t._s(t.exam.total_no_of_questions))]),t._v(" "),n("div",{staticClass:"time-remaining"},[n("span",{staticClass:"time-remaining-label"},[t._v("Time remaining:")]),t._v(" "),n("span",{staticClass:"time-remaining-count"},[t._v(t._s(t.remainingTime)+" "),n("span",[t._v("minutes")])])]),t._v(" "),n("div",{staticClass:"progress-bar"})]),t._v(" "),n("div",{staticClass:"question-list"},[t._l(t.exam.questions,function(e,i){return n("question",{key:i,attrs:{question:e,allowDontKnow:t.exam.allow_dont_know,quesNo:i,curQuesNo:t.curQuesNo,oldAnswer:t.answers[e.id]},on:{answered:t.answered}})}),t._v(" "),n("div",{staticClass:"next-question-btn"},[t.hasPrevious?n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.previous(e)}}},[t._v("Previous Question")]):t._e(),t._v(" "),t.hasNext?n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.next(e)}}},[t._v("Next Question")]):t._e(),t._v(" "),t.hasNext?t._e():n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.finish(e)}}},[t._v("Finish")])])],2)])])},staticRenderFns:[]}},function(t,e,n){var i=n(0)(null,n(143),!1,null,null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(147),n(155),!1,function(t){n(145)},null,null);t.exports=i.exports},function(t,e,n){var i=n(146);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(3)("44128ae0",i,!0,{})},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".courses-content-col.is-full{display:none}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(148),r=n.n(i),a=n(151),o=n.n(a);e.default={data:function(){return{examUser:void 0,course:void 0,courseUser:void 0,contentUsers:[],showStartModal:!1,showFinishModal:!1,curContId:this.$router.currentRoute.params.contentId}},computed:{isFull:function(){return this.$store.state.isFull}},mounted:function(){var t=this;this.$route.params.course?(this.course=this.$route.params.course,this.courseUser=this.course.course_users.length?this.course.course_users[0]:void 0,this.checkStatus()):this.loadCourse(),this.$api.get("content-user/by-course/"+t.$route.params.id).then(function(e){t.contentUsers=e.data})},methods:{goToTopic:function(t){this.$router.push({name:"Topic",params:{topicId:t.id,topic:t}})},isComplete:function(t){var e=this.contentUsers.find(function(e){return e.content_id==t});return!!e&&18==e.status_id},contStatToggled:function(t){var e=this.contentUsers.findIndex(function(e){return e.id==t.id});if(e>=0?this.contentUsers[e].status_id=t.status_id:this.contentUsers.push(t),0==t.no_of_incomplete_contents){var n=this;this.$api.patch("course-user/"+this.courseUser.id,{status_id:15}).then(function(t){t.data&&(n.examUser=t.data),n.showFinishModal=!0,n.loadCourse()})}},checkStatus:function(){this.courseUser&&20!=this.courseUser.status_id?this.courseUser.is_admin_assigned&&13==this.courseUser.status_id?this.$api.patch("course-user/"+this.courseUser.id,{status_id:14}):this.showStartModal=!1:this.showStartModal=!0},closeModal:function(){this.showStartModal=!1},startCourse:function(){var t=this;this.$api.post("courses/self-assign/"+this.course.id).then(function(){t.loadCourse()})},finishCourse:function(){this.showFinishModal=!1},loadCourse:function(){var t=this;this.$api.get("courses/"+t.$route.params.id).then(function(e){t.course=e.data,t.courseUser=t.course.course_users.length?t.course.course_users[0]:void 0,t.checkStatus()})}},watch:{$route:function(t){this.curContId=t.params.contentId}},components:{"content-block":r.a,"alert-modal":o.a}}},function(t,e,n){var i=n(0)(n(149),n(150),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["course","content","curContId","contentUsers"],computed:{isComplete:function(){var t=this,e=this.contentUsers.find(function(e){return e.content_id==t.content.id});return!!e&&18==e.status_id},isAssigned:function(){return this.course.course_users.length&&(0!=this.course.course_users[0].is_admin_assigned||0!=this.course.course_users[0].is_self_assigned)}},methods:{toggleStatus:function(){if(!this.course.course_users.length||15!=this.course.course_users[0].status_id){var t=this;this.$api.patch("content-user/toggle-status/"+t.content.id).then(function(e){t.$emit("toggledStatus",e.data)})}}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("span",{directives:[{name:"show",rawName:"v-show",value:t.content.id!=t.curContId,expression:"content.id != curContId"}],staticClass:"flag-icon"},[n("img",{attrs:{src:"/img/flag-icon.png",alt:""}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.content.id==t.curContId,expression:"content.id == curContId"}],staticClass:"flag-icon"},[n("img",{attrs:{src:"/img/content-open.png",alt:""}})]),t._v(" "),n("router-link",{attrs:{to:{name:"ContentDetail",params:{contentId:t.content.id,content:t.content}}}},[t._v(t._s(t.content.title))]),t._v(" "),t.isAssigned?n("span",{staticClass:"view-icon cursor-pointer",on:{click:function(e){t.toggleStatus(t.content.id,e)}}},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.isComplete,expression:"isComplete"}],attrs:{src:"/img/content-done.png",alt:""}}),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:!t.isComplete,expression:"!isComplete"}],attrs:{src:"/img/view-icon.png",alt:""}})]):t._e()],1)},staticRenderFns:[]}},function(t,e,n){var i=n(0)(null,n(154),!1,function(t){n(152)},null,null);t.exports=i.exports},function(t,e,n){var i=n(153);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(3)("c4b1ed0e",i,!0,{})},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:table;-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.modal-wrapper{display:table-cell;vertical-align:middle}.modal-container{width:300px;margin:0 auto;padding:20px 30px;background-color:#fff;border-radius:2px;-webkit-box-shadow:0 2px 8px rgba(0,0,0,.33);box-shadow:0 2px 8px rgba(0,0,0,.33);-webkit-transition:all .3s ease;transition:all .3s ease;font-family:Helvetica,Arial,sans-serif}.modal-header h3{margin-top:0;color:#42b983}.modal-body{margin:20px 0}.modal-default-button{float:right}.modal-enter,.modal-leave-active{opacity:0}.modal-enter .modal-container,.modal-leave-active .modal-container{-webkit-transform:scale(1.1);transform:scale(1.1)}",""])},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n            default header\n          ")])],2),t._v(" "),n("div",{staticClass:"modal-body"},[t._t("body",[t._v("\n            default body\n          ")])],2),t._v(" "),n("div",{staticClass:"modal-footer"},[t._t("footer",[t._v("\n            default footer\n            "),n("button",{staticClass:"modal-default-button",on:{click:function(e){t.$emit("close")}}},[t._v("\n              OK\n            ")])])],2)])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"courses-wrap"},[n("router-view",{key:t.$route.params.topicId+""+t.$route.params.contentId}),t._v(" "),t.course?n("div",{staticClass:"courses-content-col",class:{"is-full":t.isFull}},[n("div",{staticClass:"title-bar"},[n("router-link",{attrs:{to:{name:"CourseDetail",params:{id:t.course.id,course:t.course}}}},[n("h2",[t._v(t._s(t.course.name))])]),t._v(" "),t._m(0)],1),t._v(" "),n("div",{staticClass:"courses-content-wrap"},t._l(t.course.topics,function(e,i){return n("div",{key:i,staticClass:"courses-content-box courses-content-box1"},[n("h3",{staticClass:"cursor-pointer",on:{click:function(n){t.goToTopic(e)}}},[t._v(t._s(e.name))]),t._v(" "),n("ul",{staticClass:"courses-content-list"},t._l(e.contents,function(e,i){return n("content-block",{key:e.id,attrs:{content:e,course:t.course,curContId:t.curContId,contentUsers:t.contentUsers,index:i},on:{toggledStatus:t.contStatToggled}})}))])}))]):t._e(),t._v(" "),n("div",{staticClass:"clearfix"}),t._v(" "),t.showStartModal?n("alert-modal",{staticClass:"alert-modal"},[n("h3",{attrs:{slot:"header"},slot:"header"},[t._v("Start Course")]),t._v(" "),n("p",{attrs:{slot:"body"},slot:"body"},[t._v("Do you want to start the course?")]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{on:{click:t.startCourse}},[t._v("Yes")]),t._v(" "),n("button",{on:{click:t.closeModal}},[t._v("No")])])]):t._e(),t._v(" "),t.showFinishModal?n("alert-modal",{staticClass:"success-modal"},[n("h3",{attrs:{slot:"header"},slot:"header"},[t._v("Finish Course")]),t._v(" "),n("div",{attrs:{slot:"body"},slot:"body"},[n("p",{staticClass:"congrat-text"},[t._v("Congratulation! You have completed all the contents of the course")]),t._v(" "),t.examUser?n("p",{staticClass:"exam-link"},[t._v("There is an exam associated to this course. click below")]):t._e(),t._v(" "),t.examUser?n("p",[n("router-link",{attrs:{to:{name:"ExamStart",params:{id:t.examUser.id,examId:t.examUser.exam.id}}}},[t._v(t._s(t.examUser.exam.title))])],1):t._e()]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{on:{click:t.finishCourse}},[t._v("Complete the course")])])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"search-btn"},[e("img",{attrs:{src:"/img/search-icon.png",alt:""}})])}]}},function(t,e,n){var i=n(0)(n(159),n(167),!1,function(t){n(157)},null,null);t.exports=i.exports},function(t,e,n){var i=n(158);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(3)("2ac5ac4d",i,!0,{})},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".slider-item img{width:100%}.slider-item{width:90%;margin:0 auto}.VueCarousel-navigation-button{background:url(/img/right-arrow.png) no-repeat scroll 50% #fff!important;border-radius:0;-webkit-box-shadow:-4px 0 5px rgba(78,79,81,.9);box-shadow:-4px 0 5px rgba(78,79,81,.9);height:100px;margin:0;position:absolute;right:-34px;top:37%!important;width:40px;z-index:999}.VueCarousel-navigation-prev{background-image:url(/img/left-arrow.png)!important;-webkit-box-shadow:4px 0 5px rgba(78,79,81,.9);box-shadow:4px 0 5px rgba(78,79,81,.9);left:13px!important;right:auto}.VueCarousel-navigation-next{right:13px!important}.VueCarousel-navigation--disabled{opacity:1!important}.thumb1 .slider-item{width:30%}.thumb2 .slider-item{width:60%}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(160),r=n.n(i),a=n(163),o=n.n(a),s=n(166);n.n(s);e.default={data:function(){return{tab:"new",courses:[],courseUsers:[]}},computed:{reloadCourses:function(){return this.$store.state.reloadCourses},newCourses:function(){return this.courses},topCourses:function(){return this.courses.filter(function(t){return 0!=t.is_top})},popCourses:function(){return this.courses.slice().sort(function(t,e){return t.no_of_users-e.no_of_users})},conCourses:function(){return this.courses.filter(function(t){return!!t.course_users.length&&14==t.course_users[0].status_id})},assCourses:function(){return this.courses.filter(function(t){return!!t.course_users.length&&13==t.course_users[0].status_id})},favCourses:function(){return this.courses.filter(function(t){return!!t.course_users.length&&0!=t.course_users[0].is_favorite})}},watch:{reloadCourses:function(){this.getCourses()}},mounted:function(){this.getCourses()},methods:{getCourses:function(){var t=this;this.$api.get("courses").then(function(e){t.courses=e.data})}},components:{CourseThumb:r.a,CourseTile:o.a,Carousel:s.Carousel,Slide:s.Slide}}},function(t,e,n){var i=n(0)(n(161),n(162),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n.n(i);e.default={props:["course","listType"],computed:{startedAt:function(){return r.a.format(r.a.parse(this.course.started_at,"YYYY-MM-DD HH:mm:ss"),"MMMM Do, YYYY")}},methods:{goToCourse:function(){this.$router.push({name:"CourseDetail",params:{id:this.course.id,course:this.course}})},removeFromPlaylist:function(){var t=this;this.$api.patch("course-user/"+this.course.course_users[0].id,{is_favorite:!1}).then(function(){t.$store.dispatch("reloadCourses")})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slider-item cursor-pointer"},[n("div",{staticClass:"slider-item-thumb",on:{click:t.goToCourse}},[n("img",{attrs:{src:"/img/video-img.png",alt:""}})]),t._v(" "),n("h3",{on:{click:t.goToCourse}},[t._v(t._s(t.course.name))]),t._v(" "),n("span",{staticClass:"release-date"},[t._v(t._s(t.startedAt))]),t._v(" "),n("div",{staticClass:"action-buttons"},[t.listType&&"fav"==t.listType?n("button",{on:{click:t.removeFromPlaylist}},[t._v("Remove from playlist")]):t._e()])])},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(164),n(165),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n.n(i);e.default={props:["course"],computed:{duration:function(){var t=this.course.duration[0],e=this.course.duration[1],n=this.course.duration[2],i="";return t&&(i+=t+"d "),e&&(i+=e+"h "),n&&(i+=n+"m"),i},since:function(){var t=r.a.parse(this.course.started_at,"YYYY-MM-DD HH:mm:ss"),e=new Date,n=Math.abs(e-t),i=Math.ceil(n/864e5);return i+(i>1?" days":" day")+" ago"},isComplete:function(){return this.course.course_users.length&&15==this.course.course_users[0].status_id}},methods:{addToPlaylist:function(){var t=this;this.$api.patch("course-user/by-course-id/"+this.course.id,{is_favorite:!0}).then(function(){t.$store.dispatch("reloadCourses")})},goToCourse:function(){this.$router.push({name:"CourseDetail",params:{id:this.course.id,course:this.course}})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"courses-video-list"},[n("div",{staticClass:"video-col cursor-pointer",on:{click:t.goToCourse}},[n("img",{attrs:{src:"/img/video-img.png",alt:""}})]),t._v(" "),n("div",{staticClass:"video-content-col"},[n("h3",{staticClass:"cursor-pointer",on:{click:t.goToCourse}},[t._v(t._s(t.course.name))]),t._v(" "),n("p",{on:{click:t.goToCourse}},[t._v(t._s(t.course.description)+" ")]),t._v(" "),n("div",{staticClass:"video-details"},[n("span",[t._v(t._s(t.duration))]),t._v(" "),n("span",{staticClass:"separator"},[t._v("|")]),t._v(" "),n("span",[t._v(t._s(t.course.difficulty.name))]),t._v(" "),n("span",{staticClass:"separator"},[t._v("|")]),t._v(" "),n("span",[t._v(t._s(t.since))]),t._v(" "),t.isComplete?n("span",[t._v(" | Completed")]):t._e()]),t._v(" "),n("div",{staticClass:"action-buttons"},[t.course.user_is_favorite&&"0"!=t.course.user_is_favorite?t._e():n("button",{on:{click:t.addToPlaylist}},[t._v("Add to playlist")])])]),t._v(" "),n("div",{staticClass:"clearfix"})])},staticRenderFns:[]}},function(t,e,n){var i;i=function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Slide=e.Carousel=void 0;var r=i(n(1)),a=i(n(367));e.default={install:function(t){t.component("carousel",r.default),t.component("slide",a.default)}},e.Carousel=r.default,e.Slide=a.default},function(t,e,n){var i=n(7)(n(8),n(394),function(t){n(2)},null,null);t.exports=i.exports},function(t,e,n){var i=n(3);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),n(5)("80564c20",i,!0,{})},function(t,e,n){(t.exports=n(4)()).push([t.id,".VueCarousel{position:relative}.VueCarousel-wrapper{width:100%;position:relative;overflow:hidden}.VueCarousel-inner{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-webkit-backface-visibility:hidden;backface-visibility:hidden}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=c[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(a(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var o=[];for(r=0;r<n.parts.length;r++)o.push(a(n.parts[r]));c[n.id]={id:n.id,refs:1,parts:o}}}}function r(){var t=document.createElement("style");return t.type="text/css",l.appendChild(t),t}function a(t){var e,n,i=document.querySelector("style["+v+'~="'+t.id+'"]');if(i){if(f)return p;i.parentNode.removeChild(i)}if(g){var a=d++;i=h||(h=r()),e=o.bind(null,i,a,!1),n=o.bind(null,i,a,!0)}else i=r(),e=function(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),m.ssrId&&t.setAttribute(v,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function o(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}var s="undefined"!=typeof document,u=n(6),c={},l=s&&(document.head||document.getElementsByTagName("head")[0]),h=null,d=0,f=!1,p=function(){},m=null,v="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,r){f=n,m=r||{};var a=u(t,e);return i(a),function(e){for(var n=[],r=0;r<a.length;r++){var o=a[r];(s=c[o.id]).refs--,n.push(s)}e?i(a=u(t,e)):a=[];for(r=0;r<n.length;r++){var s;if(0===(s=n[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete c[s.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=a[0],s={id:t+":"+r,css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):n.push(i[o]={id:o,parts:[s]})}return n}},function(t,e){t.exports=function(t,e,n,i,r){var a,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(a=t,o=t.default);var u,c="function"==typeof o?o.options:o;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),i&&(c._scopeId=i),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):n&&(u=n),u){var l=c.functional,h=l?c.render:c.beforeCreate;l?c.render=function(t,e){return u.call(e),h(t,e)}:c.beforeCreate=h?[].concat(h,u):[u]}return{esModule:a,exports:o,options:c}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(9));n(29);var a=i(n(355)),o=i(n(356)),s=i(n(357)),u=i(n(362)),c=i(n(367)),l={onwebkittransitionend:"webkitTransitionEnd",onmoztransitionend:"transitionend",onotransitionend:"oTransitionEnd otransitionend",ontransitionend:"transitionend"},h=function(){for(var t in l)if(t in window)return l[t]};e.default={name:"carousel",beforeUpdate:function(){this.computeCarouselWidth()},components:{Navigation:s.default,Pagination:u.default,Slide:c.default},data:function(){return{browserWidth:null,carouselWidth:0,currentPage:0,dragging:!1,dragMomentum:0,dragOffset:0,dragStartY:0,dragStartX:0,isTouch:"undefined"!=typeof window&&"ontouchstart"in window,offset:0,refreshRate:16,slideCount:0,transitionstart:"transitionstart",transitionend:"transitionend"}},mixins:[a.default],provide:function(){return{carousel:this}},props:{value:{type:Number},easing:{type:String,default:"ease"},minSwipeDistance:{type:Number,default:8},navigationClickTargetSize:{type:Number,default:8},mouseDrag:{type:Boolean,default:!0},navigationEnabled:{type:Boolean,default:!1},navigationNextLabel:{type:String,default:"&#9654"},navigationPrevLabel:{type:String,default:"&#9664"},paginationActiveColor:{type:String,default:"#000000"},paginationColor:{type:String,default:"#efefef"},paginationEnabled:{type:Boolean,default:!0},paginationPadding:{type:Number,default:10},paginationSize:{type:Number,default:10},perPage:{type:Number,default:2},perPageCustom:{type:Array},resistanceCoef:{type:Number,default:20},scrollPerPage:{type:Boolean,default:!0},speed:{type:Number,default:500},loop:{type:Boolean,default:!1},navigateTo:{type:Number,default:0},spacePadding:{type:Number,default:0}},watch:{value:function(t){t!==this.currentPage&&(this.goToPage(t),this.render())},navigateTo:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(){e.goToPage(t)})}},currentPage:function(t){this.$emit("pageChange",t),this.$emit("input",t)}},computed:{breakpointSlidesPerPage:function(){if(!this.perPageCustom)return this.perPage;var t=this.perPageCustom,e=this.browserWidth,n=t.sort(function(t,e){return t[0]>e[0]?-1:1}).filter(function(t){return e>=t[0]});return n[0]&&n[0][1]||this.perPage},canAdvanceForward:function(){return this.loop||this.offset<this.maxOffset},canAdvanceBackward:function(){return this.loop||this.currentPage>0},currentPerPage:function(){return!this.perPageCustom||this.$isServer?this.perPage:this.breakpointSlidesPerPage},currentOffset:function(){return-1*(this.offset+this.dragOffset)},isHidden:function(){return this.carouselWidth<=0},maxOffset:function(){return this.slideWidth*(this.slideCount-this.currentPerPage)-2*this.spacePadding},pageCount:function(){return this.scrollPerPage?Math.ceil(this.slideCount/this.currentPerPage):this.slideCount-2},slideWidth:function(){return(this.carouselWidth-2*this.spacePadding)/Math.min(this.currentPerPage,this.slideCount)},transitionStyle:function(){return this.speed/1e3+"s "+this.easing+" transform"},padding:function(){var t=this.spacePadding;return t>0&&t}},methods:{getNextPage:function(){return this.currentPage<this.pageCount-1?this.currentPage+1:this.loop?0:this.currentPage},getPreviousPage:function(){return this.currentPage>0?this.currentPage-1:this.loop?this.pageCount-1:this.currentPage},advancePage:function(t){t&&"backward"===t&&this.canAdvanceBackward?this.goToPage(this.getPreviousPage(),"navigation"):(!t||t&&"backward"!==t)&&this.canAdvanceForward&&this.goToPage(this.getNextPage(),"navigation")},attachMutationObserver:function(){var t=this,e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(e){var n={attributes:!0,data:!0};if(this.mutationObserver=new e(function(){t.$nextTick(function(){t.computeCarouselWidth()})}),this.$parent.$el)for(var i=this.$el.getElementsByClassName("VueCarousel-inner"),r=0;r<i.length;r++)this.mutationObserver.observe(i[r],n)}},handleNavigation:function(t){this.advancePage(t)},detachMutationObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect()},getBrowserWidth:function(){return this.browserWidth=window.innerWidth,this.browserWidth},getCarouselWidth:function(){for(var t=this.$el.getElementsByClassName("VueCarousel-inner"),e=0;e<t.length;e++)t[e].clientWidth>0&&(this.carouselWidth=t[e].clientWidth||0);return this.carouselWidth},getSlideCount:function(){this.slideCount=this.$slots&&this.$slots.default&&this.$slots.default.filter(function(t){return t.tag&&t.tag.indexOf("slide")>-1}).length||0},goToPage:function(t){t>=0&&t<=this.pageCount&&(this.offset=this.scrollPerPage?Math.min(this.slideWidth*this.currentPerPage*t,this.maxOffset):Math.min(this.slideWidth*t,this.maxOffset),this.autoplay&&!this.autoplayHoverPause&&this.restartAutoplay(),this.currentPage=t)},onStart:function(t){document.addEventListener(this.isTouch?"touchend":"mouseup",this.onEnd,!0),document.addEventListener(this.isTouch?"touchmove":"mousemove",this.onDrag,!0),this.startTime=t.timeStamp,this.dragging=!0,this.dragStartX=this.isTouch?t.touches[0].clientX:t.clientX,this.dragStartY=this.isTouch?t.touches[0].clientY:t.clientY},onEnd:function(t){var e=this.isTouch?t.changedTouches[0].clientX:t.clientX,n=this.dragStartX-e;if(this.dragMomentum=n/(t.timeStamp-this.startTime),0!==this.minSwipeDistance&&Math.abs(n)>=this.minSwipeDistance){var i=this.scrollPerPage?this.slideWidth*this.currentPerPage:this.slideWidth;this.dragOffset=this.dragOffset+(0,r.default)(n)*(i/2)}this.offset+=this.dragOffset,this.dragOffset=0,this.dragging=!1,this.render(),document.removeEventListener(this.isTouch?"touchend":"mouseup",this.onEnd,!0),document.removeEventListener(this.isTouch?"touchmove":"mousemove",this.onDrag,!0)},onDrag:function(t){var e=this.isTouch?t.touches[0].clientX:t.clientX,n=this.isTouch?t.touches[0].clientY:t.clientY,i=this.dragStartX-e,r=this.dragStartY-n;if(!(this.isTouch&&Math.abs(i)<Math.abs(r))){t.stopImmediatePropagation(),this.dragOffset=i;var a=this.offset+this.dragOffset;a<0?this.dragOffset=-Math.sqrt(-this.resistanceCoef*this.dragOffset):a>this.maxOffset&&(this.dragOffset=Math.sqrt(this.resistanceCoef*this.dragOffset))}},onResize:function(){var t=this;this.computeCarouselWidth(),this.dragging=!0,this.render(),setTimeout(function(){t.dragging=!1},this.refreshRate)},render:function(){this.offset+=Math.max(1-this.currentPerPage,Math.min(Math.round(this.dragMomentum),this.currentPerPage-1))*this.slideWidth;var t=this.scrollPerPage?this.slideWidth*this.currentPerPage:this.slideWidth;this.offset=t*Math.round(this.offset/t),this.offset=Math.max(0,Math.min(this.offset,this.maxOffset)),this.currentPage=this.scrollPerPage?Math.round(this.offset/this.slideWidth/this.currentPerPage):Math.round(this.offset/this.slideWidth)},computeCarouselWidth:function(){this.getSlideCount(),this.getBrowserWidth(),this.getCarouselWidth(),this.setCurrentPageInBounds()},setCurrentPageInBounds:function(){if(!this.canAdvanceForward&&this.scrollPerPage){var t=this.pageCount-1;this.currentPage=t>=0?t:0,this.offset=Math.max(0,Math.min(this.offset,this.maxOffset))}},handleTransitionStart:function(){this.$emit("transitionStart")},handleTransitionEnd:function(){this.$emit("transitionEnd")}},mounted:function(){window.addEventListener("resize",(0,o.default)(this.onResize,this.refreshRate)),(this.isTouch||this.mouseDrag)&&this.$refs["VueCarousel-wrapper"].addEventListener(this.isTouch?"touchstart":"mousedown",this.onStart),this.attachMutationObserver(),this.computeCarouselWidth(),this.transitionstart=h(),this.$refs["VueCarousel-inner"].addEventListener(this.transitionstart,this.handleTransitionStart),this.transitionend=h(),this.$refs["VueCarousel-inner"].addEventListener(this.transitionend,this.handleTransitionEnd)},beforeDestroy:function(){this.detachMutationObserver(),window.removeEventListener("resize",this.getBrowserWidth),this.$refs["VueCarousel-inner"].removeEventListener(this.transitionstart,this.handleTransitionStart),this.$refs["VueCarousel-inner"].removeEventListener(this.transitionend,this.handleTransitionEnd),this.$refs["VueCarousel-wrapper"].removeEventListener(this.isTouch?"touchstart":"mousedown",this.onStart)}}},function(t,e,n){t.exports={default:n(10),__esModule:!0}},function(t,e,n){n(11),t.exports=n(14).Math.sign},function(t,e,n){var i=n(12);i(i.S,"Math",{sign:n(28)})},function(t,e,n){var i=n(13),r=n(14),a=n(15),o=n(17),s=n(27),u="prototype",c=function(t,e,n){var l,h,d,f=t&c.F,p=t&c.G,m=t&c.S,v=t&c.P,g=t&c.B,y=t&c.W,_=p?r:r[e]||(r[e]={}),b=_[u],w=p?i:m?i[e]:(i[e]||{})[u];for(l in p&&(n=e),n)(h=!f&&w&&void 0!==w[l])&&s(_,l)||(d=h?w[l]:n[l],_[l]=p&&"function"!=typeof w[l]?n[l]:g&&h?a(d,i):y&&w[l]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[u]=t[u],e}(d):v&&"function"==typeof d?a(Function.call,d):d,v&&((_.virtual||(_.virtual={}))[l]=d,t&c.R&&b&&!b[l]&&o(b,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(16);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(18),r=n(26);t.exports=n(22)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(19),r=n(21),a=n(25),o=Object.defineProperty;e.f=n(22)?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(20);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(22)&&!n(23)(function(){return 7!=Object.defineProperty(n(24)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(20),r=n(13).document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,n){var i=n(20);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){(function(t){"use strict";function e(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(n(30),n(351),n(352),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var i="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,function(){return this}())},function(t,e,n){n(31),n(79),n(80),n(81),n(82),n(84),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(97),n(99),n(101),n(103),n(106),n(107),n(108),n(112),n(114),n(116),n(119),n(120),n(121),n(122),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(132),n(133),n(134),n(136),n(137),n(138),n(140),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(159),n(160),n(164),n(165),n(166),n(167),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(185),n(186),n(188),n(189),n(195),n(196),n(198),n(199),n(200),n(204),n(205),n(206),n(207),n(208),n(210),n(211),n(212),n(213),n(216),n(218),n(219),n(220),n(222),n(224),n(226),n(227),n(228),n(230),n(231),n(232),n(233),n(243),n(247),n(248),n(250),n(251),n(255),n(256),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(278),n(279),n(280),n(281),n(282),n(284),n(285),n(286),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(298),n(299),n(301),n(302),n(303),n(304),n(307),n(308),n(310),n(311),n(312),n(313),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),t.exports=n(37)},function(t,e,n){"use strict";var i=n(32),r=n(33),a=n(34),o=n(36),s=n(46),u=n(50).KEY,c=n(35),l=n(51),h=n(52),d=n(47),f=n(53),p=n(54),m=n(55),v=n(57),g=n(72),y=n(40),_=n(41),b=n(60),w=n(44),T=n(45),S=n(73),E=n(76),k=n(78),x=n(39),C=n(58),A=k.f,O=x.f,P=E.f,I=i.Symbol,L=i.JSON,M=L&&L.stringify,D="prototype",R=f("_hidden"),N=f("toPrimitive"),U={}.propertyIsEnumerable,j=l("symbol-registry"),B=l("symbols"),F=l("op-symbols"),H=Object[D],q="function"==typeof I,V=i.QObject,$=!V||!V[D]||!V[D].findChild,z=a&&c(function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=A(H,e);i&&delete H[e],O(t,e,n),i&&t!==H&&O(H,e,i)}:O,W=function(t){var e=B[t]=S(I[D]);return e._k=t,e},G=q&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},Y=function(t,e,n){return t===H&&Y(F,e,n),y(t),e=w(e,!0),y(n),r(B,e)?(n.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),n=S(n,{enumerable:T(0,!1)})):(r(t,R)||O(t,R,T(1,{})),t[R][e]=!0),z(t,e,n)):O(t,e,n)},X=function(t,e){y(t);for(var n,i=v(e=b(e)),r=0,a=i.length;a>r;)Y(t,n=i[r++],e[n]);return t},K=function(t){var e=U.call(this,t=w(t,!0));return!(this===H&&r(B,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(B,t)||r(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=b(t),e=w(e,!0),t!==H||!r(B,e)||r(F,e)){var n=A(t,e);return!n||!r(B,e)||r(t,R)&&t[R][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=P(b(t)),i=[],a=0;n.length>a;)r(B,e=n[a++])||e==R||e==u||i.push(e);return i},Z=function(t){for(var e,n=t===H,i=P(n?F:b(t)),a=[],o=0;i.length>o;)!r(B,e=i[o++])||n&&!r(H,e)||a.push(B[e]);return a};q||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(F,n),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),z(this,t,T(1,n))};return a&&$&&z(H,t,{configurable:!0,set:e}),W(t)})[D],"toString",function(){return this._k}),k.f=Q,x.f=Y,n(77).f=E.f=J,n(71).f=K,n(70).f=Z,a&&!n(56)&&s(H,"propertyIsEnumerable",K,!0),p.f=function(t){return W(f(t))}),o(o.G+o.W+o.F*!q,{Symbol:I});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=C(f.store),it=0;nt.length>it;)m(nt[it++]);o(o.S+o.F*!q,"Symbol",{for:function(t){return r(j,t+="")?j[t]:j[t]=I(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),o(o.S+o.F*!q,"Object",{create:function(t,e){return void 0===e?S(t):X(S(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),L&&o(o.S+o.F*(!q||c(function(){var t=I();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!G(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),i[1]=e,M.apply(L,i)}}),I[D][N]||n(38)(I[D],N,I[D].valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(32),r=n(37),a=n(38),o=n(46),s=n(48),u="prototype",c=function(t,e,n){var l,h,d,f,p=t&c.F,m=t&c.G,v=t&c.S,g=t&c.P,y=t&c.B,_=m?i:v?i[e]||(i[e]={}):(i[e]||{})[u],b=m?r:r[e]||(r[e]={}),w=b[u]||(b[u]={});for(l in m&&(n=e),n)d=((h=!p&&_&&void 0!==_[l])?_:n)[l],f=y&&h?s(d,i):g&&"function"==typeof d?s(Function.call,d):d,_&&o(_,l,d,t&c.U),b[l]!=d&&a(b,l,f),g&&w[l]!=d&&(w[l]=d)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(39),r=n(45);t.exports=n(34)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(40),r=n(42),a=n(44),o=Object.defineProperty;e.f=n(34)?Object.defineProperty:function(t,e,n){if(i(t),e=a(e,!0),i(n),r)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(41);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(34)&&!n(35)(function(){return 7!=Object.defineProperty(n(43)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(41),r=n(32).document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,n){var i=n(41);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(32),r=n(38),a=n(33),o=n(47)("src"),s="toString",u=Function[s],c=(""+u).split(s);n(37).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(a(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(a(n,o)||r(n,o,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[o]||u.call(this)})},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(49);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(47)("meta"),r=n(41),a=n(33),o=n(39).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(35)(function(){return u(Object.preventExtensions({}))}),l=function(t){o(t,i,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[i].i},getWeak:function(t,e){if(!a(t,i)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[i].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!a(t,i)&&l(t),t}}},function(t,e,n){var i=n(32),r="__core-js_shared__",a=i[r]||(i[r]={});t.exports=function(t){return a[t]||(a[t]={})}},function(t,e,n){var i=n(39).f,r=n(33),a=n(53)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},function(t,e,n){var i=n(51)("wks"),r=n(47),a=n(32).Symbol,o="function"==typeof a;(t.exports=function(t){return i[t]||(i[t]=o&&a[t]||(o?a:r)("Symbol."+t))}).store=i},function(t,e,n){e.f=n(53)},function(t,e,n){var i=n(32),r=n(37),a=n(56),o=n(54),s=n(39).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e){t.exports=!1},function(t,e,n){var i=n(58),r=n(70),a=n(71);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var o,s=n(t),u=a.f,c=0;s.length>c;)u.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,n){var i=n(59),r=n(69);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(33),r=n(60),a=n(64)(!1),o=n(68)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=o&&i(s,n)&&c.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var i=n(61),r=n(63);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(62);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(60),r=n(65),a=n(67);t.exports=function(t){return function(e,n,o){var s,u=i(e),c=r(u.length),l=a(o,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(66),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(66),r=Math.max,a=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):a(t,e)}},function(t,e,n){var i=n(51)("keys"),r=n(47);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(62);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(40),r=n(74),a=n(69),o=n(68)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(43)("iframe"),i=a.length;for(e.style.display="none",n(75).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c[u][a[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=i(t),n=new s,s[u]=null,n[o]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(39),r=n(40),a=n(58);t.exports=n(34)?Object.defineProperties:function(t,e){r(t);for(var n,o=a(e),s=o.length,u=0;s>u;)i.f(t,n=o[u++],e[n]);return t}},function(t,e,n){var i=n(32).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(60),r=n(77).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return r(t)}catch(t){return o.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(59),r=n(69).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(71),r=n(45),a=n(60),o=n(44),s=n(33),u=n(42),c=Object.getOwnPropertyDescriptor;e.f=n(34)?c:function(t,e){if(t=a(t),e=o(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(36);i(i.S,"Object",{create:n(73)})},function(t,e,n){var i=n(36);i(i.S+i.F*!n(34),"Object",{defineProperty:n(39).f})},function(t,e,n){var i=n(36);i(i.S+i.F*!n(34),"Object",{defineProperties:n(74)})},function(t,e,n){var i=n(60),r=n(78).f;n(83)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(36),r=n(37),a=n(35);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",o)}},function(t,e,n){var i=n(85),r=n(86);n(83)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(63);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(33),r=n(85),a=n(68)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){var i=n(85),r=n(58);n(83)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){n(83)("getOwnPropertyNames",function(){return n(76).f})},function(t,e,n){var i=n(41),r=n(50).onFreeze;n(83)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(41),r=n(50).onFreeze;n(83)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(41),r=n(50).onFreeze;n(83)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(41);n(83)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(41);n(83)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(41);n(83)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(36);i(i.S+i.F,"Object",{assign:n(96)})},function(t,e,n){"use strict";var i=n(58),r=n(70),a=n(71),o=n(85),s=n(61),u=Object.assign;t.exports=!u||n(35)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=o(t),u=arguments.length,c=1,l=r.f,h=a.f;u>c;)for(var d,f=s(arguments[c++]),p=l?i(f).concat(l(f)):i(f),m=p.length,v=0;m>v;)h.call(f,d=p[v++])&&(n[d]=f[d]);return n}:u},function(t,e,n){var i=n(36);i(i.S,"Object",{is:n(98)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(36);i(i.S,"Object",{setPrototypeOf:n(100).set})},function(t,e,n){var i=n(41),r=n(40),a=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(48)(Function.call,n(78).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},function(t,e,n){"use strict";var i=n(102),r={};r[n(53)("toStringTag")]="z",r+""!="[object z]"&&n(46)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(62),r=n(53)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:a?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){var i=n(36);i(i.P,"Function",{bind:n(104)})},function(t,e,n){"use strict";var i=n(49),r=n(41),a=n(105),o=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=o.call(arguments,1),s=function(){var i=n.concat(o.call(arguments));return this instanceof s?u(e,i.length,i):a(e,i,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(39).f,r=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in r||n(34)&&i(r,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(41),r=n(86),a=n(53)("hasInstance"),o=Function.prototype;a in o||n(39).f(o,a,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(36),r=n(109);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var i=n(32).parseInt,r=n(110).trim,a=n(111),o=/^[-+]?0[xX]/;t.exports=8!==i(a+"08")||22!==i(a+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(o.test(n)?16:10))}:i},function(t,e,n){var i=n(36),r=n(63),a=n(35),o=n(111),s="["+o+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var r={},s=a(function(){return!!o[t]()||"​"!="​"[t]()}),u=r[t]=s?e(h):o[t];n&&(r[n]=u),i(i.P+i.F*s,"String",r)},h=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(36),r=n(113);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){var i=n(32).parseFloat,r=n(110).trim;t.exports=1/i(n(111)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){"use strict";var i=n(32),r=n(33),a=n(62),o=n(115),s=n(44),u=n(35),c=n(77).f,l=n(78).f,h=n(39).f,d=n(110).trim,f="Number",p=i[f],m=p,v=p.prototype,g=a(n(73)(v))==f,y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,a=(e=y?e.trim():d(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,u=e.slice(2),c=0,l=u.length;c<l;c++)if((o=u.charCodeAt(c))<48||o>r)return NaN;return parseInt(u,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?u(function(){v.valueOf.call(n)}):a(n)!=f)?o(new m(_(e)),n,p):_(e)};for(var b,w=n(34)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;w.length>T;T++)r(m,b=w[T])&&!r(p,b)&&h(p,b,l(m,b));p.prototype=v,v.constructor=p,n(46)(i,f,p)}},function(t,e,n){var i=n(41),r=n(100).set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&i(a)&&r&&r(t,a),t}},function(t,e,n){"use strict";var i=n(36),r=n(66),a=n(117),o=n(118),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h="0",d=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*c[n],c[n]=i%1e7,i=u(i/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+o.call(h,7-n.length)+n}return e},m=function(t,e,n){return 0===e?n:e%2==1?m(t,e-1,n*t):m(t*t,e/2,n)};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(35)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,i,s,u=a(this,l),c=r(t),v="",g=h;if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*m(2,69,1))-69,n=e<0?u*m(2,-e,1):u/m(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(0,n),i=c;i>=7;)d(1e7,0),i-=7;for(d(m(10,i,1),0),i=e-1;i>=23;)f(1<<23),i-=23;f(1<<i),d(1,1),f(2),g=p()}else d(0,n),d(1<<-e,0),g=p()+o.call(h,c);return c>0?g=v+((s=g.length)<=c?"0."+o.call(h,c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c)):g=v+g,g}})},function(t,e,n){var i=n(62);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){"use strict";var i=n(66),r=n(63);t.exports=function(t){var e=String(r(this)),n="",a=i(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},function(t,e,n){"use strict";var i=n(36),r=n(35),a=n(117),o=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==o.call(1,void 0)})||!r(function(){o.call({})})),"Number",{toPrecision:function(t){var e=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,n){var i=n(36);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(36),r=n(32).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(36);i(i.S,"Number",{isInteger:n(123)})},function(t,e,n){var i=n(41),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){var i=n(36);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(36),r=n(123),a=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&a(t)<=9007199254740991}})},function(t,e,n){var i=n(36);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(36);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(36),r=n(113);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(36),r=n(109);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(36),r=n(131),a=Math.sqrt,o=Math.acosh;i(i.S+i.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+a(t-1)*a(t+1))}})},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(36),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var i=n(36),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(36),r=n(135);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var i=n(36);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(36),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(36),r=n(139);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var i=n(36);i(i.S,"Math",{fround:n(141)})},function(t,e,n){var i=n(135),r=Math.pow,a=r(2,-52),o=r(2,-23),s=r(2,127)*(2-o),u=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),c=i(t);return r<u?c*function(t){return t+1/a-1/a}(r/u/o)*u*o:(n=(e=(1+o/a)*r)-(e-r))>s||n!=n?c*(1/0):c*n}},function(t,e,n){var i=n(36),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,a=0,o=0,s=arguments.length,u=0;o<s;)u<(n=r(arguments[o++]))?(a=a*(i=u/n)*i+1,u=n):n>0?a+=(i=n/u)*i:a+=n;return u===1/0?1/0:u*Math.sqrt(a)}})},function(t,e,n){var i=n(36),r=Math.imul;i(i.S+i.F*n(35)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=65535,i=+t,r=+e,a=n&i,o=n&r;return 0|a*o+((n&i>>>16)*o+a*(n&r>>>16)<<16>>>0)}})},function(t,e,n){var i=n(36);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(36);i(i.S,"Math",{log1p:n(131)})},function(t,e,n){var i=n(36);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(36);i(i.S,"Math",{sign:n(135)})},function(t,e,n){var i=n(36),r=n(139),a=Math.exp;i(i.S+i.F*n(35)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(36),r=n(139),a=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(a(t)+a(-t))}})},function(t,e,n){var i=n(36);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(36),r=n(67),a=String.fromCharCode,o=String.fromCodePoint;i(i.S+i.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,o=0;i>o;){if(e=+arguments[o++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(36),r=n(60),a=n(65);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=a(e.length),i=arguments.length,o=[],s=0;n>s;)o.push(String(e[s++])),s<i&&o.push(String(arguments[s]));return o.join("")}})},function(t,e,n){"use strict";n(110)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(155)(!0);n(156)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(66),r=n(63);t.exports=function(t){return function(e,n){var a,o,s=String(r(e)),u=i(n),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(56),r=n(36),a=n(46),o=n(38),s=n(33),u=n(157),c=n(158),l=n(52),h=n(86),d=n(53)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",m="values",v=function(){return this};t.exports=function(t,e,n,g,y,_,b){c(n,e,g);var w,T,S,E=function(t){if(!f&&t in A)return A[t];switch(t){case p:case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",x=y==m,C=!1,A=t.prototype,O=A[d]||A["@@iterator"]||y&&A[y],P=!f&&O||E(y),I=y?x?E("entries"):P:void 0,L="Array"==e&&A.entries||O;if(L&&((S=h(L.call(new t)))!==Object.prototype&&S.next&&(l(S,k,!0),i||s(S,d)||o(S,d,v))),x&&O&&O.name!==m&&(C=!0,P=function(){return O.call(this)}),i&&!b||!f&&!C&&A[d]||o(A,d,P),u[e]=P,u[k]=v,y)if(w={values:x?P:E(m),keys:_?P:E(p),entries:I},b)for(T in w)T in A||a(A,T,w[T]);else r(r.P+r.F*(f||C),e,w);return w}},function(t,e){t.exports={}},function(t,e,n){"use strict";var i=n(73),r=n(45),a=n(52),o={};n(38)(o,n(53)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(o,{next:r(1,n)}),a(t,e+" Iterator")}},function(t,e,n){"use strict";var i=n(36),r=n(155)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(36),r=n(65),a=n(161),o="endsWith",s=""[o];i(i.P+i.F*n(163)(o),"String",{endsWith:function(t){var e=a(this,t,o),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),u=void 0===n?i:Math.min(r(n),i),c=String(t);return s?s.call(e,c,u):e.slice(u-c.length,u)===c}})},function(t,e,n){var i=n(162),r=n(63);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(41),r=n(62),a=n(53)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(53)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";var i=n(36),r=n(161),a="includes";i(i.P+i.F*n(163)(a),"String",{includes:function(t){return!!~r(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(36);i(i.P,"String",{repeat:n(118)})},function(t,e,n){"use strict";var i=n(36),r=n(65),a=n(161),o="startsWith",s=""[o];i(i.P+i.F*n(163)(o),"String",{startsWith:function(t){var e=a(this,t,o),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(168)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){var i=n(36),r=n(35),a=n(63),o=/"/g,s=function(t,e,n,i){var r=String(a(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){"use strict";n(168)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(168)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(168)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(168)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(168)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(168)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(168)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(168)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(168)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(168)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(168)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(168)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var i=n(36);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(36),r=n(85),a=n(44);i(i.P+i.F*n(35)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(36),r=n(184);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(35),r=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!i(function(){a.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}:a},function(t,e,n){var i=Date.prototype,r="Invalid Date",a="toString",o=i[a],s=i.getTime;new Date(NaN)+""!=r&&n(46)(i,a,function(){var t=s.call(this);return t==t?o.call(this):r})},function(t,e,n){var i=n(53)("toPrimitive"),r=Date.prototype;i in r||n(38)(r,i,n(187))},function(t,e,n){"use strict";var i=n(40),r=n(44),a="number";t.exports=function(t){if("string"!==t&&t!==a&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),t!=a)}},function(t,e,n){var i=n(36);i(i.S,"Array",{isArray:n(72)})},function(t,e,n){"use strict";var i=n(48),r=n(36),a=n(85),o=n(190),s=n(191),u=n(65),c=n(192),l=n(193);r(r.S+r.F*!n(194)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,d=a(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=l(d);if(v&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==y||f==Array&&s(y))for(n=new f(e=u(d.length));e>g;g++)c(n,g,v?m(d[g],g):d[g]);else for(h=y.call(d),n=new f;!(r=h.next()).done;g++)c(n,g,v?o(h,m,[r.value,g],!0):r.value);return n.length=g,n}})},function(t,e,n){var i=n(40);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},function(t,e,n){var i=n(157),r=n(53)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},function(t,e,n){"use strict";var i=n(39),r=n(45);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(102),r=n(53)("iterator"),a=n(157);t.exports=n(37).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[i(t)]}},function(t,e,n){var i=n(53)("iterator"),r=!1;try{var a=[7][i]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a=[7],o=a[i]();o.next=function(){return{done:n=!0}},a[i]=function(){return o},t(a)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(36),r=n(192);i(i.S+i.F*n(35)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(36),r=n(60),a=[].join;i(i.P+i.F*(n(61)!=Object||!n(197)(a)),"Array",{join:function(t){return a.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(35);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";var i=n(36),r=n(75),a=n(62),o=n(67),s=n(65),u=[].slice;i(i.P+i.F*n(35)(function(){r&&u.call(r)}),"Array",{slice:function(t,e){var n=s(this.length),i=a(this);if(e=void 0===e?n:e,"Array"==i)return u.call(this,t,e);for(var r=o(t,n),c=o(e,n),l=s(c-r),h=new Array(l),d=0;d<l;d++)h[d]="String"==i?this.charAt(r+d):this[r+d];return h}})},function(t,e,n){"use strict";var i=n(36),r=n(49),a=n(85),o=n(35),s=[].sort,u=[1,2,3];i(i.P+i.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!n(197)(s)),"Array",{sort:function(t){return void 0===t?s.call(a(this)):s.call(a(this),r(t))}})},function(t,e,n){"use strict";var i=n(36),r=n(201)(0),a=n(197)([].forEach,!0);i(i.P+i.F*!a,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(48),r=n(61),a=n(85),o=n(65),s=n(202);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,h=6==t,d=5==t||h,f=e||s;return function(e,s,p){for(var m,v,g=a(e),y=r(g),_=i(s,p,3),b=o(y.length),w=0,T=n?f(e,b):u?f(e,0):void 0;b>w;w++)if((d||w in y)&&(v=_(m=y[w],w,g),t))if(n)T[w]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:T.push(m)}else if(l)return!1;return h?-1:c||l?l:T}}},function(t,e,n){var i=n(203);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(41),r=n(72),a=n(53)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(null===(e=e[a])&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(36),r=n(201)(1);i(i.P+i.F*!n(197)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(36),r=n(201)(2);i(i.P+i.F*!n(197)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(36),r=n(201)(3);i(i.P+i.F*!n(197)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(36),r=n(201)(4);i(i.P+i.F*!n(197)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(36),r=n(209);i(i.P+i.F*!n(197)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){var i=n(49),r=n(85),a=n(61),o=n(65);t.exports=function(t,e,n,s,u){i(e);var c=r(t),l=a(c),h=o(c.length),d=u?h-1:0,f=u?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=f;break}if(d+=f,u?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:h>d;d+=f)d in l&&(s=e(s,l[d],d,c));return s}},function(t,e,n){"use strict";var i=n(36),r=n(209);i(i.P+i.F*!n(197)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(36),r=n(64)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!n(197)(a)),"Array",{indexOf:function(t){return o?a.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(36),r=n(60),a=n(66),o=n(65),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!n(197)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=r(this),n=o(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,a(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(36);i(i.P,"Array",{copyWithin:n(214)}),n(215)("copyWithin")},function(t,e,n){"use strict";var i=n(85),r=n(67),a=n(65);t.exports=[].copyWithin||function(t,e){var n=i(this),o=a(n.length),s=r(t,o),u=r(e,o),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?o:r(c,o))-u,o-s),h=1;for(u<s&&s<u+l&&(h=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(t,e,n){var i=n(53)("unscopables"),r=Array.prototype;void 0==r[i]&&n(38)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){var i=n(36);i(i.P,"Array",{fill:n(217)}),n(215)("fill")},function(t,e,n){"use strict";var i=n(85),r=n(67),a=n(65);t.exports=function(t){for(var e=i(this),n=a(e.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:r(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var i=n(36),r=n(201)(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(215)(a)},function(t,e,n){"use strict";var i=n(36),r=n(201)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),i(i.P+i.F*o,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(215)(a)},function(t,e,n){n(221)("Array")},function(t,e,n){"use strict";var i=n(32),r=n(39),a=n(34),o=n(53)("species");t.exports=function(t){var e=i[t];a&&e&&!e[o]&&r.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var i=n(215),r=n(223),a=n(157),o=n(60);t.exports=n(156)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i=n(32),r=n(115),a=n(39).f,o=n(77).f,s=n(162),u=n(225),c=i.RegExp,l=c,h=c.prototype,d=/a/g,f=/a/g,p=new c(d)!==d;if(n(34)&&(!p||n(35)(function(){return f[n(53)("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")}))){c=function(t,e){var n=this instanceof c,i=s(t),a=void 0===e;return!n&&i&&t.constructor===c&&a?t:r(p?new l(i&&!a?t.source:t,e):l((i=t instanceof c)?t.source:t,i&&a?u.call(t):e),n?this:h,c)};for(var m=function(t){t in c||a(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},v=o(l),g=0;v.length>g;)m(v[g++]);h.constructor=c,c.prototype=h,n(46)(i,"RegExp",c)}n(221)("RegExp")},function(t,e,n){"use strict";var i=n(40);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";n(227);var i=n(40),r=n(225),a=n(34),o="toString",s=/./[o],u=function(t){n(46)(RegExp.prototype,o,t,!0)};n(35)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?r.call(t):void 0)}):s.name!=o&&u(function(){return s.call(this)})},function(t,e,n){n(34)&&"g"!=/./g.flags&&n(39).f(RegExp.prototype,"flags",{configurable:!0,get:n(225)})},function(t,e,n){n(229)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){"use strict";var i=n(38),r=n(46),a=n(35),o=n(63),s=n(53);t.exports=function(t,e,n){var u=s(t),c=n(o,u,""[t]),l=c[0],h=c[1];a(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,l),i(RegExp.prototype,u,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){n(229)("replace",2,function(t,e,n){return[function(i,r){"use strict";var a=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,a,r):n.call(String(a),i,r)},n]})},function(t,e,n){n(229)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(229)("split",2,function(t,e,i){"use strict";var r=n(162),a=i,o=[].push,s="split",u="length",c="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var l=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return a.call(n,t,e);var i,s,h,d,f,p=[],m=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,m+"g");for(l||(i=new RegExp("^"+y.source+"$(?!\\s)",m));(s=y.exec(n))&&!((h=s.index+s[0][u])>v&&(p.push(n.slice(v,s.index)),!l&&s[u]>1&&s[0].replace(i,function(){for(f=1;f<arguments[u]-2;f++)void 0===arguments[f]&&(s[f]=void 0)}),s[u]>1&&s.index<n[u]&&o.apply(p,s.slice(1)),d=s[0][u],v=h,p[u]>=g));)y[c]===s.index&&y[c]++;return v===n[u]?!d&&y.test("")||p.push(""):p.push(n.slice(v)),p[u]>g?p.slice(0,g):p}}else"0"[s](void 0,0)[u]&&(i=function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)});return[function(n,r){var a=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,a,r):i.call(String(a),n,r)},i]})},function(t,e,n){"use strict";var i,r,a,o,s=n(56),u=n(32),c=n(48),l=n(102),h=n(36),d=n(41),f=n(49),p=n(234),m=n(235),v=n(236),g=n(237).set,y=n(238)(),_=n(239),b=n(240),w=n(241),T="Promise",S=u.TypeError,E=u.process,k=u[T],x="process"==l(E),C=function(){},A=r=_.f,O=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(53)("species")]=function(t){t(C,C)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e}catch(t){}}(),P=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var i=t._v,r=1==t._s,a=0,o=function(e){var n,a,o=r?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{o?(r||(2==t._h&&D(t),t._h=1),!0===o?n=i:(c&&c.enter(),n=o(i),c&&c.exit()),n===e.promise?u(S("Promise-chain cycle")):(a=P(n))?a.call(n,s,u):s(n)):u(i)}catch(t){u(t)}};n.length>a;)o(n[a++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){g.call(u,function(){var e,n,i,r=t._v,a=M(t);if(a&&(e=b(function(){x?E.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=x||M(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){g.call(u,function(){var e;x?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=P(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,c(N,i,1),c(R,i,1))}catch(t){R.call(i,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};O||(k=function(t){p(this,k,T,"_h"),f(t),i.call(this);try{t(c(N,this,1),c(R,this,1))}catch(t){R.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(242)(k.prototype,{then:function(t,e){var n=A(v(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new i;this.promise=t,this.resolve=c(N,t,1),this.reject=c(R,t,1)},_.f=A=function(t){return t===k||t===o?new a(t):r(t)}),h(h.G+h.W+h.F*!O,{Promise:k}),n(52)(k,T),n(221)(T),o=n(37)[T],h(h.S+h.F*!O,T,{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!O),T,{resolve:function(t){return w(s&&this===o?k:this,t)}}),h(h.S+h.F*!(O&&n(194)(function(t){k.all(t).catch(C)})),T,{all:function(t){var e=this,n=A(e),i=n.resolve,r=n.reject,a=b(function(){var n=[],a=0,o=1;m(t,!1,function(t){var s=a++,u=!1;n.push(void 0),o++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--o||i(n))},r)}),--o||i(n)});return a.e&&r(a.v),n.promise},race:function(t){var e=this,n=A(e),i=n.reject,r=b(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(48),r=n(190),a=n(191),o=n(40),s=n(65),u=n(193),c={},l={};(e=t.exports=function(t,e,n,h,d){var f,p,m,v,g=d?function(){return t}:u(t),y=i(n,h,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(a(g)){for(f=s(t.length);f>_;_++)if((v=e?y(o(p=t[_])[0],p[1]):y(t[_]))===c||v===l)return v}else for(m=g.call(t);!(p=m.next()).done;)if((v=r(m,y,p.value,e))===c||v===l)return v}).BREAK=c,e.RETURN=l},function(t,e,n){var i=n(40),r=n(49),a=n(53)("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||void 0==(n=i(o)[a])?e:r(n)}},function(t,e,n){var i,r,a,o=n(48),s=n(105),u=n(75),c=n(43),l=n(32),h=l.process,d=l.setImmediate,f=l.clearImmediate,p=l.MessageChannel,m=l.Dispatch,v=0,g={},y="onreadystatechange",_=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){_.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},i(v),v},f=function(t){delete g[t]},"process"==n(62)(h)?i=function(t){h.nextTick(o(_,t,1))}:m&&m.now?i=function(t){m.now(o(_,t,1))}:p?(a=(r=new p).port2,r.port1.onmessage=b,i=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):i=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(o(_,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,n){var i=n(32),r=n(237).set,a=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,u="process"==n(62)(o);t.exports=function(){var t,e,n,c=function(){var i,r;for(u&&(i=o.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(u)n=function(){o.nextTick(c)};else if(!a||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var l=s.resolve();n=function(){l.then(c)}}else n=function(){r.call(i,c)};else{var h=!0,d=document.createTextNode("");new a(c).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){"use strict";var i=n(49);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}(t)}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(40),r=n(41),a=n(239);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(46);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){"use strict";var i=n(244),r=n(245),a="Map";t.exports=n(246)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,a),t);return e&&e.v},set:function(t,e){return i.def(r(this,a),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(39).f,r=n(73),a=n(242),o=n(48),s=n(234),u=n(235),c=n(156),l=n(223),h=n(221),d=n(34),f=n(50).fastKey,p=n(245),m=d?"_s":"size",v=function(t,e){var n,i=f(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,i){s(t,l,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=i&&u(i,n,t[c],t)});return a(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=p(this,e),i=v(n,t);if(i){var r=i.n,a=i.p;delete n._i[i.i],i.r=!0,a&&(a.n=r),r&&(r.p=a),n._f==i&&(n._f=r),n._l==i&&(n._l=a),n[m]--}return!!i},forEach:function(t){p(this,e);for(var n,i=o(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(p(this,e),t)}}),d&&i(l.prototype,"size",{get:function(){return p(this,e)[m]}}),l},def:function(t,e,n){var i,r,a=v(t,e);return a?a.v=n:(t._l=a={i:r=f(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=a),i&&(i.n=a),t[m]++,"F"!==r&&(t._i[r]=a)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){var i=n(41);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var i=n(32),r=n(36),a=n(46),o=n(242),s=n(50),u=n(235),c=n(234),l=n(41),h=n(35),d=n(194),f=n(52),p=n(115);t.exports=function(t,e,n,m,v,g){var y=i[t],_=y,b=v?"set":"add",w=_&&_.prototype,T={},S=function(t){var e=w[t];a(w,t,"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(g||w.forEach&&!h(function(){(new _).entries().next()}))){var E=new _,k=E[b](g?{}:-0,1)!=E,x=h(function(){E.has(1)}),C=d(function(t){new _(t)}),A=!g&&h(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});C||((_=e(function(e,n){c(e,_,t);var i=p(new y,e,_);return void 0!=n&&u(n,v,i[b],i),i})).prototype=w,w.constructor=_),(x||A)&&(S("delete"),S("has"),v&&S("get")),(A||k)&&S(b),g&&w.clear&&delete w.clear}else _=m.getConstructor(e,t,v,b),o(_.prototype,n),s.NEED=!0;return f(_,t),T[t]=_,r(r.G+r.W+r.F*(_!=y),T),g||m.setStrong(_,t,v),_}},function(t,e,n){"use strict";var i=n(244),r=n(245);t.exports=n(246)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(201)(0),a=n(46),o=n(50),s=n(96),u=n(249),c=n(41),l=n(35),h=n(245),d="WeakMap",f=o.getWeak,p=Object.isExtensible,m=u.ufstore,v={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(c(t)){var e=f(t);return!0===e?m(h(this,d)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(h(this,d),t,e)}},_=t.exports=n(246)(d,g,y,u,!0,!0);l(function(){return 7!=(new _).set((Object.freeze||Object)(v),7).get(v)})&&(s((i=u.getConstructor(g,d)).prototype,y),o.NEED=!0,r(["delete","has","get","set"],function(t){var e=_.prototype,n=e[t];a(e,t,function(e,r){if(c(e)&&!p(e)){this._f||(this._f=new i);var a=this._f[t](e,r);return"set"==t?this:a}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var i=n(242),r=n(50).getWeak,a=n(40),o=n(41),s=n(234),u=n(235),c=n(201),l=n(33),h=n(245),d=c(5),f=c(6),p=0,m=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return d(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,a){var c=t(function(t,i){s(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=i&&u(i,n,t[a],t)});return i(c.prototype,{delete:function(t){if(!o(t))return!1;var n=r(t);return!0===n?m(h(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!o(t))return!1;var n=r(t);return!0===n?m(h(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var i=r(a(e),!0);return!0===i?m(t).set(e,n):i[t._i]=n,t},ufstore:m}},function(t,e,n){"use strict";var i=n(249),r=n(245),a="WeakSet";n(246)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,a),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(36),r=n(252),a=n(253),o=n(40),s=n(67),u=n(65),c=n(41),l=n(32).ArrayBuffer,h=n(236),d=a.ArrayBuffer,f=a.DataView,p=r.ABV&&l.isView,m=d.prototype.slice,v=r.VIEW,g="ArrayBuffer";i(i.G+i.W+i.F*(l!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,g,{isView:function(t){return p&&p(t)||c(t)&&v in t}}),i(i.P+i.U+i.F*n(35)(function(){return!new d(2).slice(1,void 0).byteLength}),g,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(o(this),t);for(var n=o(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),a=new(h(this,d))(u(r-i)),c=new f(this),l=new f(a),p=0;i<r;)l.setUint8(p++,c.getUint8(i++));return a}}),n(221)(g)},function(t,e,n){for(var i,r=n(32),a=n(38),o=n(47),s=o("typed_array"),u=o("view"),c=!(!r.ArrayBuffer||!r.DataView),l=c,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[d[h++]])?(a(i.prototype,s,!0),a(i.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){"use strict";function i(t,e,n){var i,r,a,o=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?F(2,-24)-F(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=B(t))!=t||t===U?(r=t!=t?1:0,i=u):(i=H(q(t)/V),t*(a=F(2,-i))<1&&(i--,a*=2),(t+=i+c>=1?l/a:l*F(2,1-c))*a>=2&&(i++,a/=2),i+c>=u?(r=0,i=u):i+c>=1?(r=(t*a-1)*F(2,e),i+=c):(r=t*F(2,c-1)*F(2,e),i=0));e>=8;o[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;o[h++]=255&i,i/=256,s-=8);return o[--h]|=128*d,o}function r(t,e,n){var i,r=8*n-e-1,a=(1<<r)-1,o=a>>1,s=r-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(i=l&(1<<-s)-1,l>>=-s,s+=e;s>0;i=256*i+t[u],u--,s-=8);if(0===l)l=1-o;else{if(l===a)return i?NaN:c?-U:U;i+=F(2,e),l-=o}return(c?-1:1)*i*F(2,l-e)}function a(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function o(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return i(t,52,8)}function l(t){return i(t,23,4)}function h(t,e,n){x(t[I],e,{get:function(){return this[n]}})}function d(t,e,n,i){var r=E(+n);if(r+e>t[Y])throw N(L);var a=t[G]._b,o=r+t[X],s=a.slice(o,o+e);return i?s:s.reverse()}function f(t,e,n,i,r,a){var o=E(+n);if(o+e>t[Y])throw N(L);for(var s=t[G]._b,u=o+t[X],c=i(+r),l=0;l<e;l++)s[u+l]=c[a?l:e-l-1]}var p=n(32),m=n(34),v=n(56),g=n(252),y=n(38),_=n(242),b=n(35),w=n(234),T=n(66),S=n(65),E=n(254),k=n(77).f,x=n(39).f,C=n(217),A=n(52),O="ArrayBuffer",P="DataView",I="prototype",L="Wrong index!",M=p[O],D=p[P],R=p.Math,N=p.RangeError,U=p.Infinity,j=M,B=R.abs,F=R.pow,H=R.floor,q=R.log,V=R.LN2,$="buffer",z="byteLength",W="byteOffset",G=m?"_b":$,Y=m?"_l":z,X=m?"_o":W;if(g.ABV){if(!b(function(){M(1)})||!b(function(){new M(-1)})||b(function(){return new M,new M(1.5),new M(NaN),M.name!=O})){for(var K,Q=(M=function(t){return w(this,M),new j(E(t))})[I]=j[I],J=k(j),Z=0;J.length>Z;)(K=J[Z++])in M||y(M,K,j[K]);v||(Q.constructor=M)}var tt=new D(new M(2)),et=D[I].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||_(D[I],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else M=function(t){w(this,M,O);var e=E(t);this._b=C.call(new Array(e),0),this[Y]=e},D=function(t,e,n){w(this,D,P),w(t,M,P);var i=t[Y],r=T(e);if(r<0||r>i)throw N("Wrong offset!");if(r+(n=void 0===n?i-r:S(n))>i)throw N("Wrong length!");this[G]=t,this[X]=r,this[Y]=n},m&&(h(M,z,"_l"),h(D,$,"_b"),h(D,z,"_l"),h(D,W,"_o")),_(D[I],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){var e=d(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=d(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return a(d(this,4,t,arguments[1]))},getUint32:function(t){return a(d(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(d(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(d(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){f(this,1,t,o,e)},setUint8:function(t,e){f(this,1,t,o,e)},setInt16:function(t,e){f(this,2,t,s,e,arguments[2])},setUint16:function(t,e){f(this,2,t,s,e,arguments[2])},setInt32:function(t,e){f(this,4,t,u,e,arguments[2])},setUint32:function(t,e){f(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){f(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){f(this,8,t,c,e,arguments[2])}});A(M,O),A(D,P),y(D[I],g.VIEW,!0),e[O]=M,e[P]=D},function(t,e,n){var i=n(66),r=n(65);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(36);i(i.G+i.W+i.F*!n(252).ABV,{DataView:n(253).DataView})},function(t,e,n){n(257)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){"use strict";if(n(34)){var i=n(56),r=n(32),a=n(35),o=n(36),s=n(252),u=n(253),c=n(48),l=n(234),h=n(45),d=n(38),f=n(242),p=n(66),m=n(65),v=n(254),g=n(67),y=n(44),_=n(33),b=n(102),w=n(41),T=n(85),S=n(191),E=n(73),k=n(86),x=n(77).f,C=n(193),A=n(47),O=n(53),P=n(201),I=n(64),L=n(236),M=n(222),D=n(157),R=n(194),N=n(221),U=n(217),j=n(214),B=n(39),F=n(78),H=B.f,q=F.f,V=r.RangeError,$=r.TypeError,z=r.Uint8Array,W="ArrayBuffer",G="Shared"+W,Y="BYTES_PER_ELEMENT",X="prototype",K=Array[X],Q=u.ArrayBuffer,J=u.DataView,Z=P(0),tt=P(2),et=P(3),nt=P(4),it=P(5),rt=P(6),at=I(!0),ot=I(!1),st=M.values,ut=M.keys,ct=M.entries,lt=K.lastIndexOf,ht=K.reduce,dt=K.reduceRight,ft=K.join,pt=K.sort,mt=K.slice,vt=K.toString,gt=K.toLocaleString,yt=O("iterator"),_t=O("toStringTag"),bt=A("typed_constructor"),wt=A("def_constructor"),Tt=s.CONSTR,St=s.TYPED,Et=s.VIEW,kt="Wrong length!",xt=P(1,function(t,e){return It(L(t,t[wt]),e)}),Ct=a(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),At=!!z&&!!z[X].set&&a(function(){new z(1).set({})}),Ot=function(t,e){var n=p(t);if(n<0||n%e)throw V("Wrong offset!");return n},Pt=function(t){if(w(t)&&St in t)return t;throw $(t+" is not a typed array!")},It=function(t,e){if(!(w(t)&&bt in t))throw $("It is not a typed array constructor!");return new t(e)},Lt=function(t,e){return Mt(L(t,t[wt]),e)},Mt=function(t,e){for(var n=0,i=e.length,r=It(t,i);i>n;)r[n]=e[n++];return r},Dt=function(t,e,n){H(t,e,{get:function(){return this._d[n]}})},Rt=function(t){var e,n,i,r,a,o,s=T(t),u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,d=C(s);if(void 0!=d&&!S(d)){for(o=d.call(s),i=[],e=0;!(a=o.next()).done;e++)i.push(a.value);s=i}for(h&&u>2&&(l=c(l,arguments[2],2)),e=0,n=m(s.length),r=It(this,n);n>e;e++)r[e]=h?l(s[e],e):s[e];return r},Nt=function(){for(var t=0,e=arguments.length,n=It(this,e);e>t;)n[t]=arguments[t++];return n},Ut=!!z&&a(function(){gt.call(new z(1))}),jt=function(){return gt.apply(Ut?mt.call(Pt(this)):Pt(this),arguments)},Bt={copyWithin:function(t,e){return j.call(Pt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return U.apply(Pt(this),arguments)},filter:function(t){return Lt(this,tt(Pt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return it(Pt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Pt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Pt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(Pt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ft.apply(Pt(this),arguments)},lastIndexOf:function(t){return lt.apply(Pt(this),arguments)},map:function(t){return xt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ht.apply(Pt(this),arguments)},reduceRight:function(t){return dt.apply(Pt(this),arguments)},reverse:function(){for(var t,e=this,n=Pt(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return et(Pt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Pt(this),t)},subarray:function(t,e){var n=Pt(this),i=n.length,r=g(t,i);return new(L(n,n[wt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,m((void 0===e?i:g(e,i))-r))}},Ft=function(t,e){return Lt(this,mt.call(Pt(this),t,e))},Ht=function(t){Pt(this);var e=Ot(arguments[1],1),n=this.length,i=T(t),r=m(i.length),a=0;if(r+e>n)throw V(kt);for(;a<r;)this[e+a]=i[a++]},qt={entries:function(){return ct.call(Pt(this))},keys:function(){return ut.call(Pt(this))},values:function(){return st.call(Pt(this))}},Vt=function(t,e){return w(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},$t=function(t,e){return Vt(t,e=y(e,!0))?h(2,t[e]):q(t,e)},zt=function(t,e,n){return!(Vt(t,e=y(e,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?H(t,e,n):(t[e]=n.value,t)};Tt||(F.f=$t,B.f=zt),o(o.S+o.F*!Tt,"Object",{getOwnPropertyDescriptor:$t,defineProperty:zt}),a(function(){vt.call({})})&&(vt=gt=function(){return ft.call(this)});var Wt=f({},Bt);f(Wt,qt),d(Wt,yt,qt.values),f(Wt,{slice:Ft,set:Ht,constructor:function(){},toString:vt,toLocaleString:jt}),Dt(Wt,"buffer","b"),Dt(Wt,"byteOffset","o"),Dt(Wt,"byteLength","l"),Dt(Wt,"length","e"),H(Wt,_t,{get:function(){return this[St]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,f="set"+t,p=r[c],g=p||{},y=p&&k(p),_=!p||!s.ABV,T={},S=p&&p[X],C=function(t,n){var i=t._d;return i.v[h](n*e+i.o,Ct)},A=function(t,n,i){var r=t._d;u&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[f](n*e+r.o,i,Ct)},O=function(t,e){H(t,e,{get:function(){return C(this,e)},set:function(t){return A(this,e,t)},enumerable:!0})};_?(p=n(function(t,n,i,r){l(t,p,c,"_d");var a,o,s,u,h=0,f=0;if(w(n)){if(!(n instanceof Q||(u=b(n))==W||u==G))return St in n?Mt(p,n):Rt.call(p,n);a=n,f=Ot(i,e);var g=n.byteLength;if(void 0===r){if(g%e)throw V(kt);if((o=g-f)<0)throw V(kt)}else if((o=m(r)*e)+f>g)throw V(kt);s=o/e}else s=v(n),a=new Q(o=s*e);for(d(t,"_d",{b:a,o:f,l:o,e:s,v:new J(a)});h<s;)O(t,h++)}),S=p[X]=E(Wt),d(S,"constructor",p)):a(function(){p(1)})&&a(function(){new p(-1)})&&R(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,i,r){var a;return l(t,p,c),w(n)?n instanceof Q||(a=b(n))==W||a==G?void 0!==r?new g(n,Ot(i,e),r):void 0!==i?new g(n,Ot(i,e)):new g(n):St in n?Mt(p,n):Rt.call(p,n):new g(v(n))}),Z(y!==Function.prototype?x(g).concat(x(y)):x(g),function(t){t in p||d(p,t,g[t])}),p[X]=S,i||(S.constructor=p));var P=S[yt],I=!!P&&("values"==P.name||void 0==P.name),L=qt.values;d(p,bt,!0),d(S,St,c),d(S,Et,!0),d(S,wt,p),(u?new p(1)[_t]==c:_t in S)||H(S,_t,{get:function(){return c}}),T[c]=p,o(o.G+o.W+o.F*(p!=g),T),o(o.S,c,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*a(function(){g.of.call(p,1)}),c,{from:Rt,of:Nt}),Y in S||d(S,Y,e),o(o.P,c,Bt),N(c),o(o.P+o.F*At,c,{set:Ht}),o(o.P+o.F*!I,c,qt),i||S.toString==vt||(S.toString=vt),o(o.P+o.F*a(function(){new p(1).slice()}),c,{slice:Ft}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!a(function(){S.toLocaleString.call([1,2])})),c,{toLocaleString:jt}),D[c]=I?P:L,i||I||d(S,yt,L)}}else t.exports=function(){}},function(t,e,n){n(257)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(257)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){n(257)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(257)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(257)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(257)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(257)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(257)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(36),r=n(49),a=n(40),o=(n(32).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(35)(function(){o(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),u=a(n);return o?o(i,e,u):s.call(i,e,u)}})},function(t,e,n){var i=n(36),r=n(73),a=n(49),o=n(40),s=n(41),u=n(35),c=n(104),l=(n(32).Reflect||{}).construct,h=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),d=!u(function(){l(function(){})});i(i.S+i.F*(h||d),"Reflect",{construct:function(t,e){a(t),o(e);var n=arguments.length<3?t:a(arguments[2]);if(d&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var u=n.prototype,f=r(s(u)?u:Object.prototype),p=Function.apply.call(t,f,e);return s(p)?p:f}})},function(t,e,n){var i=n(39),r=n(36),a=n(40),o=n(44);r(r.S+r.F*n(35)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){a(t),e=o(e,!0),a(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(36),r=n(78).f,a=n(40);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(a(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(36),r=n(40),a=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(158)(a,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new a(t)}})},function(t,e,n){var i=n(78),r=n(86),a=n(33),o=n(36),s=n(41),u=n(40);o(o.S,"Reflect",{get:function t(e,n){var o,c,l=arguments.length<3?e:arguments[2];return u(e)===l?e[n]:(o=i.f(e,n))?a(o,"value")?o.value:void 0!==o.get?o.get.call(l):void 0:s(c=r(e))?t(c,n,l):void 0}})},function(t,e,n){var i=n(78),r=n(36),a=n(40);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(a(t),e)}})},function(t,e,n){var i=n(36),r=n(86),a=n(40);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(a(t))}})},function(t,e,n){var i=n(36);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(36),r=n(40),a=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!a||a(t)}})},function(t,e,n){var i=n(36);i(i.S,"Reflect",{ownKeys:n(277)})},function(t,e,n){var i=n(77),r=n(70),a=n(40),o=n(32).Reflect;t.exports=o&&o.ownKeys||function(t){var e=i.f(a(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(36),r=n(40),a=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return a&&a(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(39),r=n(78),a=n(86),o=n(33),s=n(36),u=n(45),c=n(40),l=n(41);s(s.S,"Reflect",{set:function t(e,n,s){var h,d,f=arguments.length<4?e:arguments[3],p=r.f(c(e),n);if(!p){if(l(d=a(e)))return t(d,n,s,f);p=u(0)}return o(p,"value")?!(!1===p.writable||!l(f)||(h=r.f(f,n)||u(0),h.value=s,i.f(f,n,h),0)):void 0!==p.set&&(p.set.call(f,s),!0)}})},function(t,e,n){var i=n(36),r=n(100);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var i=n(36),r=n(64)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(215)("includes")},function(t,e,n){"use strict";var i=n(36),r=n(283),a=n(85),o=n(65),s=n(49),u=n(202);i(i.P,"Array",{flatMap:function(t){var e,n,i=a(this);return s(t),e=o(i.length),n=u(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(215)("flatMap")},function(t,e,n){"use strict";var i=n(72),r=n(41),a=n(65),o=n(48),s=n(53)("isConcatSpreadable");t.exports=function t(e,n,u,c,l,h,d,f){for(var p,m,v=l,g=0,y=!!d&&o(d,f,3);g<c;){if(g in u){if(p=y?y(u[g],g,n):u[g],m=!1,r(p)&&(m=void 0!==(m=p[s])?!!m:i(p)),m&&h>0)v=t(e,n,p,a(p.length),v,h-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=p}v++}g++}return v}},function(t,e,n){"use strict";var i=n(36),r=n(283),a=n(85),o=n(65),s=n(66),u=n(202);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=a(this),n=o(e.length),i=u(e,0);return r(i,e,e,n,0,void 0===t?1:s(t)),i}}),n(215)("flatten")},function(t,e,n){"use strict";var i=n(36),r=n(155)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(36),r=n(287),a=n(288);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){var i=n(65),r=n(118),a=n(63);t.exports=function(t,e,n,o){var s=String(a(t)),u=s.length,c=void 0===n?" ":String(n),l=i(e);if(l<=u||""==c)return s;var h=l-u,d=r.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),o?d+s:s+d}},function(t,e,n){var i=n(32).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var i=n(36),r=n(287),a=n(288);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(110)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(110)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var i=n(36),r=n(63),a=n(65),o=n(162),s=n(225),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(158)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(r(this),!o(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=a(t.lastIndex),new c(i,e)}})},function(t,e,n){n(55)("asyncIterator")},function(t,e,n){n(55)("observable")},function(t,e,n){var i=n(36),r=n(277),a=n(60),o=n(78),s=n(192);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=a(t),u=o.f,c=r(i),l={},h=0;c.length>h;)void 0!==(n=u(i,e=c[h++]))&&s(l,e,n);return l}})},function(t,e,n){var i=n(36),r=n(297)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var i=n(58),r=n(60),a=n(71).f;t.exports=function(t){return function(e){for(var n,o=r(e),s=i(o),u=s.length,c=0,l=[];u>c;)a.call(o,n=s[c++])&&l.push(t?[n,o[n]]:o[n]);return l}}},function(t,e,n){var i=n(36),r=n(297)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";var i=n(36),r=n(85),a=n(49),o=n(39);n(34)&&i(i.P+n(300),"Object",{__defineGetter__:function(t,e){o.f(r(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";t.exports=n(56)||!n(35)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(32)[t]})},function(t,e,n){"use strict";var i=n(36),r=n(85),a=n(49),o=n(39);n(34)&&i(i.P+n(300),"Object",{__defineSetter__:function(t,e){o.f(r(this),t,{set:a(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(36),r=n(85),a=n(44),o=n(86),s=n(78).f;n(34)&&i(i.P+n(300),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=a(t,!0);do{if(e=s(n,i))return e.get}while(n=o(n))}})},function(t,e,n){"use strict";var i=n(36),r=n(85),a=n(44),o=n(86),s=n(78).f;n(34)&&i(i.P+n(300),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=a(t,!0);do{if(e=s(n,i))return e.set}while(n=o(n))}})},function(t,e,n){var i=n(36);i(i.P+i.R,"Map",{toJSON:n(305)("Map")})},function(t,e,n){var i=n(102),r=n(306);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(235);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){var i=n(36);i(i.P+i.R,"Set",{toJSON:n(305)("Set")})},function(t,e,n){n(309)("Map")},function(t,e,n){"use strict";var i=n(36);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(309)("Set")},function(t,e,n){n(309)("WeakMap")},function(t,e,n){n(309)("WeakSet")},function(t,e,n){n(314)("Map")},function(t,e,n){"use strict";var i=n(36),r=n(49),a=n(48),o=n(235);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,u=arguments[1];return r(this),(e=void 0!==u)&&r(u),void 0==t?new this:(n=[],e?(i=0,s=a(u,arguments[2],2),o(t,!1,function(t){n.push(s(t,i++))})):o(t,!1,n.push,n),new this(n))}})}},function(t,e,n){n(314)("Set")},function(t,e,n){n(314)("WeakMap")},function(t,e,n){n(314)("WeakSet")},function(t,e,n){var i=n(36);i(i.G,{global:n(32)})},function(t,e,n){var i=n(36);i(i.S,"System",{global:n(32)})},function(t,e,n){var i=n(36),r=n(62);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var i=n(36);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var i=n(36);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(36),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},function(t,e,n){var i=n(36),r=n(325),a=n(141);i(i.S,"Math",{fscale:function(t,e,n,i,o){return a(r(t,e,n,i,o))}})},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e,n){var i=n(36);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,a=n>>>0;return(e>>>0)+(i>>>0)+((r&a|(r|a)&~(r+a>>>0))>>>31)|0}})},function(t,e,n){var i=n(36);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,a=n>>>0;return(e>>>0)-(i>>>0)-((~r&a|~(r^a)&r-a>>>0)>>>31)|0}})},function(t,e,n){var i=n(36);i(i.S,"Math",{imulh:function(t,e){var n=65535,i=+t,r=+e,a=i&n,o=r&n,s=i>>16,u=r>>16,c=(s*o>>>0)+(a*o>>>16);return s*u+(c>>16)+((a*u>>>0)+(c&n)>>16)}})},function(t,e,n){var i=n(36);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(36),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},function(t,e,n){var i=n(36);i(i.S,"Math",{scale:n(325)})},function(t,e,n){var i=n(36);i(i.S,"Math",{umulh:function(t,e){var n=65535,i=+t,r=+e,a=i&n,o=r&n,s=i>>>16,u=r>>>16,c=(s*o>>>0)+(a*o>>>16);return s*u+(c>>>16)+((a*u>>>0)+(c&n)>>>16)}})},function(t,e,n){var i=n(36);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var i=n(36),r=n(37),a=n(32),o=n(236),s=n(241);i(i.P+i.R,"Promise",{finally:function(t){var e=o(this,r.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(36),r=n(239),a=n(240);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=a(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var i=n(337),r=n(40),a=i.key,o=i.set;i.exp({defineMetadata:function(t,e,n,i){o(t,e,r(n),a(i))}})},function(t,e,n){var i=n(243),r=n(36),a=n(51)("metadata"),o=a.store||(a.store=new(n(248))),s=function(t,e,n){var r=o.get(t);if(!r){if(!n)return;o.set(t,r=new i)}var a=r.get(e);if(!a){if(!n)return;r.set(e,a=new i)}return a};t.exports={store:o,map:s,has:function(t,e,n){var i=s(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=s(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){s(n,i,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e,n){var i=n(337),r=n(40),a=i.key,o=i.map,s=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:a(arguments[2]),i=o(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var i=n(337),r=n(40),a=n(86),o=i.has,s=i.get,u=i.key,c=function(t,e,n){if(o(t,e,n))return s(t,e,n);var i=a(e);return null!==i?c(t,i,n):void 0};i.exp({getMetadata:function(t,e){return c(t,r(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var i=n(247),r=n(306),a=n(337),o=n(40),s=n(86),u=a.keys,c=a.key,l=function(t,e){var n=u(t,e),a=s(t);if(null===a)return n;var o=l(a,e);return o.length?n.length?r(new i(n.concat(o))):o:n};a.exp({getMetadataKeys:function(t){return l(o(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var i=n(337),r=n(40),a=i.get,o=i.key;i.exp({getOwnMetadata:function(t,e){return a(t,r(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,n){var i=n(337),r=n(40),a=i.keys,o=i.key;i.exp({getOwnMetadataKeys:function(t){return a(r(t),arguments.length<2?void 0:o(arguments[1]))}})},function(t,e,n){var i=n(337),r=n(40),a=n(86),o=i.has,s=i.key,u=function(t,e,n){if(o(t,e,n))return!0;var i=a(e);return null!==i&&u(t,i,n)};i.exp({hasMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(337),r=n(40),a=i.has,o=i.key;i.exp({hasOwnMetadata:function(t,e){return a(t,r(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,n){var i=n(337),r=n(40),a=n(49),o=i.key,s=i.set;i.exp({metadata:function(t,e){return function(n,i){s(t,e,(void 0!==i?r:a)(n),o(i))}}})},function(t,e,n){var i=n(36),r=n(238)(),a=n(32).process,o="process"==n(62)(a);i(i.G,{asap:function(t){var e=o&&a.domain;r(e?e.bind(t):t)}})},function(t,e,n){"use strict";var i=n(36),r=n(32),a=n(37),o=n(238)(),s=n(53)("observable"),u=n(49),c=n(40),l=n(234),h=n(242),d=n(38),f=n(235),p=f.RETURN,m=function(t){return null==t?void 0:u(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},y=function(t){g(t)||(t._o=void 0,v(t))},_=function(t,e){c(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}g(this)&&v(this)};_.prototype=h({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!g(e)){var n=e._o;try{var i=m(n.next);if(i)return i.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(g(e))throw t;var n=e._o;e._o=void 0;try{var i=m(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{v(e)}finally{throw t}}return v(e),t},complete:function(t){var e=this._s;if(!g(e)){var n=e._o;e._o=void 0;try{var i=m(n.complete);t=i?i.call(n,t):void 0}catch(t){try{v(e)}finally{throw t}}return v(e),t}}});var w=function(t){l(this,w,"Observable","_f")._f=u(t)};h(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(a.Promise||r.Promise)(function(n,i){u(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})})}}),h(w,{from:function(t){var e="function"==typeof this?this:w,n=m(c(t)[s]);if(n){var i=c(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return o(function(){if(!n){try{if(f(t,!1,function(t){if(e.next(t),n)return p})===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return o(function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}}),function(){e=!0}})}}),d(w.prototype,s,function(){return this}),i(i.G,{Observable:w}),n(221)("Observable")},function(t,e,n){var i=n(32),r=n(36),a=n(288),o=[].slice,s=/MSIE .\./.test(a),u=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&o.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*s,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},function(t,e,n){var i=n(36),r=n(237);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){for(var i=n(222),r=n(58),a=n(46),o=n(32),s=n(38),u=n(157),c=n(53),l=c("iterator"),h=c("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),m=0;m<p.length;m++){var v,g=p[m],y=f[g],_=o[g],b=_&&_.prototype;if(b&&(b[l]||s(b,l,d),b[h]||s(b,h,g),u[g]=d,y))for(v in i)b[v]||a(b,v,i[v],!0)}},function(t,e){(function(e){!function(e){"use strict";function n(t,e,n,i){var a=e&&e.prototype instanceof r?e:r,o=Object.create(a.prototype),s=new f(i||[]);return o._invoke=c(t,n,s),o}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function a(){}function o(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(e,r,a,o){var s=i(t[e],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,a,o)},function(t){n("throw",t,a,o)}):Promise.resolve(c).then(function(t){u.value=t,a(u)},o)}o(s.arg)}var r;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise(function(i,r){n(t,e,i,r)})}return r=r?r.then(i,i):i()}}function c(t,e,n){var r=k;return function(a,o){if(r===C)throw new Error("Generator is already running");if(r===A){if("throw"===a)throw o;return m()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===O)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===k)throw r=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=C;var c=i(t,e,n);if("normal"===c.type){if(r=n.done?A:x,c.arg===O)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=A,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,l(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,O;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,O):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return i.next=i}}return{next:m}}function m(){return{value:v,done:!0}}var v,g=Object.prototype,y=g.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",T=_.toStringTag||"@@toStringTag",S="object"==typeof t,E=e.regeneratorRuntime;if(E)S&&(t.exports=E);else{(E=e.regeneratorRuntime=S?t.exports:{}).wrap=n;var k="suspendedStart",x="suspendedYield",C="executing",A="completed",O={},P={};P[b]=function(){return this};var I=Object.getPrototypeOf,L=I&&I(I(p([])));L&&L!==g&&y.call(L,b)&&(P=L);var M=o.prototype=r.prototype=Object.create(P);a.prototype=M.constructor=o,o.constructor=a,o[T]=a.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,T in t||(t[T]="GeneratorFunction")),t.prototype=Object.create(M),t},E.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},E.AsyncIterator=u,E.async=function(t,e,i,r){var a=new u(n(t,e,i,r));return E.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},s(M),M[T]="Generator",M[b]=function(){return this},M.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},E.values=p,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,i){return a.type="throw",a.arg=t,n.next=e,i&&(n.method="next",n.arg=v),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var o=y.call(r,"catchLoc"),s=y.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&y.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,O):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),d(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;d(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),O}}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}())},function(t,e,n){n(353),t.exports=n(37).RegExp.escape},function(t,e,n){var i=n(36),r=n(354)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={props:{autoplay:{type:Boolean,default:!1},autoplayTimeout:{type:Number,default:2e3},autoplayHoverPause:{type:Boolean,default:!0}},data:function(){return{autoplayInterval:null}},destroyed:function(){this.$isServer||(this.$el.removeEventListener("mouseenter",this.pauseAutoplay),this.$el.removeEventListener("mouseleave",this.startAutoplay))},methods:{pauseAutoplay:function(){this.autoplayInterval&&(this.autoplayInterval=clearInterval(this.autoplayInterval))},startAutoplay:function(){this.autoplay&&(this.autoplayInterval=setInterval(this.advancePage,this.autoplayTimeout))},restartAutoplay:function(){this.pauseAutoplay(),this.startAutoplay()}},mounted:function(){!this.$isServer&&this.autoplayHoverPause&&(this.$el.addEventListener("mouseenter",this.pauseAutoplay),this.$el.addEventListener("mouseleave",this.startAutoplay)),this.startAutoplay()}};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){var i=void 0;return function(){var r=void 0,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r)},e),a&&t.apply(r)}}},function(t,e,n){var i=n(7)(n(360),n(361),function(t){n(358)},"data-v-7fed18e9",null);t.exports=i.exports},function(t,e,n){var i=n(359);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),n(5)("a1957e6c",i,!0,{})},function(t,e,n){(t.exports=n(4)()).push([t.id,'.VueCarousel-navigation-button[data-v-7fed18e9]{position:absolute;top:50%;box-sizing:border-box;color:#000;text-decoration:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background-color:transparent;padding:0;cursor:pointer;outline:none}.VueCarousel-navigation-next[data-v-7fed18e9]{right:0;transform:translateY(-50%) translateX(100%);font-family:system}.VueCarousel-navigation-prev[data-v-7fed18e9]{left:0;transform:translateY(-50%) translateX(-100%);font-family:system}.VueCarousel-navigation--disabled[data-v-7fed18e9]{opacity:.5;cursor:default}@font-face{font-family:system;font-style:normal;font-weight:300;src:local(".SFNSText-Light"),local(".HelveticaNeueDeskInterface-Light"),local(".LucidaGrandeUI"),local("Ubuntu Light"),local("Segoe UI Symbol"),local("Roboto-Light"),local("DroidSans"),local("Tahoma")}',""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"navigation",inject:["carousel"],props:{clickTargetSize:{type:Number,default:8},nextLabel:{type:String,default:"&#9654"},prevLabel:{type:String,default:"&#9664"}},computed:{canAdvanceForward:function(){return this.carousel.canAdvanceForward||!1},canAdvanceBackward:function(){return this.carousel.canAdvanceBackward||!1}},methods:{triggerPageAdvance:function(t){this.$emit("navigationclick",t)}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"VueCarousel-navigation"},[n("button",{staticClass:"VueCarousel-navigation-button VueCarousel-navigation-prev",class:{"VueCarousel-navigation--disabled":!t.canAdvanceBackward},style:"padding: "+t.clickTargetSize+"px; margin-right: -"+t.clickTargetSize+"px;",attrs:{type:"button","aria-label":"Previous page",role:"button"},domProps:{innerHTML:t._s(t.prevLabel)},on:{click:function(e){e.preventDefault(),t.triggerPageAdvance("backward")}}}),t._v(" "),n("button",{staticClass:"VueCarousel-navigation-button VueCarousel-navigation-next",class:{"VueCarousel-navigation--disabled":!t.canAdvanceForward},style:"padding: "+t.clickTargetSize+"px; margin-left: -"+t.clickTargetSize+"px;",attrs:{type:"button","aria-label":"Next page",role:"button"},domProps:{innerHTML:t._s(t.nextLabel)},on:{click:function(e){e.preventDefault(),t.triggerPageAdvance()}}})])},staticRenderFns:[]}},function(t,e,n){var i=n(7)(n(365),n(366),function(t){n(363)},"data-v-7e42136f",null);t.exports=i.exports},function(t,e,n){var i=n(364);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),n(5)("3ea8dd5f",i,!0,{})},function(t,e,n){(t.exports=n(4)()).push([t.id,".VueCarousel-pagination[data-v-7e42136f]{width:100%;text-align:center}.VueCarousel-dot-container[data-v-7e42136f]{display:inline-block;margin:0 auto;padding:0}.VueCarousel-dot[data-v-7e42136f]{display:inline-block;cursor:pointer}.VueCarousel-dot-button[data-v-7e42136f]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background-color:transparent;padding:0;border-radius:100%;outline:none;cursor:pointer}.VueCarousel-dot-button[data-v-7e42136f]:focus{outline:1px solid #add8e6}",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pagination",inject:["carousel"],computed:{pagniationCount:function(){return this.carousel.scrollPerPage?this.carousel.pageCount:this.carousel.slideCount-2}},methods:{goToPage:function(t){this.$emit("paginationclick",t)},isCurrentDot:function(t){return t===this.carousel.currentPage}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.carousel.pageCount>1,expression:"carousel.pageCount > 1"}],staticClass:"VueCarousel-pagination"},[n("ul",{staticClass:"VueCarousel-dot-container",attrs:{role:"tablist"}},t._l(t.pagniationCount,function(e,i){return n("li",{key:e+"_"+i,staticClass:"VueCarousel-dot",class:{"VueCarousel-dot--active":t.isCurrentDot(i)},style:"\n        margin-top: "+2*t.carousel.paginationPadding+"px;\n        padding: "+t.carousel.paginationPadding+"px;\n      ",attrs:{"aria-hidden":"false",role:"presentation","aria-selected":t.isCurrentDot(i)?"true":"false"},on:{click:function(e){t.goToPage(i)}}},[n("button",{staticClass:"VueCarousel-dot-button",style:"\n          width: "+t.carousel.paginationSize+"px;\n          height: "+t.carousel.paginationSize+"px;\n          background: "+(t.isCurrentDot(i)?t.carousel.paginationActiveColor:t.carousel.paginationColor)+";\n        ",attrs:{type:"button",role:"button",tabindex:i}})])}))])},staticRenderFns:[]}},function(t,e,n){var i=n(7)(n(370),n(393),function(t){n(368)},null,null);t.exports=i.exports},function(t,e,n){var i=n(369);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),n(5)("e8ab14d8",i,!0,{})},function(t,e,n){(t.exports=n(4)()).push([t.id,".VueCarousel-slide{-ms-flex-preferred-size:inherit;flex-basis:inherit;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-touch-callout:none;outline:none}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(371));e.default={name:"slide",data:function(){return{width:null}},inject:["carousel"],mounted:function(){this.$isServer||this.$el.addEventListener("dragstart",function(t){return t.preventDefault()}),this.$el.addEventListener(this.carousel.isTouch?"touchend":"mouseup",this.onTouchEnd)},computed:{activeSlides:function(){for(var t=this.carousel,e=t.currentPage,n=t.perPage,i=t.$children,r=(t.slideCount,[]),a=i.filter(function(t){return t.$el&&t.$el.className.indexOf("VueCarousel-slide")>=0}).map(function(t){return t._uid}),o=0;o<n;){var s=a[e*n+o];r.push(s),o++}return r},isActive:function(){return this.activeSlides.indexOf(this._uid)>=0},isCenter:function(){var t=this.carousel.perPage;return!(t%2==0||!this.isActive)&&this.activeSlides.indexOf(this._uid)===Math.floor(t/2)}},methods:{onTouchEnd:function(t){var e=this.carousel.isTouch&&t.changedTouches&&t.changedTouches.length>0?t.changedTouches[0].clientX:t.clientX,n=this.carousel.dragStartX-e;(0===this.carousel.minSwipeDistance||Math.abs(n)<this.carousel.minSwipeDistance)&&this.$emit("slideClick",(0,i.default)({},t.currentTarget.dataset))}}}},function(t,e,n){t.exports={default:n(372),__esModule:!0}},function(t,e,n){n(373),t.exports=n(14).Object.assign},function(t,e,n){var i=n(12);i(i.S+i.F,"Object",{assign:n(374)})},function(t,e,n){"use strict";var i=n(375),r=n(390),a=n(391),o=n(392),s=n(378),u=Object.assign;t.exports=!u||n(23)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=o(t),u=arguments.length,c=1,l=r.f,h=a.f;u>c;)for(var d,f=s(arguments[c++]),p=l?i(f).concat(l(f)):i(f),m=p.length,v=0;m>v;)h.call(f,d=p[v++])&&(n[d]=f[d]);return n}:u},function(t,e,n){var i=n(376),r=n(389);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(27),r=n(377),a=n(381)(!1),o=n(385)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=o&&i(s,n)&&c.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var i=n(378),r=n(380);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(379);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(377),r=n(382),a=n(384);t.exports=function(t){return function(e,n,o){var s,u=i(e),c=r(u.length),l=a(o,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(383),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(383),r=Math.max,a=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):a(t,e)}},function(t,e,n){var i=n(386)("keys"),r=n(388);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(14),r=n(13),a="__core-js_shared__",o=r[a]||(r[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(387)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(380);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"VueCarousel-slide",class:{"VueCarousel-slide-active":t.isActive,"VueCarousel-slide-center":t.isCenter},attrs:{tabindex:"-1"}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"VueCarousel"},[n("div",{ref:"VueCarousel-wrapper",staticClass:"VueCarousel-wrapper"},[n("div",{ref:"VueCarousel-inner",staticClass:"VueCarousel-inner",style:{transform:"translate("+t.currentOffset+"px, 0)",transition:t.dragging?"none":t.transitionStyle,"ms-flex-preferred-size":t.slideWidth+"px","webkit-flex-basis":t.slideWidth+"px","flex-basis":t.slideWidth+"px",visibility:t.slideWidth?"visible":"hidden","padding-left":t.padding+"px","padding-right":t.padding+"px"},attrs:{role:"listbox"}},[t._t("default")],2)]),t._v(" "),t.paginationEnabled&&t.pageCount>0?n("pagination",{on:{paginationclick:function(e){t.goToPage(e,"pagination")}}}):t._e(),t._v(" "),t.navigationEnabled?n("navigation",{attrs:{clickTargetSize:t.navigationClickTargetSize,nextLabel:t.navigationNextLabel,prevLabel:t.navigationPrevLabel},on:{navigationclick:t.handleNavigation}}):t._e()],1)},staticRenderFns:[]}}])},t.exports=i()},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"courses-wrap"},[n("div",{staticClass:"courses-video-list-col"},[n("ul",{staticClass:"tab-head"},[n("li",[n("a",{class:{active:"new"==t.tab},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.tab="new"}}},[t._v("New")])]),t._v(" "),n("li",[n("a",{class:{active:"popular"==t.tab},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.tab="popular"}}},[t._v("Popular")])]),t._v(" "),n("li",[n("a",{class:{active:"top"==t.tab},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.tab="top"}}},[t._v("Topchart")])])]),t._v(" "),n("div",{staticClass:"tab-content"},[n("div",{staticClass:"tab-body",class:{active:"new"==t.tab}},t._l(t.newCourses,function(t){return n("course-tile",{key:t.id,attrs:{course:t}})})),t._v(" "),n("div",{staticClass:"tab-body",class:{active:"popular"==t.tab}},t._l(t.popCourses,function(t){return n("course-tile",{key:t.id,attrs:{course:t}})})),t._v(" "),n("div",{staticClass:"tab-body",class:{active:"top"==t.tab}},t._l(t.topCourses,function(t){return n("course-tile",{key:t.id,attrs:{course:t}})}))])]),t._v(" "),n("div",{staticClass:"courses-slider-col"},[t.conCourses.length?n("div",[n("h2",{staticClass:"courses-slider-title"},[t._v("Continue Courses")]),t._v(" "),n("div",{staticClass:"courses-slider"},[n("carousel",{staticClass:"owl-carousel owl-theme",class:{thumb1:1==t.conCourses.length,thumb2:2==t.conCourses.length},attrs:{navigationEnabled:!0,paginationEnabled:!1,perPage:3,navigationPrevLabel:"",navigationNextLabel:""}},t._l(t.conCourses,function(t,e){return n("slide",{key:t.id,attrs:{index:e}},[n("course-thumb",{attrs:{index:e,course:t}})],1)}))],1)]):t._e(),t._v(" "),t.assCourses.length?n("div",[n("h2",{staticClass:"courses-slider-title"},[t._v("Assigned playlist")]),t._v(" "),n("div",{staticClass:"courses-slider"},[n("carousel",{staticClass:"owl-carousel owl-theme",class:{thumb1:1==t.assCourses.length,thumb2:2==t.assCourses.length},attrs:{navigationEnabled:!0,paginationEnabled:!1,perPage:3,navigationPrevLabel:"",navigationNextLabel:""}},t._l(t.assCourses,function(t,e){return n("slide",{key:t.id,attrs:{index:e}},[n("course-thumb",{attrs:{index:e,course:t}})],1)}))],1)]):t._e(),t._v(" "),t.favCourses.length?n("div",[n("h2",{staticClass:"courses-slider-title"},[t._v("My playlist")]),t._v(" "),n("div",{staticClass:"courses-slider"},[n("carousel",{staticClass:"owl-carousel owl-theme",class:{thumb1:1==t.favCourses.length,thumb2:2==t.favCourses.length},attrs:{navigationEnabled:!0,paginationEnabled:!1,perPage:3,navigationPrevLabel:"",navigationNextLabel:""}},t._l(t.favCourses,function(t,e){return n("slide",{key:t.id,attrs:{index:e}},[n("course-thumb",{attrs:{index:e,course:t,listType:"fav"}})],1)}))],1)]):t._e()]),t._v(" "),n("div",{staticClass:"clearfix"})])},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(169),n(170),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tab:"description",course:void 0,courseUser:void 0,showModal:!1}},computed:{duration:function(){var t=this.course.duration[0],e=this.course.duration[1],n=this.course.duration[2],i="";return t&&(i+=t+"d "),e&&(i+=e+"h "),n&&(i+=n+"m"),i}},mounted:function(){this.$route.params.course?(this.course=this.$route.params.course,this.courseUser=this.course.course_users.length?this.course.course_users[0]:void 0):this.loadCourse()},methods:{loadCourse:function(){var t=this;this.$api.get("courses/"+t.$route.params.id).then(function(e){t.course=e.data,t.courseUser=t.course.course_users.length?t.course.course_users[0]:void 0})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.course?n("div",{staticClass:"courses-video-prev-col"},[n("div",{staticClass:"title-bar"},[n("h2",[t._v(t._s(t.course.name))])]),t._v(" "),n("div",{staticClass:"courses-video-prev-tab"},[n("ul",{staticClass:"tab-head"},[n("li",[n("a",{class:{active:"description"==t.tab},attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.tab="description"}}},[t._v("Description")])]),t._v(" "),n("li",[n("a",{class:{active:"others"==t.tab},attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.tab="others"}}},[t._v("Other Info")])])]),t._v(" "),n("div",{staticClass:"tab-content"},[n("div",{staticClass:"tab-body tab1",class:{active:"description"==t.tab}},[n("p",[t._v(t._s(t.course.description))])]),t._v(" "),n("div",{staticClass:"tab-body tab2",class:{active:"others"==t.tab}},[n("ul",[n("li",[t._v("\n            Start Date: "+t._s(t.course.started_at)+"\n          ")]),t._v(" "),n("li",[t._v("\n            End Date: "+t._s(t.course.ended_at)+"\n          ")]),t._v(" "),n("li",[t._v("\n            Duration: "+t._s(t.duration)+"\n          ")])])])])])]):t._e()},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(172),n(173),!1,null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tab:"description",topic:void 0}},mounted:function(){if(this.$route.params.topic)this.topic=this.$route.params.topic;else{var t=this;this.$api.get("topics/"+t.$route.params.topicId).then(function(e){t.topic=e.data})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.topic?n("div",{staticClass:"courses-video-prev-col"},[n("div",{staticClass:"title-bar"},[n("h2",[t._v(t._s(t.topic.name))])]),t._v(" "),n("div",{staticClass:"courses-video-prev-tab"},[n("ul",{staticClass:"tab-head"},[n("li",[n("a",{class:{active:"description"==t.tab},attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.tab="description"}}},[t._v("Description")])]),t._v(" "),n("li",[n("a",{class:{active:"others"==t.tab},attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.tab="others"}}},[t._v("Other Info")])])]),t._v(" "),n("div",{staticClass:"tab-content"},[n("div",{staticClass:"tab-body tab1",class:{active:"description"==t.tab}},[n("p",[t._v(t._s(t.topic.description))])])])])]):t._e()},staticRenderFns:[]}},function(t,e,n){var i=n(0)(n(177),n(178),!1,function(t){n(175)},null,null);t.exports=i.exports},function(t,e,n){var i=n(176);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(3)("17a1c930",i,!0,{})},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".courses-video-prev{height:400px}.courses-video-prev.is-full{height:100vh}.courses-video-prev-col.is-full{width:100vw;margin-top:-67px}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tab:"description",isFull:!1,content:void 0}},mounted:function(){if(this.$route.params.content)this.content=this.$route.params.content;else{var t=this;this.$api.get("contents/"+t.$route.params.contentId).then(function(e){t.content=e.data})}},methods:{toggleFull:function(){this.isFull?this.isFull=!1:this.isFull=!0,this.$store.dispatch("toggleFull",{isFull:this.isFull})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.content?n("div",{staticClass:"courses-video-prev-col",class:{"is-full":t.isFull}},[n("div",{staticClass:"title-bar"},[n("h2",[t._v(t._s(t.content.title)+"\n    "),n("span",{staticClass:"pull-right cursor-pointer full-screen",on:{click:t.toggleFull}},[t.isFull?n("img",{attrs:{src:"/img/minimize.png",alt:""}}):t._e(),t._v(" "),t.isFull?t._e():n("img",{attrs:{src:"/img/maximize.png",alt:""}})])])]),t._v(" "),n("div",{staticClass:"courses-video-prev",class:{"is-full":t.isFull}},[t.content.file&&"pdf"==t.content.file.extension?n("object",{attrs:{data:"/content-files/download/"+t.content.file.id,width:"100%",height:"100%",type:"application/pdf"}}):t._e(),t._v(" "),t.content.file&&"pptx"==t.content.file.extension?n("iframe",{attrs:{data:"/content-files/download/"+t.content.file.id,width:"100%",height:"100%"}}):t._e(),t._v(" "),t.content.file&&"mp4"==t.content.file.extension?n("video",{attrs:{controls:"",src:"/content-files/download/"+t.content.file.id,width:"100%",height:"100%",type:t.content.file.type}}):t._e(),t._v(" "),t.content.file?t._e():n("div",[n("h4",[t._v("A text")])])]),t._v(" "),n("div",{staticClass:"courses-video-prev-tab"},[n("ul",{staticClass:"tab-head"},[n("li",[n("a",{class:{active:"description"==t.tab},attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.tab="description"}}},[t._v("Description")])]),t._v(" "),n("li",[n("a",{class:{active:"exercise"==t.tab},attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.tab="exercise"}}},[t._v("Exercise File")])]),t._v(" "),n("li",[n("a",{class:{active:"faq"==t.tab},attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault(),t.tab="faq"}}},[t._v("FAQ")])])]),t._v(" "),n("div",{staticClass:"tab-content"},[n("div",{staticClass:"tab-body tab1",class:{active:"description"==t.tab}},[n("p",[t._v(t._s(t.content.description))])]),t._v(" "),n("div",{staticClass:"tab-body tab2",class:{active:"exercise"==t.tab}},[n("p")]),t._v(" "),n("div",{staticClass:"tab-body tab3",class:{active:"faq"==t.tab}},[n("p")])])])]):t._e()},staticRenderFns:[]}},function(t,e,n){t.exports=n(180)},function(t,e,n){"use strict";var i=n(1),r=n(25),a=n(182),o=n(15);function s(t){var e=new a(t),n=r(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var u=s(o);u.Axios=a,u.create=function(t){return s(i.merge(o,t))},u.Cancel=n(29),u.CancelToken=n(196),u.isCancel=n(28),u.all=function(t){return Promise.all(t)},u.spread=n(197),t.exports=u,t.exports.default=u},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var i=n(15),r=n(1),a=n(191),o=n(192);function s(t){this.defaults=t,this.interceptors={request:new a,response:new a}}s.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},r.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(27);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},function(t,e,n){"use strict";var i=n(1);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,n){"use strict";var i=n(1),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(i.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){"use strict";var i=n(1);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,a=String(t),o="",s=0,u=i;a.charAt(0|s)||(u="=",s%1);o+=u.charAt(63&e>>8-s%1*8)){if((n=a.charCodeAt(s+=.75))>255)throw new r;e=e<<8|n}return o}},function(t,e,n){"use strict";var i=n(1);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(1);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";var i=n(1),r=n(193),a=n(28),o=n(15),s=n(194),u=n(195);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return c(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(c(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(1);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(29);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e){}]);